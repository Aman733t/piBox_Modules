(self.webpackChunkterminal=self.webpackChunkterminal||[]).push([[513],{8960:(Qe,ke,M)=>{M.d(ke,{q:()=>vm});var c=M(3595),n=M(7970),E=M(3680),l=M(799),d=M(2495),g=M(2831),C=M(2181),p=M(8180),y=M(9773),x=M(9388);class v{attach(s){return this._attachedHost=s,s.attach(this)}detach(){let s=this._attachedHost;null!=s&&(this._attachedHost=null,s.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(s){this._attachedHost=s}}class k extends v{constructor(s,r,e,i,a){super(),this.component=s,this.viewContainerRef=r,this.injector=e,this.componentFactoryResolver=i,this.projectableNodes=a}}class T extends v{constructor(s,r,e,i){super(),this.templateRef=s,this.viewContainerRef=r,this.context=e,this.injector=i}get origin(){return this.templateRef.elementRef}attach(s,r=this.context){return this.context=r,super.attach(s)}detach(){return this.context=void 0,super.detach()}}class O extends v{constructor(s){super(),this.element=s instanceof n.ElementRef?s.nativeElement:s}}class f{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(s){return s instanceof k?(this._attachedPortal=s,this.attachComponentPortal(s)):s instanceof T?(this._attachedPortal=s,this.attachTemplatePortal(s)):this.attachDomPortal&&s instanceof O?(this._attachedPortal=s,this.attachDomPortal(s)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(s){this._disposeFn=s}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class N extends f{constructor(s,r,e,i,a){super(),this.outletElement=s,this._componentFactoryResolver=r,this._appRef=e,this._defaultInjector=i,this.attachDomPortal=_=>{const L=_.element,ae=this._document.createComment("dom-portal");L.parentNode.insertBefore(ae,L),this.outletElement.appendChild(L),this._attachedPortal=_,super.setDisposeFn(()=>{ae.parentNode&&ae.parentNode.replaceChild(L,ae)})},this._document=a}attachComponentPortal(s){const e=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component);let i;return s.viewContainerRef?(i=s.viewContainerRef.createComponent(e,s.viewContainerRef.length,s.injector||s.viewContainerRef.injector,s.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=e.create(s.injector||this._defaultInjector||n.Injector.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=s,i}attachTemplatePortal(s){let r=s.viewContainerRef,e=r.createEmbeddedView(s.templateRef,s.context,{injector:s.injector});return e.rootNodes.forEach(i=>this.outletElement.appendChild(i)),e.detectChanges(),this.setDisposeFn(()=>{let i=r.indexOf(e);-1!==i&&r.remove(i)}),this._attachedPortal=s,e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(s){return s.hostView.rootNodes[0]}}let Re=(()=>{var t;class s extends f{constructor(e,i,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new n.EventEmitter,this.attachDomPortal=_=>{const L=_.element,ae=this._document.createComment("dom-portal");_.setAttachedHost(this),L.parentNode.insertBefore(ae,L),this._getRootNode().appendChild(L),this._attachedPortal=_,super.setDisposeFn(()=>{ae.parentNode&&ae.parentNode.replaceChild(L,ae)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,_=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),L=i.createComponent(_,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(L.hostView.rootNodes[0]),super.setDisposeFn(()=>L.destroy()),this._attachedPortal=e,this._attachedRef=L,this.attached.emit(L),L}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ComponentFactoryResolver),n.\u0275\u0275directiveInject(n.ViewContainerRef),n.\u0275\u0275directiveInject(c.DOCUMENT))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[n.\u0275\u0275InheritDefinitionFeature]}),s})(),Be=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})();var te=M(8645),ue=M(7394),_e=M(3019);const Ve=(0,g.Mq)();class Ke{constructor(s,r){this._viewportRuler=s,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){const s=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=s.style.left||"",this._previousHTMLStyles.top=s.style.top||"",s.style.left=(0,d.HM)(-this._previousScrollPosition.left),s.style.top=(0,d.HM)(-this._previousScrollPosition.top),s.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const s=this._document.documentElement,e=s.style,i=this._document.body.style,a=e.scrollBehavior||"",_=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,s.classList.remove("cdk-global-scrollblock"),Ve&&(e.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ve&&(e.scrollBehavior=a,i.scrollBehavior=_)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const r=this._document.body,e=this._viewportRuler.getViewportSize();return r.scrollHeight>e.height||r.scrollWidth>e.width}}class le{constructor(s,r,e,i){this._scrollDispatcher=s,this._ngZone=r,this._viewportRuler=e,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(s){this._overlayRef=s}enable(){if(this._scrollSubscription)return;const s=this._scrollDispatcher.scrolled(0).pipe((0,C.h)(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=s.subscribe(()=>{const r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=s.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class de{enable(){}disable(){}attach(){}}function j(t,s){return s.some(r=>t.bottom<r.top||t.top>r.bottom||t.right<r.left||t.left>r.right)}function Y(t,s){return s.some(r=>t.top<r.top||t.bottom>r.bottom||t.left<r.left||t.right>r.right)}class B{constructor(s,r,e,i){this._scrollDispatcher=s,this._viewportRuler=r,this._ngZone=e,this._config=i,this._scrollSubscription=null}attach(s){this._overlayRef=s}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();j(r,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let me=(()=>{var t;class s{constructor(e,i,a,_){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=a,this.noop=()=>new de,this.close=L=>new le(this._scrollDispatcher,this._ngZone,this._viewportRuler,L),this.block=()=>new Ke(this._viewportRuler,this._document),this.reposition=L=>new B(this._scrollDispatcher,this._viewportRuler,this._ngZone,L),this._document=_}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(l.mF),n.\u0275\u0275inject(l.rL),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(c.DOCUMENT))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();class Fe{constructor(s){if(this.scrollStrategy=new de,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,s){const r=Object.keys(s);for(const e of r)void 0!==s[e]&&(this[e]=s[e])}}}class Pe{constructor(s,r){this.connectionPair=s,this.scrollableViewProperties=r}}let Ee=(()=>{var t;class s{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(c.DOCUMENT))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),Ze=(()=>{var t;class s extends Ee{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=a=>{const _=this._attachedOverlays;for(let L=_.length-1;L>-1;L--)if(_[L]._keydownEvents.observers.length>0){const ae=_[L]._keydownEvents;this._ngZone?this._ngZone.run(()=>ae.next(a)):ae.next(a);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(c.DOCUMENT),n.\u0275\u0275inject(n.NgZone,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),ot=(()=>{var t;class s extends Ee{constructor(e,i,a){super(e),this._platform=i,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=_=>{this._pointerDownEventTarget=(0,g.sA)(_)},this._clickListener=_=>{const L=(0,g.sA)(_),ae="click"===_.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:L;this._pointerDownEventTarget=null;const Ae=this._attachedOverlays.slice();for(let Ne=Ae.length-1;Ne>-1;Ne--){const qe=Ae[Ne];if(qe._outsidePointerEvents.observers.length<1||!qe.hasAttached())continue;if(qe.overlayElement.contains(L)||qe.overlayElement.contains(ae))break;const st=qe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>st.next(_)):st.next(_)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(c.DOCUMENT),n.\u0275\u0275inject(g.t4),n.\u0275\u0275inject(n.NgZone,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),mt=(()=>{var t;class s{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,g.Oy)()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let _=0;_<a.length;_++)a[_].remove()}const i=this._document.createElement("div");i.classList.add(e),(0,g.Oy)()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(c.DOCUMENT),n.\u0275\u0275inject(g.t4))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();class yt{constructor(s,r,e,i,a,_,L,ae,Ae,Ne=!1){this._portalOutlet=s,this._host=r,this._pane=e,this._config=i,this._ngZone=a,this._keyboardDispatcher=_,this._document=L,this._location=ae,this._outsideClickDispatcher=Ae,this._animationsDisabled=Ne,this._backdropElement=null,this._backdropClick=new te.x,this._attachments=new te.x,this._detachments=new te.x,this._locationChanges=ue.w0.EMPTY,this._backdropClickHandler=qe=>this._backdropClick.next(qe),this._backdropTransitionendHandler=qe=>{this._disposeBackdrop(qe.target)},this._keydownEvents=new te.x,this._outsidePointerEvents=new te.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(s){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const r=this._portalOutlet.attach(s);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,p.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof r?.onDestroy&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const s=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),s}dispose(){const s=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,s&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(s){s!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=s,this.hasAttached()&&(s.attach(this),this.updatePosition()))}updateSize(s){this._config={...this._config,...s},this._updateElementSize()}setDirection(s){this._config={...this._config,direction:s},this._updateElementDirection()}addPanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!0)}removePanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!1)}getDirection(){const s=this._config.direction;return s?"string"==typeof s?s:s.value:"ltr"}updateScrollStrategy(s){s!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=s,this.hasAttached()&&(s.attach(this),s.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const s=this._pane.style;s.width=(0,d.HM)(this._config.width),s.height=(0,d.HM)(this._config.height),s.minWidth=(0,d.HM)(this._config.minWidth),s.minHeight=(0,d.HM)(this._config.minHeight),s.maxWidth=(0,d.HM)(this._config.maxWidth),s.maxHeight=(0,d.HM)(this._config.maxHeight)}_togglePointerEvents(s){this._pane.style.pointerEvents=s?"":"none"}_attachBackdrop(){const s="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(s)})}):this._backdropElement.classList.add(s)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const s=this._backdropElement;if(s){if(this._animationsDisabled)return void this._disposeBackdrop(s);s.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{s.addEventListener("transitionend",this._backdropTransitionendHandler)}),s.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(s)},500))}}_toggleClasses(s,r,e){const i=(0,d.Eq)(r||[]).filter(a=>!!a);i.length&&(e?s.classList.add(...i):s.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const s=this._ngZone.onStable.pipe((0,y.R)((0,_e.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),s.unsubscribe())})})}_disposeScrollStrategy(){const s=this._scrollStrategy;s&&(s.disable(),s.detach&&s.detach())}_disposeBackdrop(s){s&&(s.removeEventListener("click",this._backdropClickHandler),s.removeEventListener("transitionend",this._backdropTransitionendHandler),s.remove(),this._backdropElement===s&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const wt="cdk-overlay-connected-position-bounding-box",kt=/([A-Za-z%]+)$/;class lt{get positions(){return this._preferredPositions}constructor(s,r,e,i,a){this._viewportRuler=r,this._document=e,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new te.x,this._resizeSubscription=ue.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(s)}attach(s){this._validatePositions(),s.hostElement.classList.add(wt),this._overlayRef=s,this._boundingBox=s.hostElement,this._pane=s.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const s=this._originRect,r=this._overlayRect,e=this._viewportRect,i=this._containerRect,a=[];let _;for(let L of this._preferredPositions){let ae=this._getOriginPoint(s,i,L),Ae=this._getOverlayPoint(ae,r,L),Ne=this._getOverlayFit(Ae,r,e,L);if(Ne.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(L,ae);this._canFitWithFlexibleDimensions(Ne,Ae,e)?a.push({position:L,origin:ae,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(ae,L)}):(!_||_.overlayFit.visibleArea<Ne.visibleArea)&&(_={overlayFit:Ne,overlayPoint:Ae,originPoint:ae,position:L,overlayRect:r})}if(a.length){let L=null,ae=-1;for(const Ae of a){const Ne=Ae.boundingBoxRect.width*Ae.boundingBoxRect.height*(Ae.position.weight||1);Ne>ae&&(ae=Ne,L=Ae)}return this._isPushed=!1,void this._applyPosition(L.position,L.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(_.position,_.originPoint);this._applyPosition(_.position,_.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ut(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(wt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const s=this._lastPosition;if(s){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._getOriginPoint(this._originRect,this._containerRect,s);this._applyPosition(s,r)}else this.apply()}withScrollableContainers(s){return this._scrollables=s,this}withPositions(s){return this._preferredPositions=s,-1===s.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(s){return this._viewportMargin=s,this}withFlexibleDimensions(s=!0){return this._hasFlexibleDimensions=s,this}withGrowAfterOpen(s=!0){return this._growAfterOpen=s,this}withPush(s=!0){return this._canPush=s,this}withLockedPosition(s=!0){return this._positionLocked=s,this}setOrigin(s){return this._origin=s,this}withDefaultOffsetX(s){return this._offsetX=s,this}withDefaultOffsetY(s){return this._offsetY=s,this}withTransformOriginOn(s){return this._transformOriginSelector=s,this}_getOriginPoint(s,r,e){let i,a;if("center"==e.originX)i=s.left+s.width/2;else{const _=this._isRtl()?s.right:s.left,L=this._isRtl()?s.left:s.right;i="start"==e.originX?_:L}return r.left<0&&(i-=r.left),a="center"==e.originY?s.top+s.height/2:"top"==e.originY?s.top:s.bottom,r.top<0&&(a-=r.top),{x:i,y:a}}_getOverlayPoint(s,r,e){let i,a;return i="center"==e.overlayX?-r.width/2:"start"===e.overlayX?this._isRtl()?-r.width:0:this._isRtl()?0:-r.width,a="center"==e.overlayY?-r.height/2:"top"==e.overlayY?0:-r.height,{x:s.x+i,y:s.y+a}}_getOverlayFit(s,r,e,i){const a=xt(r);let{x:_,y:L}=s,ae=this._getOffset(i,"x"),Ae=this._getOffset(i,"y");ae&&(_+=ae),Ae&&(L+=Ae);let st=0-L,bt=L+a.height-e.height,ft=this._subtractOverflows(a.width,0-_,_+a.width-e.width),Dt=this._subtractOverflows(a.height,st,bt),Mt=ft*Dt;return{visibleArea:Mt,isCompletelyWithinViewport:a.width*a.height===Mt,fitsInViewportVertically:Dt===a.height,fitsInViewportHorizontally:ft==a.width}}_canFitWithFlexibleDimensions(s,r,e){if(this._hasFlexibleDimensions){const i=e.bottom-r.y,a=e.right-r.x,_=Ct(this._overlayRef.getConfig().minHeight),L=Ct(this._overlayRef.getConfig().minWidth);return(s.fitsInViewportVertically||null!=_&&_<=i)&&(s.fitsInViewportHorizontally||null!=L&&L<=a)}return!1}_pushOverlayOnScreen(s,r,e){if(this._previousPushAmount&&this._positionLocked)return{x:s.x+this._previousPushAmount.x,y:s.y+this._previousPushAmount.y};const i=xt(r),a=this._viewportRect,_=Math.max(s.x+i.width-a.width,0),L=Math.max(s.y+i.height-a.height,0),ae=Math.max(a.top-e.top-s.y,0),Ae=Math.max(a.left-e.left-s.x,0);let Ne=0,qe=0;return Ne=i.width<=a.width?Ae||-_:s.x<this._viewportMargin?a.left-e.left-s.x:0,qe=i.height<=a.height?ae||-L:s.y<this._viewportMargin?a.top-e.top-s.y:0,this._previousPushAmount={x:Ne,y:qe},{x:s.x+Ne,y:s.y+qe}}_applyPosition(s,r){if(this._setTransformOrigin(s),this._setOverlayElementStyles(r,s),this._setBoundingBoxStyles(r,s),s.panelClass&&this._addPanelClasses(s.panelClass),this._lastPosition=s,this._positionChanges.observers.length){const e=this._getScrollVisibility(),i=new Pe(s,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(s){if(!this._transformOriginSelector)return;const r=this._boundingBox.querySelectorAll(this._transformOriginSelector);let e,i=s.overlayY;e="center"===s.overlayX?"center":this._isRtl()?"start"===s.overlayX?"right":"left":"start"===s.overlayX?"left":"right";for(let a=0;a<r.length;a++)r[a].style.transformOrigin=`${e} ${i}`}_calculateBoundingBoxRect(s,r){const e=this._viewportRect,i=this._isRtl();let a,_,L,Ne,qe,st;if("top"===r.overlayY)_=s.y,a=e.height-_+this._viewportMargin;else if("bottom"===r.overlayY)L=e.height-s.y+2*this._viewportMargin,a=e.height-L+this._viewportMargin;else{const bt=Math.min(e.bottom-s.y+e.top,s.y),ft=this._lastBoundingBoxSize.height;a=2*bt,_=s.y-bt,a>ft&&!this._isInitialRender&&!this._growAfterOpen&&(_=s.y-ft/2)}if("end"===r.overlayX&&!i||"start"===r.overlayX&&i)st=e.width-s.x+this._viewportMargin,Ne=s.x-this._viewportMargin;else if("start"===r.overlayX&&!i||"end"===r.overlayX&&i)qe=s.x,Ne=e.right-s.x;else{const bt=Math.min(e.right-s.x+e.left,s.x),ft=this._lastBoundingBoxSize.width;Ne=2*bt,qe=s.x-bt,Ne>ft&&!this._isInitialRender&&!this._growAfterOpen&&(qe=s.x-ft/2)}return{top:_,left:qe,bottom:L,right:st,width:Ne,height:a}}_setBoundingBoxStyles(s,r){const e=this._calculateBoundingBoxRect(s,r);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,_=this._overlayRef.getConfig().maxWidth;i.height=(0,d.HM)(e.height),i.top=(0,d.HM)(e.top),i.bottom=(0,d.HM)(e.bottom),i.width=(0,d.HM)(e.width),i.left=(0,d.HM)(e.left),i.right=(0,d.HM)(e.right),i.alignItems="center"===r.overlayX?"center":"end"===r.overlayX?"flex-end":"flex-start",i.justifyContent="center"===r.overlayY?"center":"bottom"===r.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=(0,d.HM)(a)),_&&(i.maxWidth=(0,d.HM)(_))}this._lastBoundingBoxSize=e,ut(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ut(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ut(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(s,r){const e={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,_=this._overlayRef.getConfig();if(i){const Ne=this._viewportRuler.getViewportScrollPosition();ut(e,this._getExactOverlayY(r,s,Ne)),ut(e,this._getExactOverlayX(r,s,Ne))}else e.position="static";let L="",ae=this._getOffset(r,"x"),Ae=this._getOffset(r,"y");ae&&(L+=`translateX(${ae}px) `),Ae&&(L+=`translateY(${Ae}px)`),e.transform=L.trim(),_.maxHeight&&(i?e.maxHeight=(0,d.HM)(_.maxHeight):a&&(e.maxHeight="")),_.maxWidth&&(i?e.maxWidth=(0,d.HM)(_.maxWidth):a&&(e.maxWidth="")),ut(this._pane.style,e)}_getExactOverlayY(s,r,e){let i={top:"",bottom:""},a=this._getOverlayPoint(r,this._overlayRect,s);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,e)),"bottom"===s.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=(0,d.HM)(a.y),i}_getExactOverlayX(s,r,e){let _,i={left:"",right:""},a=this._getOverlayPoint(r,this._overlayRect,s);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,e)),_=this._isRtl()?"end"===s.overlayX?"left":"right":"end"===s.overlayX?"right":"left","right"===_?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=(0,d.HM)(a.x),i}_getScrollVisibility(){const s=this._getOriginRect(),r=this._pane.getBoundingClientRect(),e=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Y(s,e),isOriginOutsideView:j(s,e),isOverlayClipped:Y(r,e),isOverlayOutsideView:j(r,e)}}_subtractOverflows(s,...r){return r.reduce((e,i)=>e-Math.max(i,0),s)}_getNarrowedViewportRect(){const s=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+s-this._viewportMargin,bottom:e.top+r-this._viewportMargin,width:s-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(s,r){return"x"===r?null==s.offsetX?this._offsetX:s.offsetX:null==s.offsetY?this._offsetY:s.offsetY}_validatePositions(){}_addPanelClasses(s){this._pane&&(0,d.Eq)(s).forEach(r=>{""!==r&&-1===this._appliedPanelClasses.indexOf(r)&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(s=>{this._pane.classList.remove(s)}),this._appliedPanelClasses=[])}_getOriginRect(){const s=this._origin;if(s instanceof n.ElementRef)return s.nativeElement.getBoundingClientRect();if(s instanceof Element)return s.getBoundingClientRect();const r=s.width||0,e=s.height||0;return{top:s.y,bottom:s.y+e,left:s.x,right:s.x+r,height:e,width:r}}}function ut(t,s){for(let r in s)s.hasOwnProperty(r)&&(t[r]=s[r]);return t}function Ct(t){if("number"!=typeof t&&null!=t){const[s,r]=t.split(kt);return r&&"px"!==r?null:parseFloat(s)}return t||null}function xt(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const Xe="cdk-global-overlay-wrapper";class je{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(s){const r=s.getConfig();this._overlayRef=s,this._width&&!r.width&&s.updateSize({width:this._width}),this._height&&!r.height&&s.updateSize({height:this._height}),s.hostElement.classList.add(Xe),this._isDisposed=!1}top(s=""){return this._bottomOffset="",this._topOffset=s,this._alignItems="flex-start",this}left(s=""){return this._xOffset=s,this._xPosition="left",this}bottom(s=""){return this._topOffset="",this._bottomOffset=s,this._alignItems="flex-end",this}right(s=""){return this._xOffset=s,this._xPosition="right",this}start(s=""){return this._xOffset=s,this._xPosition="start",this}end(s=""){return this._xOffset=s,this._xPosition="end",this}width(s=""){return this._overlayRef?this._overlayRef.updateSize({width:s}):this._width=s,this}height(s=""){return this._overlayRef?this._overlayRef.updateSize({height:s}):this._height=s,this}centerHorizontally(s=""){return this.left(s),this._xPosition="center",this}centerVertically(s=""){return this.top(s),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const s=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:_,maxHeight:L}=e,ae=!("100%"!==i&&"100vw"!==i||_&&"100%"!==_&&"100vw"!==_),Ae=!("100%"!==a&&"100vh"!==a||L&&"100%"!==L&&"100vh"!==L),Ne=this._xPosition,qe=this._xOffset,st="rtl"===this._overlayRef.getConfig().direction;let bt="",ft="",Dt="";ae?Dt="flex-start":"center"===Ne?(Dt="center",st?ft=qe:bt=qe):st?"left"===Ne||"end"===Ne?(Dt="flex-end",bt=qe):("right"===Ne||"start"===Ne)&&(Dt="flex-start",ft=qe):"left"===Ne||"start"===Ne?(Dt="flex-start",bt=qe):("right"===Ne||"end"===Ne)&&(Dt="flex-end",ft=qe),s.position=this._cssPosition,s.marginLeft=ae?"0":bt,s.marginTop=Ae?"0":this._topOffset,s.marginBottom=this._bottomOffset,s.marginRight=ae?"0":ft,r.justifyContent=Dt,r.alignItems=Ae?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const s=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,e=r.style;r.classList.remove(Xe),e.justifyContent=e.alignItems=s.marginTop=s.marginBottom=s.marginLeft=s.marginRight=s.position="",this._overlayRef=null,this._isDisposed=!0}}let $e=(()=>{var t;class s{constructor(e,i,a,_){this._viewportRuler=e,this._document=i,this._platform=a,this._overlayContainer=_}global(){return new je}flexibleConnectedTo(e){return new lt(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(l.rL),n.\u0275\u0275inject(c.DOCUMENT),n.\u0275\u0275inject(g.t4),n.\u0275\u0275inject(mt))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),be=0,He=(()=>{var t;class s{constructor(e,i,a,_,L,ae,Ae,Ne,qe,st,bt,ft){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=a,this._positionBuilder=_,this._keyboardDispatcher=L,this._injector=ae,this._ngZone=Ae,this._document=Ne,this._directionality=qe,this._location=st,this._outsideClickDispatcher=bt,this._animationsModuleType=ft}create(e){const i=this._createHostElement(),a=this._createPaneElement(i),_=this._createPortalOutlet(a),L=new Fe(e);return L.direction=L.direction||this._directionality.value,new yt(_,i,a,L,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+be++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(n.ApplicationRef)),new N(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(me),n.\u0275\u0275inject(mt),n.\u0275\u0275inject(n.ComponentFactoryResolver),n.\u0275\u0275inject($e),n.\u0275\u0275inject(Ze),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(c.DOCUMENT),n.\u0275\u0275inject(x.Is),n.\u0275\u0275inject(c.Location),n.\u0275\u0275inject(ot),n.\u0275\u0275inject(n.ANIMATION_MODULE_TYPE,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const W={provide:new n.InjectionToken("cdk-connected-overlay-scroll-strategy"),deps:[He],useFactory:function Le(t){return()=>t.scrollStrategies.reposition()}};let oe=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[He,W],imports:[x.vT,Be,l.Cl,l.Cl]}),s})();var Me=M(7849),he=(M(6825),M(4911)),Ge=M(2096),Ie=(M(2438),M(6028)),et=(M(6223),M(7131));let _t=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,c.CommonModule,et.Q8,E.BQ]}),s})();var Et=M(7921);M(4664),M(7398),M(9397),M(6321),M(5211),M(9360),M(8251),M(2420),M(975),M(1631),M(4829),M(4825);const Ui={provide:new n.InjectionToken("mat-autocomplete-scroll-strategy"),deps:[He],useFactory:function kn(t){return()=>t.scrollStrategies.reposition()}};let hi=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Ui],imports:[oe,E.Ng,E.BQ,c.CommonModule,l.ZD,E.Ng,E.BQ]}),s})(),Ii=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[Me.rt,E.BQ,E.BQ]}),s})();function Mn(t,s){}class ri{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let Ai=(()=>{var t;class s extends f{constructor(e,i,a,_,L,ae,Ae,Ne){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=_,this._interactivityChecker=L,this._ngZone=ae,this._overlayRef=Ae,this._focusMonitor=Ne,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=qe=>{this._portalOutlet.hasAttached();const st=this._portalOutlet.attachDomPortal(qe);return this._contentAttached(),st},this._document=a,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{e.removeEventListener("blur",a),e.removeEventListener("mousedown",a),e.removeAttribute("tabindex")};e.addEventListener("blur",a),e.addEventListener("mousedown",a)})),e.focus(i)}_focusByCssSelector(e,i){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const a=(0,g.ht)(),_=this._elementRef.nativeElement;(!a||a===this._document.body||a===_||_.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,g.ht)();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,g.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(Me.qV),n.\u0275\u0275directiveInject(c.DOCUMENT,8),n.\u0275\u0275directiveInject(ri),n.\u0275\u0275directiveInject(Me.ic),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(yt),n.\u0275\u0275directiveInject(Me.tE))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&n.\u0275\u0275viewQuery(Re,7),2&e){let a;n.\u0275\u0275queryRefresh(a=n.\u0275\u0275loadQuery())&&(i._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&n.\u0275\u0275attribute("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[n.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.\u0275\u0275template(0,Mn,0,0,"ng-template",0)},dependencies:[Re],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),s})();class Gi{constructor(s,r){this.overlayRef=s,this.config=r,this.closed=new te.x,this.disableClose=r.disableClose,this.backdropClick=s.backdropClick(),this.keydownEvents=s.keydownEvents(),this.outsidePointerEvents=s.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(e=>{e.keyCode===Ie.hY&&!this.disableClose&&!(0,Ie.Vb)(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=s.detachments().subscribe(()=>{!1!==r.closeOnOverlayDetachments&&this.close()})}close(s,r){if(this.containerInstance){const e=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(s),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(s="",r=""){return this.overlayRef.updateSize({width:s,height:r}),this}addPanelClass(s){return this.overlayRef.addPanelClass(s),this}removePanelClass(s){return this.overlayRef.removePanelClass(s),this}}const In=new n.InjectionToken("DialogScrollStrategy"),Sr=new n.InjectionToken("DialogData"),An=new n.InjectionToken("DefaultDialogConfig"),Dr={provide:In,deps:[He],useFactory:function Rn(t){return()=>t.scrollStrategies.block()}};let Er=0,Tn=(()=>{var t;class s{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,a,_,L,ae){this._overlay=e,this._injector=i,this._defaultOptions=a,this._parentDialog=_,this._overlayContainer=L,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new te.x,this._afterOpenedAtThisLevel=new te.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,he.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Et.O)(void 0))),this._scrollStrategy=ae}open(e,i){(i={...this._defaultOptions||new ri,...i}).id=i.id||"cdk-dialog-"+Er++,i.id&&this.getDialogById(i.id);const _=this._getOverlayConfig(i),L=this._overlay.create(_),ae=new Gi(L,i),Ae=this._attachContainer(L,ae,i);return ae.containerInstance=Ae,this._attachDialogContent(e,ae,Ae,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ae),ae.closed.subscribe(()=>this._removeOpenDialog(ae,!0)),this.afterOpened.next(ae),ae}closeAll(){$i(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){$i(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),$i(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Fe({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,a){const _=a.injector||a.viewContainerRef?.injector,L=[{provide:ri,useValue:a},{provide:Gi,useValue:i},{provide:yt,useValue:e}];let ae;a.container?"function"==typeof a.container?ae=a.container:(ae=a.container.type,L.push(...a.container.providers(a))):ae=Ai;const Ae=new k(ae,a.viewContainerRef,n.Injector.create({parent:_||this._injector,providers:L}),a.componentFactoryResolver);return e.attach(Ae).instance}_attachDialogContent(e,i,a,_){if(e instanceof n.TemplateRef){const L=this._createInjector(_,i,a,void 0);let ae={$implicit:_.data,dialogRef:i};_.templateContext&&(ae={...ae,..."function"==typeof _.templateContext?_.templateContext():_.templateContext}),a.attachTemplatePortal(new T(e,null,ae,L))}else{const L=this._createInjector(_,i,a,this._injector),ae=a.attachComponentPortal(new k(e,_.viewContainerRef,L,_.componentFactoryResolver));i.componentRef=ae,i.componentInstance=ae.instance}}_createInjector(e,i,a,_){const L=e.injector||e.viewContainerRef?.injector,ae=[{provide:Sr,useValue:e.data},{provide:Gi,useValue:i}];return e.providers&&("function"==typeof e.providers?ae.push(...e.providers(i,e,a)):ae.push(...e.providers)),e.direction&&(!L||!L.get(x.Is,null,{optional:!0}))&&ae.push({provide:x.Is,useValue:{value:e.direction,change:(0,Ge.of)()}}),n.Injector.create({parent:L||_,providers:ae})}_removeOpenDialog(e,i){const a=this.openDialogs.indexOf(e);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((_,L)=>{_?L.setAttribute("aria-hidden",_):L.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let a=i.length-1;a>-1;a--){const _=i[a];_!==e&&"SCRIPT"!==_.nodeName&&"STYLE"!==_.nodeName&&!_.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(_,_.getAttribute("aria-hidden")),_.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(He),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(An,8),n.\u0275\u0275inject(t,12),n.\u0275\u0275inject(mt),n.\u0275\u0275inject(In))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),s})();function $i(t,s){let r=t.length;for(;r--;)s(t[r])}let On=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Tn,Dr],imports:[oe,Be,Me.rt,Be]}),s})(),Fn=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[On,E.BQ,Be,E.BQ]}),s})();var Ye=M(2296);M(3168);let Fr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.si,E.BQ]}),s})(),Pr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,c.CommonModule,E.BQ]}),s})(),Nr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),jr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.si,Nr,E.BQ,Nr]}),s})();const Yi=new n.InjectionToken("mat-chips-default-options");let Yr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[E.rD,{provide:Yi,useValue:{separatorKeyCodes:[Ie.K5]}}],imports:[E.BQ,c.CommonModule,E.si,E.BQ]}),s})(),yo=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),Kr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,_t,_t,yo,E.BQ]}),s})(),ko=(()=>{var t;class s{constructor(){this.changes=new te.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const Fo={provide:new n.InjectionToken("mat-datepicker-scroll-strategy"),deps:[He],useFactory:function Oo(t){return()=>t.scrollStrategies.reposition()}};let Jr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[ko,Fo],imports:[c.CommonModule,Ye.ot,oe,Me.rt,Be,E.BQ,l.ZD]}),s})();function Ho(t,s){}class qi{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Un="mdc-dialog--open",es="mdc-dialog--opening",ts="mdc-dialog--closing";let Wo=(()=>{var t;class s extends Ai{constructor(e,i,a,_,L,ae,Ae,Ne){super(e,i,a,_,L,ae,Ae,Ne),this._animationStateChanged=new n.EventEmitter}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(Me.qV),n.\u0275\u0275directiveInject(c.DOCUMENT,8),n.\u0275\u0275directiveInject(qi),n.\u0275\u0275directiveInject(Me.ic),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(yt),n.\u0275\u0275directiveInject(Me.tE))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(e,i){},encapsulation:2}),s})();const is="--mat-dialog-transition-duration";function ns(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?(0,d.su)(t.substring(0,t.length-2)):t.endsWith("s")?1e3*(0,d.su)(t.substring(0,t.length-1)):"0"===t?0:null}let Go=(()=>{var t;class s extends Wo{constructor(e,i,a,_,L,ae,Ae,Ne,qe){super(e,i,a,_,L,ae,Ae,qe),this._animationMode=Ne,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ns(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?ns(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(is,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(es,Un)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Un),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Un),this._animationsEnabled?(this._hostElement.style.setProperty(is,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ts)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(es,ts)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(Me.qV),n.\u0275\u0275directiveInject(c.DOCUMENT,8),n.\u0275\u0275directiveInject(qi),n.\u0275\u0275directiveInject(Me.ic),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(yt),n.\u0275\u0275directiveInject(n.ANIMATION_MODULE_TYPE,8),n.\u0275\u0275directiveInject(Me.tE))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(n.\u0275\u0275hostProperty("id",i._config.id),n.\u0275\u0275attribute("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),n.\u0275\u0275classProp("_mat-animation-noopable",!i._animationsEnabled))},features:[n.\u0275\u0275InheritDefinitionFeature],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1),n.\u0275\u0275template(2,Ho,0,0,"ng-template",2),n.\u0275\u0275elementEnd()())},dependencies:[Re],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),s})();class $o{constructor(s,r,e){this._ref=s,this._containerInstance=e,this._afterOpened=new te.x,this._beforeClosed=new te.x,this._state=0,this.disableClose=r.disableClose,this.id=s.id,e._animationStateChanged.pipe((0,C.h)(i=>"opened"===i.state),(0,p.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,C.h)(i=>"closed"===i.state),(0,p.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),s.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,_e.T)(this.backdropClick(),this.keydownEvents().pipe((0,C.h)(i=>i.keyCode===Ie.hY&&!this.disableClose&&!(0,Ie.Vb)(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function Yo(t,s,r){t._closeInteractionType=s,t.close(r)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(s){this._result=s,this._containerInstance._animationStateChanged.pipe((0,C.h)(r=>"closing"===r.state),(0,p.q)(1)).subscribe(r=>{this._beforeClosed.next(s),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(s){let r=this._ref.config.positionStrategy;return s&&(s.left||s.right)?s.left?r.left(s.left):r.right(s.right):r.centerHorizontally(),s&&(s.top||s.bottom)?s.top?r.top(s.top):r.bottom(s.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(s="",r=""){return this._ref.updateSize(s,r),this}addPanelClass(s){return this._ref.addPanelClass(s),this}removePanelClass(s){return this._ref.removePanelClass(s),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ko=new n.InjectionToken("MatMdcDialogData"),Qo=new n.InjectionToken("mat-mdc-dialog-default-options"),rs=new n.InjectionToken("mat-mdc-dialog-scroll-strategy"),Zo={provide:rs,deps:[He],useFactory:function Xo(t){return()=>t.scrollStrategies.block()}};let qo=0,Jo=(()=>{var t;class s{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,a,_,L,ae,Ae,Ne,qe,st){this._overlay=e,this._defaultOptions=a,this._parentDialog=_,this._dialogRefConstructor=Ae,this._dialogContainerType=Ne,this._dialogDataToken=qe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new te.x,this._afterOpenedAtThisLevel=new te.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=qi,this.afterAllClosed=(0,he.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Et.O)(void 0))),this._scrollStrategy=ae,this._dialog=i.get(Tn)}open(e,i){let a;(i={...this._defaultOptions||new qi,...i}).id=i.id||`${this._idPrefix}${qo++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const _=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:ri,useValue:i}]},templateContext:()=>({dialogRef:a}),providers:(L,ae,Ae)=>(a=new this._dialogRefConstructor(L,i,Ae),a.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:Ae},{provide:this._dialogDataToken,useValue:ae.data},{provide:this._dialogRefConstructor,useValue:a}])});return a.componentRef=_.componentRef,a.componentInstance=_.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{const L=this.openDialogs.indexOf(a);L>-1&&(this.openDialogs.splice(L,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return(t=s).\u0275fac=function(e){n.\u0275\u0275invalidFactory()},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),s})(),ec=(()=>{var t;class s extends Jo{constructor(e,i,a,_,L,ae,Ae,Ne){super(e,i,_,ae,Ae,L,$o,Go,Ko,Ne),this._idPrefix="mat-mdc-dialog-"}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(He),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(c.Location,8),n.\u0275\u0275inject(Qo,8),n.\u0275\u0275inject(rs),n.\u0275\u0275inject(t,12),n.\u0275\u0275inject(mt),n.\u0275\u0275inject(n.ANIMATION_MODULE_TYPE,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),s})(),ss=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[ec,Zo],imports:[On,oe,Be,E.BQ,E.BQ]}),s})(),Wn=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.BQ]}),s})(),tc=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),cs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[c.CommonModule,E.BQ,tc,Be]}),s})(),ds=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.uc,E.BQ,E.uc,E.BQ]}),s})();var Gn=M(617);let _s=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[et.Q8,c.CommonModule,E.BQ,E.si,E.us,Wn]}),s})();const Lc={provide:new n.InjectionToken("mat-menu-scroll-strategy"),deps:[He],useFactory:function Pc(t){return()=>t.scrollStrategies.reposition()}};let gs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Lc],imports:[c.CommonModule,E.si,E.BQ,oe,l.ZD,E.BQ]}),s})();const Hc={provide:new n.InjectionToken("mat-select-scroll-strategy"),deps:[He],useFactory:function Vc(t){return()=>t.scrollStrategies.reposition()}};let Yn=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Hc],imports:[c.CommonModule,oe,E.Ng,E.BQ,l.ZD,_t,E.Ng,E.BQ]}),s})();const Gc={provide:new n.InjectionToken("mat-tooltip-scroll-strategy"),deps:[He],useFactory:function Wc(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let Kn=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Gc],imports:[Me.rt,c.CommonModule,oe,E.BQ,E.BQ,l.ZD]}),s})(),Qn=(()=>{var t;class s{constructor(){this.changes=new te.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,a)=>{if(0==a||0==i)return`0 of ${a}`;const _=e*i;return`${_+1} \u2013 ${_<(a=Math.max(a,0))?Math.min(_+i,a):_+i} of ${a}`}}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const Zc={provide:Qn,deps:[[new n.Optional,new n.SkipSelf,Qn]],useFactory:function Xc(t){return t||new Qn}};let vs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Zc],imports:[c.CommonModule,Ye.ot,Yn,Kn]}),s})(),bs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ]}),s})();var ys=M(5940);let ks=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,c.CommonModule,E.si,E.BQ]}),s})();var Ss=M(2651);let Es=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),Ms=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[Es,E.BQ,E.si,c.CommonModule,Es,E.BQ]}),s})(),Rs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,c.CommonModule,E.si]}),s})(),Ts=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[oe,Be,c.CommonModule,Ye.ot,E.BQ,E.BQ]}),s})(),Xn=(()=>{var t;class s{constructor(){this.changes=new te.x}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const Ol={provide:Xn,deps:[[new n.Optional,new n.SkipSelf,Xn]],useFactory:function Tl(t){return t||new Xn}};let Os=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Ol],imports:[c.CommonModule,E.BQ]}),s})(),Fl=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[x.vT]}),s})(),Zn=(()=>{var t;class s{constructor(){this.changes=new te.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const Gl={provide:Zn,deps:[[new n.Optional,new n.SkipSelf,Zn]],useFactory:function Wl(t){return t||new Zn}};let Bs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Gl,E.rD],imports:[E.BQ,c.CommonModule,Be,Fl,Gn.Ps,E.si,E.BQ]}),s})();M(7715),M(5619),M(2664);let cd=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[l.Cl]}),s})(),Qs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,cd,E.BQ]}),s})(),Zs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[c.CommonModule,E.BQ,Be,E.si,et.Q8,Me.rt,E.BQ]}),s})(),qs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.BQ]}),s})(),Dd=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),Js=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[Dd,E.BQ,E.BQ]}),s})();var nt=M(1462);M(6593);let sa=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[nt.IR]}),t})();var aa=M(3814);let pa=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[nt.IR]}),t})(),_a=(()=>{class t{constructor(r,e){(0,c.isPlatformServer)(e)&&!r&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(r,e=[]){return{ngModule:t,providers:r.serverLoaded?[{provide:nt.WU,useValue:{...nt.g5,...r}},{provide:nt.Bs,useValue:e,multi:!0},{provide:nt.wY,useValue:!0}]:[{provide:nt.WU,useValue:{...nt.g5,...r}},{provide:nt.Bs,useValue:e,multi:!0}]}}}return t.\u0275fac=function(r){return new(r||t)(n.\u0275\u0275inject(nt.wY),n.\u0275\u0275inject(n.PLATFORM_ID))},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[aa.ae,sa,pa,aa.ae,sa,pa]}),t})(),vm=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[c.CommonModule,hi,Ii,Fn,Ye.ot,Fr,Pr,jr,Yr,Jr,ss,Wn,cs,_t,ds,Gn.Ps,Kr,_s,gs,vs,bs,ys.Cq,ks,E.si,Yn,Ss.SJ,Ms,Rs,Ts,Os,Bs,Qs,Zs,qs,Kn,Js,_a,c.CommonModule,hi,Ii,Fn,Ye.ot,Fr,Pr,jr,Yr,Jr,ss,Wn,cs,_t,ds,Gn.Ps,Kr,_s,gs,vs,bs,ys.Cq,ks,E.si,Yn,Ss.SJ,Ms,Rs,Ts,Os,Bs,Qs,Zs,qs,Kn,Js,_a]}),s})()},2513:(Qe,ke,M)=>{M.r(ke),M.d(ke,{TerminalModule:()=>ki});var c={};M.r(c),M.d(c,{Decoder:()=>ei,Encoder:()=>Zt,PacketType:()=>ct,protocol:()=>St});var n={};M.r(n),M.d(n,{Manager:()=>Nt,Socket:()=>ai,connect:()=>Pt,default:()=>Pt,io:()=>Pt,protocol:()=>St});var E=M(3595),l=M(7413),d=M(6885),g=M(6708),C=M(2651),p=M(7970),y=M(5592),x=M(3020);const w=Object.create(null);w.open="0",w.close="1",w.ping="2",w.pong="3",w.message="4",w.upgrade="5",w.noop="6";const b=Object.create(null);Object.keys(w).forEach(H=>{b[w[H]]=H});const o={type:"error",data:"parser error"},u="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),h="function"==typeof ArrayBuffer,m=H=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(H):H&&H.buffer instanceof ArrayBuffer,v=({type:H,data:I},P,z)=>u&&I instanceof Blob?P?z(I):k(I,z):h&&(I instanceof ArrayBuffer||m(I))?P?z(I):k(new Blob([I]),z):z(w[H]+(I||"")),k=(H,I)=>{const P=new FileReader;return P.onload=function(){const z=P.result.split(",")[1];I("b"+(z||""))},P.readAsDataURL(H)};function T(H){return H instanceof Uint8Array?H:H instanceof ArrayBuffer?new Uint8Array(H):new Uint8Array(H.buffer,H.byteOffset,H.byteLength)}let O;const N=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let H=0;H<64;H++)N["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(H)]=H;const se="function"==typeof ArrayBuffer,Re=(H,I)=>{if("string"!=typeof H)return{type:"message",data:Be(H,I)};const P=H.charAt(0);return"b"===P?{type:"message",data:ze(H.substring(1),I)}:b[P]?H.length>1?{type:b[P],data:H.substring(1)}:{type:b[P]}:o},ze=(H,I)=>{if(se){const P=(H=>{let z,We,rt,gt,_t,I=.75*H.length,P=H.length,Ce=0;"="===H[H.length-1]&&(I--,"="===H[H.length-2]&&I--);const Et=new ArrayBuffer(I),Rt=new Uint8Array(Et);for(z=0;z<P;z+=4)We=N[H.charCodeAt(z)],rt=N[H.charCodeAt(z+1)],gt=N[H.charCodeAt(z+2)],_t=N[H.charCodeAt(z+3)],Rt[Ce++]=We<<2|rt>>4,Rt[Ce++]=(15&rt)<<4|gt>>2,Rt[Ce++]=(3&gt)<<6|63&_t;return Et})(H);return Be(P,I)}return{base64:!0,data:H}},Be=(H,I)=>"blob"===I?H instanceof Blob?H:new Blob([H]):H instanceof ArrayBuffer?H:H.buffer,U=String.fromCharCode(30);let Ve;function Ke(H){return H.reduce((I,P)=>I+P.length,0)}function ve(H,I){if(H[0].length===I)return H.shift();const P=new Uint8Array(I);let z=0;for(let Ce=0;Ce<I;Ce++)P[Ce]=H[0][z++],z===H[0].length&&(H.shift(),z=0);return H.length&&z<H[0].length&&(H[0]=H[0].slice(z)),P}function j(H){if(H)return function Y(H){for(var I in j.prototype)H[I]=j.prototype[I];return H}(H)}j.prototype.on=j.prototype.addEventListener=function(H,I){return this._callbacks=this._callbacks||{},(this._callbacks["$"+H]=this._callbacks["$"+H]||[]).push(I),this},j.prototype.once=function(H,I){function P(){this.off(H,P),I.apply(this,arguments)}return P.fn=I,this.on(H,P),this},j.prototype.off=j.prototype.removeListener=j.prototype.removeAllListeners=j.prototype.removeEventListener=function(H,I){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var P=this._callbacks["$"+H];if(!P)return this;if(1==arguments.length)return delete this._callbacks["$"+H],this;for(var z,Ce=0;Ce<P.length;Ce++)if((z=P[Ce])===I||z.fn===I){P.splice(Ce,1);break}return 0===P.length&&delete this._callbacks["$"+H],this},j.prototype.emitReserved=j.prototype.emit=function(H){this._callbacks=this._callbacks||{};for(var I=new Array(arguments.length-1),P=this._callbacks["$"+H],z=1;z<arguments.length;z++)I[z-1]=arguments[z];if(P){z=0;for(var Ce=(P=P.slice(0)).length;z<Ce;++z)P[z].apply(this,I)}return this},j.prototype.listeners=function(H){return this._callbacks=this._callbacks||{},this._callbacks["$"+H]||[]},j.prototype.hasListeners=function(H){return!!this.listeners(H).length};const B=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function me(H,...I){return I.reduce((P,z)=>(H.hasOwnProperty(z)&&(P[z]=H[z]),P),{})}const Fe=B.setTimeout,ge=B.clearTimeout;function q(H,I){I.useNativeTimers?(H.setTimeoutFn=Fe.bind(B),H.clearTimeoutFn=ge.bind(B)):(H.setTimeoutFn=B.setTimeout.bind(B),H.clearTimeoutFn=B.clearTimeout.bind(B))}function Te(H){return"string"==typeof H?function ie(H){let I=0,P=0;for(let z=0,Ce=H.length;z<Ce;z++)I=H.charCodeAt(z),I<128?P+=1:I<2048?P+=2:I<55296||I>=57344?P+=3:(z++,P+=4);return P}(H):Math.ceil(1.33*(H.byteLength||H.size))}class ot extends Error{constructor(I,P,z){super(I),this.description=P,this.context=z,this.type="TransportError"}}class mt extends j{constructor(I){super(),this.writable=!1,q(this,I),this.opts=I,this.query=I.query,this.socket=I.socket}onError(I,P,z){return super.emitReserved("error",new ot(I,P,z)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(I){"open"===this.readyState&&this.write(I)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(I){const P=Re(I,this.socket.binaryType);this.onPacket(P)}onPacket(I){super.emitReserved("packet",I)}onClose(I){this.readyState="closed",super.emitReserved("close",I)}pause(I){}createUri(I,P={}){return I+"://"+this._hostname()+this._port()+this.opts.path+this._query(P)}_hostname(){const I=this.opts.hostname;return-1===I.indexOf(":")?I:"["+I+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(I){const P=function Ee(H){let I="";for(let P in H)H.hasOwnProperty(P)&&(I.length&&(I+="&"),I+=encodeURIComponent(P)+"="+encodeURIComponent(H[P]));return I}(I);return P.length?"?"+P:""}}const yt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),wt=64,kt={};let Ct,lt=0,ut=0;function xt(H){let I="";do{I=yt[H%wt]+I,H=Math.floor(H/wt)}while(H>0);return I}function At(){const H=xt(+new Date);return H!==Ct?(lt=0,Ct=H):H+"."+xt(lt++)}for(;ut<wt;ut++)kt[yt[ut]]=ut;let Xe=!1;try{Xe=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const je=Xe;function $e(H){const I=H.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!I||je))return new XMLHttpRequest}catch{}if(!I)try{return new(B[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function He(){}const Je=null!=new $e({xdomain:!1}).responseType;let pt=(()=>{class H extends j{constructor(P,z){super(),q(this,z),this.opts=z,this.method=z.method||"GET",this.uri=P,this.data=void 0!==z.data?z.data:null,this.create()}create(){var P;const z=me(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");z.xdomain=!!this.opts.xd;const Ce=this.xhr=new $e(z);try{Ce.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){Ce.setDisableHeaderCheck&&Ce.setDisableHeaderCheck(!0);for(let We in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(We)&&Ce.setRequestHeader(We,this.opts.extraHeaders[We])}}catch{}if("POST"===this.method)try{Ce.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{Ce.setRequestHeader("Accept","*/*")}catch{}null===(P=this.opts.cookieJar)||void 0===P||P.addCookies(Ce),"withCredentials"in Ce&&(Ce.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(Ce.timeout=this.opts.requestTimeout),Ce.onreadystatechange=()=>{var We;3===Ce.readyState&&(null===(We=this.opts.cookieJar)||void 0===We||We.parseCookies(Ce)),4===Ce.readyState&&(200===Ce.status||1223===Ce.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof Ce.status?Ce.status:0)},0))},Ce.send(this.data)}catch(We){return void this.setTimeoutFn(()=>{this.onError(We)},0)}typeof document<"u"&&(this.index=H.requestsCount++,H.requests[this.index]=this)}onError(P){this.emitReserved("error",P,this.xhr),this.cleanup(!0)}cleanup(P){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=He,P)try{this.xhr.abort()}catch{}typeof document<"u"&&delete H.requests[this.index],this.xhr=null}}onLoad(){const P=this.xhr.responseText;null!==P&&(this.emitReserved("data",P),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return H.requestsCount=0,H.requests={},H})();function Se(){for(let H in pt.requests)pt.requests.hasOwnProperty(H)&&pt.requests[H].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Se):"function"==typeof addEventListener&&addEventListener("onpagehide"in B?"pagehide":"unload",Se,!1));const Le="function"==typeof Promise&&"function"==typeof Promise.resolve?I=>Promise.resolve().then(I):(I,P)=>P(I,0),W=B.WebSocket||B.MozWebSocket,Me=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Ge={websocket:class X extends mt{constructor(I){super(I),this.supportsBinary=!I.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const I=this.uri(),P=this.opts.protocols,z=Me?{}:me(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(z.headers=this.opts.extraHeaders);try{this.ws=Me?new W(I,P,z):P?new W(I,P):new W(I)}catch(Ce){return this.emitReserved("error",Ce)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=I=>this.onClose({description:"websocket connection closed",context:I}),this.ws.onmessage=I=>this.onData(I.data),this.ws.onerror=I=>this.onError("websocket error",I)}write(I){this.writable=!1;for(let P=0;P<I.length;P++){const Ce=P===I.length-1;v(I[P],this.supportsBinary,We=>{try{this.ws.send(We)}catch{}Ce&&Le(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const I=this.opts.secure?"wss":"ws",P=this.query||{};return this.opts.timestampRequests&&(P[this.opts.timestampParam]=At()),this.supportsBinary||(P.b64=1),this.createUri(I,P)}check(){return!!W}},webtransport:class he extends mt{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(I=>{this.onError("webtransport error",I)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(I=>{const P=function le(H,I){Ve||(Ve=new TextDecoder);const P=[];let z=0,Ce=-1,We=!1;return new TransformStream({transform(rt,gt){for(P.push(rt);;){if(0===z){if(Ke(P)<1)break;const _t=ve(P,1);We=128==(128&_t[0]),Ce=127&_t[0],z=Ce<126?3:126===Ce?1:2}else if(1===z){if(Ke(P)<2)break;const _t=ve(P,2);Ce=new DataView(_t.buffer,_t.byteOffset,_t.length).getUint16(0),z=3}else if(2===z){if(Ke(P)<8)break;const _t=ve(P,8),Et=new DataView(_t.buffer,_t.byteOffset,_t.length),Rt=Et.getUint32(0);if(Rt>Math.pow(2,21)-1){gt.enqueue(o);break}Ce=Rt*Math.pow(2,32)+Et.getUint32(4),z=3}else{if(Ke(P)<Ce)break;const _t=ve(P,Ce);gt.enqueue(Re(We?_t:Ve.decode(_t),I)),z=0}if(0===Ce||Ce>H){gt.enqueue(o);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),z=I.readable.pipeThrough(P).getReader(),Ce=function _e(){return new TransformStream({transform(H,I){!function f(H,I){u&&H.data instanceof Blob?H.data.arrayBuffer().then(T).then(I):h&&(H.data instanceof ArrayBuffer||m(H.data))?I(T(H.data)):v(H,!1,P=>{O||(O=new TextEncoder),I(O.encode(P))})}(H,P=>{const z=P.length;let Ce;if(z<126)Ce=new Uint8Array(1),new DataView(Ce.buffer).setUint8(0,z);else if(z<65536){Ce=new Uint8Array(3);const We=new DataView(Ce.buffer);We.setUint8(0,126),We.setUint16(1,z)}else{Ce=new Uint8Array(9);const We=new DataView(Ce.buffer);We.setUint8(0,127),We.setBigUint64(1,BigInt(z))}H.data&&"string"!=typeof H.data&&(Ce[0]|=128),I.enqueue(Ce),I.enqueue(P)})}})}();Ce.readable.pipeTo(I.writable),this.writer=Ce.writable.getWriter();const We=()=>{z.read().then(({done:gt,value:_t})=>{gt||(this.onPacket(_t),We())}).catch(gt=>{})};We();const rt={type:"open"};this.query.sid&&(rt.data=`{"sid":"${this.query.sid}"}`),this.writer.write(rt).then(()=>this.onOpen())})}))}write(I){this.writable=!1;for(let P=0;P<I.length;P++){const Ce=P===I.length-1;this.writer.write(I[P]).then(()=>{Ce&&Le(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var I;null===(I=this.transport)||void 0===I||I.close()}},polling:class it extends mt{constructor(I){if(super(I),this.polling=!1,typeof location<"u"){const z="https:"===location.protocol;let Ce=location.port;Ce||(Ce=z?"443":"80"),this.xd=typeof location<"u"&&I.hostname!==location.hostname||Ce!==I.port}this.supportsBinary=Je&&!(I&&I.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(I){this.readyState="pausing";const P=()=>{this.readyState="paused",I()};if(this.polling||!this.writable){let z=0;this.polling&&(z++,this.once("pollComplete",function(){--z||P()})),this.writable||(z++,this.once("drain",function(){--z||P()}))}else P()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(I){((H,I)=>{const P=H.split(U),z=[];for(let Ce=0;Ce<P.length;Ce++){const We=Re(P[Ce],I);if(z.push(We),"error"===We.type)break}return z})(I,this.socket.binaryType).forEach(z=>{if("opening"===this.readyState&&"open"===z.type&&this.onOpen(),"close"===z.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(z)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const I=()=>{this.write([{type:"close"}])};"open"===this.readyState?I():this.once("open",I)}write(I){this.writable=!1,((H,I)=>{const P=H.length,z=new Array(P);let Ce=0;H.forEach((We,rt)=>{v(We,!1,gt=>{z[rt]=gt,++Ce===P&&I(z.join(U))})})})(I,P=>{this.doWrite(P,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const I=this.opts.secure?"https":"http",P=this.query||{};return!1!==this.opts.timestampRequests&&(P[this.opts.timestampParam]=At()),!this.supportsBinary&&!P.sid&&(P.b64=1),this.createUri(I,P)}request(I={}){return Object.assign(I,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new pt(this.uri(),I)}doWrite(I,P){const z=this.request({method:"POST",data:I});z.on("success",P),z.on("error",(Ce,We)=>{this.onError("xhr post error",Ce,We)})}doPoll(){const I=this.request();I.on("data",this.onData.bind(this)),I.on("error",(P,z)=>{this.onError("xhr poll error",P,z)}),this.pollXhr=I}}},De=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ie=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Oe(H){const I=H,P=H.indexOf("["),z=H.indexOf("]");-1!=P&&-1!=z&&(H=H.substring(0,P)+H.substring(P,z).replace(/:/g,";")+H.substring(z,H.length));let Ce=De.exec(H||""),We={},rt=14;for(;rt--;)We[Ie[rt]]=Ce[rt]||"";return-1!=P&&-1!=z&&(We.source=I,We.host=We.host.substring(1,We.host.length-1).replace(/;/g,":"),We.authority=We.authority.replace("[","").replace("]","").replace(/;/g,":"),We.ipv6uri=!0),We.pathNames=function et(H,I){const z=I.replace(/\/{2,9}/g,"/").split("/");return("/"==I.slice(0,1)||0===I.length)&&z.splice(0,1),"/"==I.slice(-1)&&z.splice(z.length-1,1),z}(0,We.path),We.queryKey=function dt(H,I){const P={};return I.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(z,Ce,We){Ce&&(P[Ce]=We)}),P}(0,We.query),We}let xe=(()=>{class H extends j{constructor(P,z={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],P&&"object"==typeof P&&(z=P,P=null),P?(P=Oe(P),z.hostname=P.host,z.secure="https"===P.protocol||"wss"===P.protocol,z.port=P.port,P.query&&(z.query=P.query)):z.host&&(z.hostname=Oe(z.host).host),q(this,z),this.secure=null!=z.secure?z.secure:typeof location<"u"&&"https:"===location.protocol,z.hostname&&!z.port&&(z.port=this.secure?"443":"80"),this.hostname=z.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=z.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=z.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},z),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Ze(H){let I={},P=H.split("&");for(let z=0,Ce=P.length;z<Ce;z++){let We=P[z].split("=");I[decodeURIComponent(We[0])]=decodeURIComponent(We[1])}return I}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(P){const z=Object.assign({},this.opts.query);z.EIO=4,z.transport=P,this.id&&(z.sid=this.id);const Ce=Object.assign({},this.opts,{query:z,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[P]);return new Ge[P](Ce)}open(){let P;if(this.opts.rememberUpgrade&&H.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))P="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);P=this.transports[0]}this.readyState="opening";try{P=this.createTransport(P)}catch{return this.transports.shift(),void this.open()}P.open(),this.setTransport(P)}setTransport(P){this.transport&&this.transport.removeAllListeners(),this.transport=P,P.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",z=>this.onClose("transport close",z))}probe(P){let z=this.createTransport(P),Ce=!1;H.priorWebsocketSuccess=!1;const We=()=>{Ce||(z.send([{type:"ping",data:"probe"}]),z.once("packet",Lt=>{if(!Ce)if("pong"===Lt.type&&"probe"===Lt.data){if(this.upgrading=!0,this.emitReserved("upgrading",z),!z)return;H.priorWebsocketSuccess="websocket"===z.name,this.transport.pause(()=>{Ce||"closed"!==this.readyState&&(li(),this.setTransport(z),z.send([{type:"upgrade"}]),this.emitReserved("upgrade",z),z=null,this.upgrading=!1,this.flush())})}else{const Ht=new Error("probe error");Ht.transport=z.name,this.emitReserved("upgradeError",Ht)}}))};function rt(){Ce||(Ce=!0,li(),z.close(),z=null)}const gt=Lt=>{const Ht=new Error("probe error: "+Lt);Ht.transport=z.name,rt(),this.emitReserved("upgradeError",Ht)};function _t(){gt("transport closed")}function Et(){gt("socket closed")}function Rt(Lt){z&&Lt.name!==z.name&&rt()}const li=()=>{z.removeListener("open",We),z.removeListener("error",gt),z.removeListener("close",_t),this.off("close",Et),this.off("upgrading",Rt)};z.once("open",We),z.once("error",gt),z.once("close",_t),this.once("close",Et),this.once("upgrading",Rt),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==P?this.setTimeoutFn(()=>{Ce||z.open()},200):z.open()}onOpen(){if(this.readyState="open",H.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let P=0;const z=this.upgrades.length;for(;P<z;P++)this.probe(this.upgrades[P])}}onPacket(P){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",P),this.emitReserved("heartbeat"),this.resetPingTimeout(),P.type){case"open":this.onHandshake(JSON.parse(P.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const z=new Error("server error");z.code=P.data,this.onError(z);break;case"message":this.emitReserved("data",P.data),this.emitReserved("message",P.data)}}onHandshake(P){this.emitReserved("handshake",P),this.id=P.sid,this.transport.query.sid=P.sid,this.upgrades=this.filterUpgrades(P.upgrades),this.pingInterval=P.pingInterval,this.pingTimeout=P.pingTimeout,this.maxPayload=P.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const P=this.getWritablePackets();this.transport.send(P),this.prevBufferLen=P.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let z=1;for(let Ce=0;Ce<this.writeBuffer.length;Ce++){const We=this.writeBuffer[Ce].data;if(We&&(z+=Te(We)),Ce>0&&z>this.maxPayload)return this.writeBuffer.slice(0,Ce);z+=2}return this.writeBuffer}write(P,z,Ce){return this.sendPacket("message",P,z,Ce),this}send(P,z,Ce){return this.sendPacket("message",P,z,Ce),this}sendPacket(P,z,Ce,We){if("function"==typeof z&&(We=z,z=void 0),"function"==typeof Ce&&(We=Ce,Ce=null),"closing"===this.readyState||"closed"===this.readyState)return;(Ce=Ce||{}).compress=!1!==Ce.compress;const rt={type:P,data:z,options:Ce};this.emitReserved("packetCreate",rt),this.writeBuffer.push(rt),We&&this.once("flush",We),this.flush()}close(){const P=()=>{this.onClose("forced close"),this.transport.close()},z=()=>{this.off("upgrade",z),this.off("upgradeError",z),P()},Ce=()=>{this.once("upgrade",z),this.once("upgradeError",z)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?Ce():P()}):this.upgrading?Ce():P()),this}onError(P){H.priorWebsocketSuccess=!1,this.emitReserved("error",P),this.onClose("transport error",P)}onClose(P,z){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",P,z),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(P){const z=[];let Ce=0;const We=P.length;for(;Ce<We;Ce++)~this.transports.indexOf(P[Ce])&&z.push(P[Ce]);return z}}return H.protocol=4,H})();const G="function"==typeof ArrayBuffer,Z=H=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(H):H.buffer instanceof ArrayBuffer,pe=Object.prototype.toString,re="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===pe.call(Blob),ne="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===pe.call(File);function we(H){return G&&(H instanceof ArrayBuffer||Z(H))||re&&H instanceof Blob||ne&&H instanceof File}function ce(H,I){if(!H||"object"!=typeof H)return!1;if(Array.isArray(H)){for(let P=0,z=H.length;P<z;P++)if(ce(H[P]))return!0;return!1}if(we(H))return!0;if(H.toJSON&&"function"==typeof H.toJSON&&1===arguments.length)return ce(H.toJSON(),!0);for(const P in H)if(Object.prototype.hasOwnProperty.call(H,P)&&ce(H[P]))return!0;return!1}function fe(H){const I=[],z=H;return z.data=Ue(H.data,I),z.attachments=I.length,{packet:z,buffers:I}}function Ue(H,I){if(!H)return H;if(we(H)){const P={_placeholder:!0,num:I.length};return I.push(H),P}if(Array.isArray(H)){const P=new Array(H.length);for(let z=0;z<H.length;z++)P[z]=Ue(H[z],I);return P}if("object"==typeof H&&!(H instanceof Date)){const P={};for(const z in H)Object.prototype.hasOwnProperty.call(H,z)&&(P[z]=Ue(H[z],I));return P}return H}function tt(H,I){return H.data=at(H.data,I),delete H.attachments,H}function at(H,I){if(!H)return H;if(H&&!0===H._placeholder){if("number"==typeof H.num&&H.num>=0&&H.num<I.length)return I[H.num];throw new Error("illegal attachments")}if(Array.isArray(H))for(let P=0;P<H.length;P++)H[P]=at(H[P],I);else if("object"==typeof H)for(const P in H)Object.prototype.hasOwnProperty.call(H,P)&&(H[P]=at(H[P],I));return H}const vt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],St=5;var ct=function(H){return H[H.CONNECT=0]="CONNECT",H[H.DISCONNECT=1]="DISCONNECT",H[H.EVENT=2]="EVENT",H[H.ACK=3]="ACK",H[H.CONNECT_ERROR=4]="CONNECT_ERROR",H[H.BINARY_EVENT=5]="BINARY_EVENT",H[H.BINARY_ACK=6]="BINARY_ACK",H}(ct||{});class Zt{constructor(I){this.replacer=I}encode(I){return I.type!==ct.EVENT&&I.type!==ct.ACK||!ce(I)?[this.encodeAsString(I)]:this.encodeAsBinary({type:I.type===ct.EVENT?ct.BINARY_EVENT:ct.BINARY_ACK,nsp:I.nsp,data:I.data,id:I.id})}encodeAsString(I){let P=""+I.type;return(I.type===ct.BINARY_EVENT||I.type===ct.BINARY_ACK)&&(P+=I.attachments+"-"),I.nsp&&"/"!==I.nsp&&(P+=I.nsp+","),null!=I.id&&(P+=I.id),null!=I.data&&(P+=JSON.stringify(I.data,this.replacer)),P}encodeAsBinary(I){const P=fe(I),z=this.encodeAsString(P.packet),Ce=P.buffers;return Ce.unshift(z),Ce}}function Bt(H){return"[object Object]"===Object.prototype.toString.call(H)}class ei extends j{constructor(I){super(),this.reviver=I}add(I){let P;if("string"==typeof I){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");P=this.decodeString(I);const z=P.type===ct.BINARY_EVENT;z||P.type===ct.BINARY_ACK?(P.type=z?ct.EVENT:ct.ACK,this.reconstructor=new yi(P),0===P.attachments&&super.emitReserved("decoded",P)):super.emitReserved("decoded",P)}else{if(!we(I)&&!I.base64)throw new Error("Unknown type: "+I);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");P=this.reconstructor.takeBinaryData(I),P&&(this.reconstructor=null,super.emitReserved("decoded",P))}}decodeString(I){let P=0;const z={type:Number(I.charAt(0))};if(void 0===ct[z.type])throw new Error("unknown packet type "+z.type);if(z.type===ct.BINARY_EVENT||z.type===ct.BINARY_ACK){const We=P+1;for(;"-"!==I.charAt(++P)&&P!=I.length;);const rt=I.substring(We,P);if(rt!=Number(rt)||"-"!==I.charAt(P))throw new Error("Illegal attachments");z.attachments=Number(rt)}if("/"===I.charAt(P+1)){const We=P+1;for(;++P&&","!==I.charAt(P)&&P!==I.length;);z.nsp=I.substring(We,P)}else z.nsp="/";const Ce=I.charAt(P+1);if(""!==Ce&&Number(Ce)==Ce){const We=P+1;for(;++P;){const rt=I.charAt(P);if(null==rt||Number(rt)!=rt){--P;break}if(P===I.length)break}z.id=Number(I.substring(We,P+1))}if(I.charAt(++P)){const We=this.tryParse(I.substr(P));if(!ei.isPayloadValid(z.type,We))throw new Error("invalid payload");z.data=We}return z}tryParse(I){try{return JSON.parse(I,this.reviver)}catch{return!1}}static isPayloadValid(I,P){switch(I){case ct.CONNECT:return Bt(P);case ct.DISCONNECT:return void 0===P;case ct.CONNECT_ERROR:return"string"==typeof P||Bt(P);case ct.EVENT:case ct.BINARY_EVENT:return Array.isArray(P)&&("number"==typeof P[0]||"string"==typeof P[0]&&-1===vt.indexOf(P[0]));case ct.ACK:case ct.BINARY_ACK:return Array.isArray(P)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yi{constructor(I){this.packet=I,this.buffers=[],this.reconPack=I}takeBinaryData(I){if(this.buffers.push(I),this.buffers.length===this.reconPack.attachments){const P=tt(this.reconPack,this.buffers);return this.finishedReconstruction(),P}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Tt(H,I,P){return H.on(I,P),function(){H.off(I,P)}}const ti=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ai extends j{constructor(I,P,z){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=I,this.nsp=P,z&&z.auth&&(this.auth=z.auth),this._opts=Object.assign({},z),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const I=this.io;this.subs=[Tt(I,"open",this.onopen.bind(this)),Tt(I,"packet",this.onpacket.bind(this)),Tt(I,"error",this.onerror.bind(this)),Tt(I,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...I){return I.unshift("message"),this.emit.apply(this,I),this}emit(I,...P){if(ti.hasOwnProperty(I))throw new Error('"'+I.toString()+'" is a reserved event name');if(P.unshift(I),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(P),this;const z={type:ct.EVENT,data:P,options:{}};if(z.options.compress=!1!==this.flags.compress,"function"==typeof P[P.length-1]){const rt=this.ids++,gt=P.pop();this._registerAckCallback(rt,gt),z.id=rt}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(z),this.packet(z)):this.sendBuffer.push(z)),this.flags={},this}_registerAckCallback(I,P){var z;const Ce=null!==(z=this.flags.timeout)&&void 0!==z?z:this._opts.ackTimeout;if(void 0===Ce)return void(this.acks[I]=P);const We=this.io.setTimeoutFn(()=>{delete this.acks[I];for(let rt=0;rt<this.sendBuffer.length;rt++)this.sendBuffer[rt].id===I&&this.sendBuffer.splice(rt,1);P.call(this,new Error("operation has timed out"))},Ce);this.acks[I]=(...rt)=>{this.io.clearTimeoutFn(We),P.apply(this,[null,...rt])}}emitWithAck(I,...P){const z=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((Ce,We)=>{P.push((rt,gt)=>z?rt?We(rt):Ce(gt):Ce(rt)),this.emit(I,...P)})}_addToQueue(I){let P;"function"==typeof I[I.length-1]&&(P=I.pop());const z={id:this._queueSeq++,tryCount:0,pending:!1,args:I,flags:Object.assign({fromQueue:!0},this.flags)};I.push((Ce,...We)=>z!==this._queue[0]?void 0:(null!==Ce?z.tryCount>this._opts.retries&&(this._queue.shift(),P&&P(Ce)):(this._queue.shift(),P&&P(null,...We)),z.pending=!1,this._drainQueue())),this._queue.push(z),this._drainQueue()}_drainQueue(I=!1){if(!this.connected||0===this._queue.length)return;const P=this._queue[0];P.pending&&!I||(P.pending=!0,P.tryCount++,this.flags=P.flags,this.emit.apply(this,P.args))}packet(I){I.nsp=this.nsp,this.io._packet(I)}onopen(){"function"==typeof this.auth?this.auth(I=>{this._sendConnectPacket(I)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(I){this.packet({type:ct.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},I):I})}onerror(I){this.connected||this.emitReserved("connect_error",I)}onclose(I,P){this.connected=!1,delete this.id,this.emitReserved("disconnect",I,P)}onpacket(I){if(I.nsp===this.nsp)switch(I.type){case ct.CONNECT:I.data&&I.data.sid?this.onconnect(I.data.sid,I.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ct.EVENT:case ct.BINARY_EVENT:this.onevent(I);break;case ct.ACK:case ct.BINARY_ACK:this.onack(I);break;case ct.DISCONNECT:this.ondisconnect();break;case ct.CONNECT_ERROR:this.destroy();const z=new Error(I.data.message);z.data=I.data.data,this.emitReserved("connect_error",z)}}onevent(I){const P=I.data||[];null!=I.id&&P.push(this.ack(I.id)),this.connected?this.emitEvent(P):this.receiveBuffer.push(Object.freeze(P))}emitEvent(I){if(this._anyListeners&&this._anyListeners.length){const P=this._anyListeners.slice();for(const z of P)z.apply(this,I)}super.emit.apply(this,I),this._pid&&I.length&&"string"==typeof I[I.length-1]&&(this._lastOffset=I[I.length-1])}ack(I){const P=this;let z=!1;return function(...Ce){z||(z=!0,P.packet({type:ct.ACK,id:I,data:Ce}))}}onack(I){const P=this.acks[I.id];"function"==typeof P&&(P.apply(this,I.data),delete this.acks[I.id])}onconnect(I,P){this.id=I,this.recovered=P&&this._pid===P,this._pid=P,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(I=>this.emitEvent(I)),this.receiveBuffer=[],this.sendBuffer.forEach(I=>{this.notifyOutgoingListeners(I),this.packet(I)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(I=>I()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ct.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(I){return this.flags.compress=I,this}get volatile(){return this.flags.volatile=!0,this}timeout(I){return this.flags.timeout=I,this}onAny(I){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(I),this}prependAny(I){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(I),this}offAny(I){if(!this._anyListeners)return this;if(I){const P=this._anyListeners;for(let z=0;z<P.length;z++)if(I===P[z])return P.splice(z,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(I){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(I),this}prependAnyOutgoing(I){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(I),this}offAnyOutgoing(I){if(!this._anyOutgoingListeners)return this;if(I){const P=this._anyOutgoingListeners;for(let z=0;z<P.length;z++)if(I===P[z])return P.splice(z,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(I){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const P=this._anyOutgoingListeners.slice();for(const z of P)z.apply(this,I.data)}}}function Ut(H){this.ms=(H=H||{}).min||100,this.max=H.max||1e4,this.factor=H.factor||2,this.jitter=H.jitter>0&&H.jitter<=1?H.jitter:0,this.attempts=0}Ut.prototype.duration=function(){var H=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var I=Math.random(),P=Math.floor(I*this.jitter*H);H=1&Math.floor(10*I)?H+P:H-P}return 0|Math.min(H,this.max)},Ut.prototype.reset=function(){this.attempts=0},Ut.prototype.setMin=function(H){this.ms=H},Ut.prototype.setMax=function(H){this.max=H},Ut.prototype.setJitter=function(H){this.jitter=H};class Nt extends j{constructor(I,P){var z;super(),this.nsps={},this.subs=[],I&&"object"==typeof I&&(P=I,I=void 0),(P=P||{}).path=P.path||"/socket.io",this.opts=P,q(this,P),this.reconnection(!1!==P.reconnection),this.reconnectionAttempts(P.reconnectionAttempts||1/0),this.reconnectionDelay(P.reconnectionDelay||1e3),this.reconnectionDelayMax(P.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(z=P.randomizationFactor)&&void 0!==z?z:.5),this.backoff=new Ut({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==P.timeout?2e4:P.timeout),this._readyState="closed",this.uri=I;const Ce=P.parser||c;this.encoder=new Ce.Encoder,this.decoder=new Ce.Decoder,this._autoConnect=!1!==P.autoConnect,this._autoConnect&&this.open()}reconnection(I){return arguments.length?(this._reconnection=!!I,this):this._reconnection}reconnectionAttempts(I){return void 0===I?this._reconnectionAttempts:(this._reconnectionAttempts=I,this)}reconnectionDelay(I){var P;return void 0===I?this._reconnectionDelay:(this._reconnectionDelay=I,null===(P=this.backoff)||void 0===P||P.setMin(I),this)}randomizationFactor(I){var P;return void 0===I?this._randomizationFactor:(this._randomizationFactor=I,null===(P=this.backoff)||void 0===P||P.setJitter(I),this)}reconnectionDelayMax(I){var P;return void 0===I?this._reconnectionDelayMax:(this._reconnectionDelayMax=I,null===(P=this.backoff)||void 0===P||P.setMax(I),this)}timeout(I){return arguments.length?(this._timeout=I,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(I){if(~this._readyState.indexOf("open"))return this;this.engine=new xe(this.uri,this.opts);const P=this.engine,z=this;this._readyState="opening",this.skipReconnect=!1;const Ce=Tt(P,"open",function(){z.onopen(),I&&I()}),We=gt=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",gt),I?I(gt):this.maybeReconnectOnOpen()},rt=Tt(P,"error",We);if(!1!==this._timeout){const _t=this.setTimeoutFn(()=>{Ce(),We(new Error("timeout")),P.close()},this._timeout);this.opts.autoUnref&&_t.unref(),this.subs.push(()=>{this.clearTimeoutFn(_t)})}return this.subs.push(Ce),this.subs.push(rt),this}connect(I){return this.open(I)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const I=this.engine;this.subs.push(Tt(I,"ping",this.onping.bind(this)),Tt(I,"data",this.ondata.bind(this)),Tt(I,"error",this.onerror.bind(this)),Tt(I,"close",this.onclose.bind(this)),Tt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(I){try{this.decoder.add(I)}catch(P){this.onclose("parse error",P)}}ondecoded(I){Le(()=>{this.emitReserved("packet",I)},this.setTimeoutFn)}onerror(I){this.emitReserved("error",I)}socket(I,P){let z=this.nsps[I];return z?this._autoConnect&&!z.active&&z.connect():(z=new ai(this,I,P),this.nsps[I]=z),z}_destroy(I){const P=Object.keys(this.nsps);for(const z of P)if(this.nsps[z].active)return;this._close()}_packet(I){const P=this.encoder.encode(I);for(let z=0;z<P.length;z++)this.engine.write(P[z],I.options)}cleanup(){this.subs.forEach(I=>I()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(I,P){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",I,P),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const I=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const P=this.backoff.duration();this._reconnecting=!0;const z=this.setTimeoutFn(()=>{I.skipReconnect||(this.emitReserved("reconnect_attempt",I.backoff.attempts),!I.skipReconnect&&I.open(Ce=>{Ce?(I._reconnecting=!1,I.reconnect(),this.emitReserved("reconnect_error",Ce)):I.onreconnect()}))},P);this.opts.autoUnref&&z.unref(),this.subs.push(()=>{this.clearTimeoutFn(z)})}}onreconnect(){const I=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",I)}}const Wt={};function Pt(H,I){"object"==typeof H&&(I=H,H=void 0);const P=function V(H,I="",P){let z=H;P=P||typeof location<"u"&&location,null==H&&(H=P.protocol+"//"+P.host),"string"==typeof H&&("/"===H.charAt(0)&&(H="/"===H.charAt(1)?P.protocol+H:P.host+H),/^(https?|wss?):\/\//.test(H)||(H=typeof P<"u"?P.protocol+"//"+H:"https://"+H),z=Oe(H)),z.port||(/^(http|ws)$/.test(z.protocol)?z.port="80":/^(http|ws)s$/.test(z.protocol)&&(z.port="443")),z.path=z.path||"/";const We=-1!==z.host.indexOf(":")?"["+z.host+"]":z.host;return z.id=z.protocol+"://"+We+":"+z.port+I,z.href=z.protocol+"://"+We+(P&&P.port===z.port?"":":"+z.port),z}(H,(I=I||{}).path||"/socket.io"),z=P.source,Ce=P.id;let _t;return I.forceNew||I["force new connection"]||!1===I.multiplex||Wt[Ce]&&P.path in Wt[Ce].nsps?_t=new Nt(z,I):(Wt[Ce]||(Wt[Ce]=new Nt(z,I)),_t=Wt[Ce]),P.query&&!I.query&&(I.query=P.queryKey),_t.socket(P.path,I)}Object.assign(Pt,{Manager:Nt,Socket:ai,io:Pt,connect:Pt});class Gt{constructor(I){this.config=I,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===I&&(I=this.emptyConfig),this.ioSocket=(Pt||n)(I.url,I.options)}of(I){this.ioSocket.of(I)}on(I,P){this.ioSocket.on(I,P)}once(I,P){this.ioSocket.once(I,P)}connect(){return this.ioSocket.connect()}disconnect(I){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(I,...P){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(I,P){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(I){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(I){return this.subscribersCounter[I]||(this.subscribersCounter[I]=0),this.subscribersCounter[I]++,this.eventObservables$[I]||(this.eventObservables$[I]=new y.y(P=>{const z=Ce=>{P.next(Ce)};return this.ioSocket.on(I,z),()=>{this.subscribersCounter[I]--,0===this.subscribersCounter[I]&&(this.ioSocket.removeListener(I,z),delete this.eventObservables$[I])}}).pipe((0,x.B)())),this.eventObservables$[I]}fromOneTimeEvent(I){return new Promise(P=>this.once(I,P))}listeners(I){return this.ioSocket.listeners(I)}listenersAny(){return this.ioSocket.listenersAny()}listenersAnyOutgoing(){return this.ioSocket.listenersAnyOutgoing()}off(I,P){return I?I&&!P?this.ioSocket.off(I):this.ioSocket.off(I,P):this.ioSocket.offAny()}onAny(I){return this.ioSocket.onAny(I)}onAnyOutgoing(I){return this.ioSocket.onAnyOutgoing(I)}prependAny(I){return this.ioSocket.prependAny(I)}prependAnyOutgoing(I){return this.ioSocket.prependAnyOutgoing(I)}timeout(I){return this.ioSocket.timeout(I)}volatile(){return this.ioSocket.volatile}}function xi(H){return new Gt(H)}const wi=new p.InjectionToken("__SOCKET_IO_CONFIG__");let Ci=(()=>{class H{static forRoot(P){return{ngModule:H,providers:[{provide:wi,useValue:P},{provide:Gt,useFactory:xi,deps:[wi]}]}}}return H.\u0275fac=function(P){return new(P||H)},H.\u0275mod=p.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=p.\u0275\u0275defineInjector({}),H})();var jt=M(2296),qt=M(617),oi=M(5940),Vt=M(3814);function ii(H,I){1&H&&(p.\u0275\u0275elementStart(0,"button",17),p.\u0275\u0275text(1,"Save Instances"),p.\u0275\u0275elementEnd())}function $t(H,I){1&H&&(p.\u0275\u0275elementStart(0,"div",18),p.\u0275\u0275element(1,"mat-spinner",19),p.\u0275\u0275elementEnd()),2&H&&(p.\u0275\u0275advance(1),p.\u0275\u0275property("diameter",30))}const ni=[{path:"",component:(()=>{var H;class I{constructor(z,Ce,We,rt){this.router=z,this.route=Ce,this.socket=We,this.ngZone=rt,this.isHoverOver=!1,this.loader=!1}ngOnInit(){localStorage.getItem("user_name")&&localStorage.getItem("user_id")&&this.route.queryParams.subscribe(z=>{Object.keys(z).length>0&&z.access==localStorage.getItem("user_id")?(this.queryParams=z,this.connectLocalShell()):this.router.navigate(["/"])})}ngOnDestroy(){this.socket.emit("disconnect_shell")}addInstance(){this.drawer.toggle()}openConnection(z){let We="http://pibox.local:1337/#"+this.router.serializeUrl(this.router.createUrlTree(["/terminal/shell"],{queryParams:{server_name:"localhost",server_host:"local"}}));window.open(We,"","width=1024,height=758")}connectLocalShell(){this.term=null,this.fitAddon=null,this.term=new d.Terminal({cursorBlink:!0,rows:32,cols:110}),this.fitAddon=new g.FitAddon,this.socket.emit("pty"),this.ptyShell()}ptyShell(){this.term.open(document.getElementById("terminal_1")),this.term.onData(z=>{this.socket.emit("message",z)}),this.socket.on("data",z=>{this.ngZone.run(()=>{this.term.write(z)})})}}return(H=I).\u0275fac=function(z){return new(z||H)(p.\u0275\u0275directiveInject(l.Router),p.\u0275\u0275directiveInject(l.ActivatedRoute),p.\u0275\u0275directiveInject(Gt),p.\u0275\u0275directiveInject(p.NgZone))},H.\u0275cmp=p.\u0275\u0275defineComponent({type:H,selectors:[["app-terminal"]],viewQuery:function(z,Ce){if(1&z&&p.\u0275\u0275viewQuery(C.jA,5),2&z){let We;p.\u0275\u0275queryRefresh(We=p.\u0275\u0275loadQuery())&&(Ce.drawer=We.first)}},decls:22,vars:3,consts:[[1,"filter-container",3,"hasBackdrop"],["mode","over","position","end",1,"sidenav-25"],["drawer",""],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","2px",1,"main"],[1,"side_header"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between"],[1,"side_heading"],["mat-icon-button","",3,"click"],[1,"side_main"],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","10px"],[1,"submit_btn"],["mat-raised-button","","color","success",4,"ngIf"],["class","loading","fxLayoutAlign","center",4,"ngIf"],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","10px",1,"main"],["fxLayout","row","fxLayoutGap","10px","fxLayout.xs","column"],["fxFlex","120%"],["id","terminal_1"],["mat-raised-button","","color","success"],["fxLayoutAlign","center",1,"loading"],[3,"diameter"]],template:function(z,Ce){if(1&z){const We=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4"),p.\u0275\u0275text(8,"Add Instances"),p.\u0275\u0275elementEnd()(),p.\u0275\u0275elementStart(9,"button",7),p.\u0275\u0275listener("click",function(){p.\u0275\u0275restoreView(We);const gt=p.\u0275\u0275reference(2);return p.\u0275\u0275resetView(gt.toggle())}),p.\u0275\u0275elementStart(10,"mat-icon"),p.\u0275\u0275text(11,"close"),p.\u0275\u0275elementEnd()()()(),p.\u0275\u0275elementStart(12,"div",8),p.\u0275\u0275element(13,"div",9),p.\u0275\u0275elementEnd(),p.\u0275\u0275elementStart(14,"div",10),p.\u0275\u0275template(15,ii,2,0,"button",11),p.\u0275\u0275template(16,$t,2,1,"div",12),p.\u0275\u0275elementEnd()()(),p.\u0275\u0275elementStart(17,"mat-drawer-content")(18,"div",13)(19,"div",14)(20,"div",15),p.\u0275\u0275element(21,"div",16),p.\u0275\u0275elementEnd()()()()()}2&z&&(p.\u0275\u0275property("hasBackdrop",!1),p.\u0275\u0275advance(15),p.\u0275\u0275property("ngIf",!Ce.loader),p.\u0275\u0275advance(1),p.\u0275\u0275property("ngIf",Ce.loader))},dependencies:[E.NgIf,jt.lW,jt.RK,qt.Hw,oi.Ou,C.jA,C.kh,C.LW,Vt.xw,Vt.SQ,Vt.Wh,Vt.yH],styles:[".main[_ngcontent-%COMP%]{padding:20px}mat-card[_ngcontent-%COMP%]{border-radius:10px}.filter-container[_ngcontent-%COMP%]{min-height:calc(100vh - 45px);background-color:#000}.sidenav-25[_ngcontent-%COMP%]{width:26%}.content[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:10px}.delete_btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d13212}.delete_btn[_ngcontent-%COMP%]:hover{background-color:#d13212}.delete_btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#f0f0f0}.ubuntu[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/ubuntu.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.centos[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/centos.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.pi[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/pi.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.debian[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/debian.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.freebsd[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/freebsd.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.opensuse[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/opensuse.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}  .mat-ink-bar{background-color:#047fb1!important}.menu-button[_ngcontent-%COMP%]{z-index:10;position:fixed;bottom:1.5rem;right:1.5rem}"]}),I})()}];let hn=(()=>{var H;class I{}return(H=I).\u0275fac=function(z){return new(z||H)},H.\u0275mod=p.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=p.\u0275\u0275defineInjector({imports:[l.RouterModule.forChild(ni),l.RouterModule]}),I})();var mn=M(6223),Bi=M(567),un=M(8960);const Ni={url:"http://localhost:1338/",options:{transports:["websocket"]}};let ki=(()=>{var H;class I{}return(H=I).\u0275fac=function(z){return new(z||H)},H.\u0275mod=p.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=p.\u0275\u0275defineInjector({imports:[E.CommonModule,hn,mn.u5,l.RouterModule,Bi.HttpClientModule,un.q,Ci.forRoot(Ni)]}),I})()},5619:(Qe,ke,M)=>{M.d(ke,{X:()=>n});var c=M(8645);class n extends c.x{constructor(l){super(),this._value=l}get value(){return this.getValue()}_subscribe(l){const d=super._subscribe(l);return!d.closed&&l.next(this._value),d}getValue(){const{hasError:l,thrownError:d,_value:g}=this;if(l)throw d;return this._throwIfClosed(),g}next(l){super.next(this._value=l)}}},5592:(Qe,ke,M)=>{M.d(ke,{y:()=>p});var c=M(305),n=M(7394),E=M(4850),l=M(8407),d=M(2653),g=M(4674),C=M(1441);let p=(()=>{class b{constructor(u){u&&(this._subscribe=u)}lift(u){const h=new b;return h.source=this,h.operator=u,h}subscribe(u,h,m){const v=function w(b){return b&&b instanceof c.Lv||function x(b){return b&&(0,g.m)(b.next)&&(0,g.m)(b.error)&&(0,g.m)(b.complete)}(b)&&(0,n.Nn)(b)}(u)?u:new c.Hp(u,h,m);return(0,C.x)(()=>{const{operator:k,source:T}=this;v.add(k?k.call(v,T):T?this._subscribe(v):this._trySubscribe(v))}),v}_trySubscribe(u){try{return this._subscribe(u)}catch(h){u.error(h)}}forEach(u,h){return new(h=y(h))((m,v)=>{const k=new c.Hp({next:T=>{try{u(T)}catch(O){v(O),k.unsubscribe()}},error:v,complete:m});this.subscribe(k)})}_subscribe(u){var h;return null===(h=this.source)||void 0===h?void 0:h.subscribe(u)}[E.L](){return this}pipe(...u){return(0,l.U)(u)(this)}toPromise(u){return new(u=y(u))((h,m)=>{let v;this.subscribe(k=>v=k,k=>m(k),()=>h(v))})}}return b.create=o=>new b(o),b})();function y(b){var o;return null!==(o=b??d.config.Promise)&&void 0!==o?o:Promise}},8645:(Qe,ke,M)=>{M.d(ke,{x:()=>C});var c=M(5592),n=M(7394);const l=(0,M(2306).d)(y=>function(){y(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var d=M(9039),g=M(1441);let C=(()=>{class y extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(w){const b=new p(this,this);return b.operator=w,b}_throwIfClosed(){if(this.closed)throw new l}next(w){(0,g.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const b of this.currentObservers)b.next(w)}})}error(w){(0,g.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=w;const{observers:b}=this;for(;b.length;)b.shift().error(w)}})}complete(){(0,g.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:w}=this;for(;w.length;)w.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var w;return(null===(w=this.observers)||void 0===w?void 0:w.length)>0}_trySubscribe(w){return this._throwIfClosed(),super._trySubscribe(w)}_subscribe(w){return this._throwIfClosed(),this._checkFinalizedStatuses(w),this._innerSubscribe(w)}_innerSubscribe(w){const{hasError:b,isStopped:o,observers:u}=this;return b||o?n.Lc:(this.currentObservers=null,u.push(w),new n.w0(()=>{this.currentObservers=null,(0,d.P)(u,w)}))}_checkFinalizedStatuses(w){const{hasError:b,thrownError:o,isStopped:u}=this;b?w.error(o):u&&w.complete()}asObservable(){const w=new c.y;return w.source=this,w}}return y.create=(x,w)=>new p(x,w),y})();class p extends C{constructor(x,w){super(),this.destination=x,this.source=w}next(x){var w,b;null===(b=null===(w=this.destination)||void 0===w?void 0:w.next)||void 0===b||b.call(w,x)}error(x){var w,b;null===(b=null===(w=this.destination)||void 0===w?void 0:w.error)||void 0===b||b.call(w,x)}complete(){var x,w;null===(w=null===(x=this.destination)||void 0===x?void 0:x.complete)||void 0===w||w.call(x)}_subscribe(x){var w,b;return null!==(b=null===(w=this.source)||void 0===w?void 0:w.subscribe(x))&&void 0!==b?b:n.Lc}}},305:(Qe,ke,M)=>{M.d(ke,{Hp:()=>m,Lv:()=>b});var c=M(4674),n=M(7394),E=M(2653),l=M(3894),d=M(2420);const g=y("C",void 0,void 0);function y(f,S,N){return{kind:f,value:S,error:N}}var x=M(7599),w=M(1441);class b extends n.w0{constructor(S){super(),this.isStopped=!1,S?(this.destination=S,(0,n.Nn)(S)&&S.add(this)):this.destination=O}static create(S,N,ee){return new m(S,N,ee)}next(S){this.isStopped?T(function p(f){return y("N",f,void 0)}(S),this):this._next(S)}error(S){this.isStopped?T(function C(f){return y("E",void 0,f)}(S),this):(this.isStopped=!0,this._error(S))}complete(){this.isStopped?T(g,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(S){this.destination.next(S)}_error(S){try{this.destination.error(S)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const o=Function.prototype.bind;function u(f,S){return o.call(f,S)}class h{constructor(S){this.partialObserver=S}next(S){const{partialObserver:N}=this;if(N.next)try{N.next(S)}catch(ee){v(ee)}}error(S){const{partialObserver:N}=this;if(N.error)try{N.error(S)}catch(ee){v(ee)}else v(S)}complete(){const{partialObserver:S}=this;if(S.complete)try{S.complete()}catch(N){v(N)}}}class m extends b{constructor(S,N,ee){let Q;if(super(),(0,c.m)(S)||!S)Q={next:S??void 0,error:N??void 0,complete:ee??void 0};else{let se;this&&E.config.useDeprecatedNextContext?(se=Object.create(S),se.unsubscribe=()=>this.unsubscribe(),Q={next:S.next&&u(S.next,se),error:S.error&&u(S.error,se),complete:S.complete&&u(S.complete,se)}):Q=S}this.destination=new h(Q)}}function v(f){E.config.useDeprecatedSynchronousErrorHandling?(0,w.O)(f):(0,l.h)(f)}function T(f,S){const{onStoppedNotification:N}=E.config;N&&x.z.setTimeout(()=>N(f,S))}const O={closed:!0,next:d.Z,error:function k(f){throw f},complete:d.Z}},7394:(Qe,ke,M)=>{M.d(ke,{Lc:()=>g,w0:()=>d,Nn:()=>C});var c=M(4674);const E=(0,M(2306).d)(y=>function(w){y(this),this.message=w?`${w.length} errors occurred during unsubscription:\n${w.map((b,o)=>`${o+1}) ${b.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=w});var l=M(9039);class d{constructor(x){this.initialTeardown=x,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let x;if(!this.closed){this.closed=!0;const{_parentage:w}=this;if(w)if(this._parentage=null,Array.isArray(w))for(const u of w)u.remove(this);else w.remove(this);const{initialTeardown:b}=this;if((0,c.m)(b))try{b()}catch(u){x=u instanceof E?u.errors:[u]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const u of o)try{p(u)}catch(h){x=x??[],h instanceof E?x=[...x,...h.errors]:x.push(h)}}if(x)throw new E(x)}}add(x){var w;if(x&&x!==this)if(this.closed)p(x);else{if(x instanceof d){if(x.closed||x._hasParent(this))return;x._addParent(this)}(this._finalizers=null!==(w=this._finalizers)&&void 0!==w?w:[]).push(x)}}_hasParent(x){const{_parentage:w}=this;return w===x||Array.isArray(w)&&w.includes(x)}_addParent(x){const{_parentage:w}=this;this._parentage=Array.isArray(w)?(w.push(x),w):w?[w,x]:x}_removeParent(x){const{_parentage:w}=this;w===x?this._parentage=null:Array.isArray(w)&&(0,l.P)(w,x)}remove(x){const{_finalizers:w}=this;w&&(0,l.P)(w,x),x instanceof d&&x._removeParent(this)}}d.EMPTY=(()=>{const y=new d;return y.closed=!0,y})();const g=d.EMPTY;function C(y){return y instanceof d||y&&"closed"in y&&(0,c.m)(y.remove)&&(0,c.m)(y.add)&&(0,c.m)(y.unsubscribe)}function p(y){(0,c.m)(y)?y():y.unsubscribe()}},2653:(Qe,ke,M)=>{M.d(ke,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(Qe,ke,M)=>{M.d(ke,{c:()=>g});var c=M(5592),n=M(7394),E=M(6196),l=M(8251),d=M(9360);class g extends c.y{constructor(p,y){super(),this.source=p,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,d.A)(p)&&(this.lift=p.lift)}_subscribe(p){return this.getSubject().subscribe(p)}getSubject(){const p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:p}=this;this._subject=this._connection=null,p?.unsubscribe()}connect(){let p=this._connection;if(!p){p=this._connection=new n.w0;const y=this.getSubject();p.add(this.source.subscribe((0,l.x)(y,void 0,()=>{this._teardown(),y.complete()},x=>{this._teardown(),y.error(x)},()=>this._teardown()))),p.closed&&(this._connection=null,p=n.w0.EMPTY)}return p}refCount(){return(0,E.x)()(this)}}},2572:(Qe,ke,M)=>{M.d(ke,{a:()=>x});var c=M(5592),n=M(7453),E=M(7715),l=M(2737),d=M(7400),g=M(9940),C=M(2714),p=M(8251),y=M(7103);function x(...o){const u=(0,g.yG)(o),h=(0,g.jO)(o),{args:m,keys:v}=(0,n.D)(o);if(0===m.length)return(0,E.D)([],u);const k=new c.y(function w(o,u,h=l.y){return m=>{b(u,()=>{const{length:v}=o,k=new Array(v);let T=v,O=v;for(let f=0;f<v;f++)b(u,()=>{const S=(0,E.D)(o[f],u);let N=!1;S.subscribe((0,p.x)(m,ee=>{k[f]=ee,N||(N=!0,O--),O||m.next(h(k.slice()))},()=>{--T||m.complete()}))},m)},m)}}(m,u,v?T=>(0,C.n)(v,T):l.y));return h?k.pipe((0,d.Z)(h)):k}function b(o,u,h){o?(0,y.f)(h,o,u):u()}},5211:(Qe,ke,M)=>{M.d(ke,{z:()=>d});var c=M(7537),E=M(9940),l=M(7715);function d(...g){return function n(){return(0,c.J)(1)}()((0,l.D)(g,(0,E.yG)(g)))}},4911:(Qe,ke,M)=>{M.d(ke,{P:()=>E});var c=M(5592),n=M(4829);function E(l){return new c.y(d=>{(0,n.Xf)(l()).subscribe(d)})}},6232:(Qe,ke,M)=>{M.d(ke,{E:()=>n});const n=new(M(5592).y)(d=>d.complete())},9315:(Qe,ke,M)=>{M.d(ke,{D:()=>p});var c=M(5592),n=M(7453),E=M(4829),l=M(9940),d=M(8251),g=M(7400),C=M(2714);function p(...y){const x=(0,l.jO)(y),{args:w,keys:b}=(0,n.D)(y),o=new c.y(u=>{const{length:h}=w;if(!h)return void u.complete();const m=new Array(h);let v=h,k=h;for(let T=0;T<h;T++){let O=!1;(0,E.Xf)(w[T]).subscribe((0,d.x)(u,f=>{O||(O=!0,k--),m[T]=f},()=>v--,void 0,()=>{(!v||!O)&&(k||u.next(b?(0,C.n)(b,m):m),u.complete())}))}});return x?o.pipe((0,g.Z)(x)):o}},7715:(Qe,ke,M)=>{M.d(ke,{D:()=>ee});var c=M(4829),n=M(7103),E=M(9360),l=M(8251);function d(Q,se=0){return(0,E.e)((Re,ze)=>{Re.subscribe((0,l.x)(ze,Be=>(0,n.f)(ze,Q,()=>ze.next(Be),se),()=>(0,n.f)(ze,Q,()=>ze.complete(),se),Be=>(0,n.f)(ze,Q,()=>ze.error(Be),se)))})}function g(Q,se=0){return(0,E.e)((Re,ze)=>{ze.add(Q.schedule(()=>Re.subscribe(ze),se))})}var y=M(5592),w=M(4971),b=M(4674);function u(Q,se){if(!Q)throw new Error("Iterable cannot be null");return new y.y(Re=>{(0,n.f)(Re,se,()=>{const ze=Q[Symbol.asyncIterator]();(0,n.f)(Re,se,()=>{ze.next().then(Be=>{Be.done?Re.complete():Re.next(Be.value)})},0,!0)})})}var h=M(8382),m=M(4026),v=M(4266),k=M(3664),T=M(5726),O=M(9853),f=M(541);function ee(Q,se){return se?function N(Q,se){if(null!=Q){if((0,h.c)(Q))return function C(Q,se){return(0,c.Xf)(Q).pipe(g(se),d(se))}(Q,se);if((0,v.z)(Q))return function x(Q,se){return new y.y(Re=>{let ze=0;return se.schedule(function(){ze===Q.length?Re.complete():(Re.next(Q[ze++]),Re.closed||this.schedule())})})}(Q,se);if((0,m.t)(Q))return function p(Q,se){return(0,c.Xf)(Q).pipe(g(se),d(se))}(Q,se);if((0,T.D)(Q))return u(Q,se);if((0,k.T)(Q))return function o(Q,se){return new y.y(Re=>{let ze;return(0,n.f)(Re,se,()=>{ze=Q[w.h](),(0,n.f)(Re,se,()=>{let Be,U;try{({value:Be,done:U}=ze.next())}catch(te){return void Re.error(te)}U?Re.complete():Re.next(Be)},0,!0)}),()=>(0,b.m)(ze?.return)&&ze.return()})}(Q,se);if((0,f.L)(Q))return function S(Q,se){return u((0,f.Q)(Q),se)}(Q,se)}throw(0,O.z)(Q)}(Q,se):(0,c.Xf)(Q)}},2438:(Qe,ke,M)=>{M.d(ke,{R:()=>x});var c=M(4829),n=M(5592),E=M(1631),l=M(4266),d=M(4674),g=M(7400);const C=["addListener","removeListener"],p=["addEventListener","removeEventListener"],y=["on","off"];function x(h,m,v,k){if((0,d.m)(v)&&(k=v,v=void 0),k)return x(h,m,v).pipe((0,g.Z)(k));const[T,O]=function u(h){return(0,d.m)(h.addEventListener)&&(0,d.m)(h.removeEventListener)}(h)?p.map(f=>S=>h[f](m,S,v)):function b(h){return(0,d.m)(h.addListener)&&(0,d.m)(h.removeListener)}(h)?C.map(w(h,m)):function o(h){return(0,d.m)(h.on)&&(0,d.m)(h.off)}(h)?y.map(w(h,m)):[];if(!T&&(0,l.z)(h))return(0,E.z)(f=>x(f,m,v))((0,c.Xf)(h));if(!T)throw new TypeError("Invalid event target");return new n.y(f=>{const S=(...N)=>f.next(1<N.length?N:N[0]);return T(S),()=>O(S)})}function w(h,m){return v=>k=>h[v](m,k)}},4829:(Qe,ke,M)=>{M.d(ke,{Xf:()=>o});var c=M(7582),n=M(4266),E=M(4026),l=M(5592),d=M(8382),g=M(5726),C=M(9853),p=M(3664),y=M(541),x=M(4674),w=M(3894),b=M(4850);function o(f){if(f instanceof l.y)return f;if(null!=f){if((0,d.c)(f))return function u(f){return new l.y(S=>{const N=f[b.L]();if((0,x.m)(N.subscribe))return N.subscribe(S);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(f);if((0,n.z)(f))return function h(f){return new l.y(S=>{for(let N=0;N<f.length&&!S.closed;N++)S.next(f[N]);S.complete()})}(f);if((0,E.t)(f))return function m(f){return new l.y(S=>{f.then(N=>{S.closed||(S.next(N),S.complete())},N=>S.error(N)).then(null,w.h)})}(f);if((0,g.D)(f))return k(f);if((0,p.T)(f))return function v(f){return new l.y(S=>{for(const N of f)if(S.next(N),S.closed)return;S.complete()})}(f);if((0,y.L)(f))return function T(f){return k((0,y.Q)(f))}(f)}throw(0,C.z)(f)}function k(f){return new l.y(S=>{(function O(f,S){var N,ee,Q,se;return(0,c.mG)(this,void 0,void 0,function*(){try{for(N=(0,c.KL)(f);!(ee=yield N.next()).done;)if(S.next(ee.value),S.closed)return}catch(Re){Q={error:Re}}finally{try{ee&&!ee.done&&(se=N.return)&&(yield se.call(N))}finally{if(Q)throw Q.error}}S.complete()})})(f,S).catch(N=>S.error(N))})}},3019:(Qe,ke,M)=>{M.d(ke,{T:()=>g});var c=M(7537),n=M(4829),E=M(6232),l=M(9940),d=M(7715);function g(...C){const p=(0,l.yG)(C),y=(0,l._6)(C,1/0),x=C;return x.length?1===x.length?(0,n.Xf)(x[0]):(0,c.J)(y)((0,d.D)(x,p)):E.E}},2096:(Qe,ke,M)=>{M.d(ke,{of:()=>E});var c=M(9940),n=M(7715);function E(...l){const d=(0,c.yG)(l);return(0,n.D)(l,d)}},8504:(Qe,ke,M)=>{M.d(ke,{_:()=>E});var c=M(5592),n=M(4674);function E(l,d){const g=(0,n.m)(l)?l:()=>l,C=p=>p.error(g());return new c.y(d?p=>d.schedule(C,0,p):C)}},4825:(Qe,ke,M)=>{M.d(ke,{H:()=>d});var c=M(5592),n=M(6321),E=M(671);function d(g=0,C,p=n.P){let y=-1;return null!=C&&((0,E.K)(C)?p=C:y=C),new c.y(x=>{let w=function l(g){return g instanceof Date&&!isNaN(g)}(g)?+g-p.now():g;w<0&&(w=0);let b=0;return p.schedule(function(){x.closed||(x.next(b++),0<=y?this.schedule(void 0,y):x.complete())},w)})}},8251:(Qe,ke,M)=>{M.d(ke,{x:()=>n});var c=M(305);function n(l,d,g,C,p){return new E(l,d,g,C,p)}class E extends c.Lv{constructor(d,g,C,p,y,x){super(d),this.onFinalize=y,this.shouldUnsubscribe=x,this._next=g?function(w){try{g(w)}catch(b){d.error(b)}}:super._next,this._error=p?function(w){try{p(w)}catch(b){d.error(b)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(w){d.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var d;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:g}=this;super.unsubscribe(),!g&&(null===(d=this.onFinalize)||void 0===d||d.call(this))}}}},6306:(Qe,ke,M)=>{M.d(ke,{K:()=>l});var c=M(4829),n=M(8251),E=M(9360);function l(d){return(0,E.e)((g,C)=>{let x,p=null,y=!1;p=g.subscribe((0,n.x)(C,void 0,void 0,w=>{x=(0,c.Xf)(d(w,l(d)(g))),p?(p.unsubscribe(),p=null,x.subscribe(C)):y=!0})),y&&(p.unsubscribe(),p=null,x.subscribe(C))})}},3620:(Qe,ke,M)=>{M.d(ke,{b:()=>l});var c=M(6321),n=M(9360),E=M(8251);function l(d,g=c.z){return(0,n.e)((C,p)=>{let y=null,x=null,w=null;const b=()=>{if(y){y.unsubscribe(),y=null;const u=x;x=null,p.next(u)}};function o(){const u=w+d,h=g.now();if(h<u)return y=this.schedule(void 0,u-h),void p.add(y);b()}C.subscribe((0,E.x)(p,u=>{x=u,w=g.now(),y||(y=g.schedule(o,d),p.add(y))},()=>{b(),p.complete()},void 0,()=>{x=y=null}))})}},3997:(Qe,ke,M)=>{M.d(ke,{x:()=>l});var c=M(2737),n=M(9360),E=M(8251);function l(g,C=c.y){return g=g??d,(0,n.e)((p,y)=>{let x,w=!0;p.subscribe((0,E.x)(y,b=>{const o=C(b);(w||!g(x,o))&&(w=!1,x=o,y.next(b))}))})}function d(g,C){return g===C}},2181:(Qe,ke,M)=>{M.d(ke,{h:()=>E});var c=M(9360),n=M(8251);function E(l,d){return(0,c.e)((g,C)=>{let p=0;g.subscribe((0,n.x)(C,y=>l.call(d,y,p++)&&C.next(y)))})}},4716:(Qe,ke,M)=>{M.d(ke,{x:()=>n});var c=M(9360);function n(E){return(0,c.e)((l,d)=>{try{l.subscribe(d)}finally{d.add(E)}})}},7398:(Qe,ke,M)=>{M.d(ke,{U:()=>E});var c=M(9360),n=M(8251);function E(l,d){return(0,c.e)((g,C)=>{let p=0;g.subscribe((0,n.x)(C,y=>{C.next(l.call(d,y,p++))}))})}},975:(Qe,ke,M)=>{M.d(ke,{h:()=>n});var c=M(7398);function n(E){return(0,c.U)(()=>E)}},7537:(Qe,ke,M)=>{M.d(ke,{J:()=>E});var c=M(1631),n=M(2737);function E(l=1/0){return(0,c.z)(n.y,l)}},1631:(Qe,ke,M)=>{M.d(ke,{z:()=>p});var c=M(7398),n=M(4829),E=M(9360),l=M(7103),d=M(8251),C=M(4674);function p(y,x,w=1/0){return(0,C.m)(x)?p((b,o)=>(0,c.U)((u,h)=>x(b,u,o,h))((0,n.Xf)(y(b,o))),w):("number"==typeof x&&(w=x),(0,E.e)((b,o)=>function g(y,x,w,b,o,u,h,m){const v=[];let k=0,T=0,O=!1;const f=()=>{O&&!v.length&&!k&&x.complete()},S=ee=>k<b?N(ee):v.push(ee),N=ee=>{u&&x.next(ee),k++;let Q=!1;(0,n.Xf)(w(ee,T++)).subscribe((0,d.x)(x,se=>{o?.(se),u?S(se):x.next(se)},()=>{Q=!0},void 0,()=>{if(Q)try{for(k--;v.length&&k<b;){const se=v.shift();h?(0,l.f)(x,h,()=>N(se)):N(se)}f()}catch(se){x.error(se)}}))};return y.subscribe((0,d.x)(x,S,()=>{O=!0,f()})),()=>{m?.()}}(b,o,y,w)))}},6196:(Qe,ke,M)=>{M.d(ke,{x:()=>E});var c=M(9360),n=M(8251);function E(){return(0,c.e)((l,d)=>{let g=null;l._refCount++;const C=(0,n.x)(d,void 0,void 0,void 0,()=>{if(!l||l._refCount<=0||0<--l._refCount)return void(g=null);const p=l._connection,y=g;g=null,p&&(!y||p===y)&&p.unsubscribe(),d.unsubscribe()});l.subscribe(C),C.closed||(g=l.connect())})}},3020:(Qe,ke,M)=>{M.d(ke,{B:()=>d});var c=M(4829),n=M(8645),E=M(305),l=M(9360);function d(C={}){const{connector:p=(()=>new n.x),resetOnError:y=!0,resetOnComplete:x=!0,resetOnRefCountZero:w=!0}=C;return b=>{let o,u,h,m=0,v=!1,k=!1;const T=()=>{u?.unsubscribe(),u=void 0},O=()=>{T(),o=h=void 0,v=k=!1},f=()=>{const S=o;O(),S?.unsubscribe()};return(0,l.e)((S,N)=>{m++,!k&&!v&&T();const ee=h=h??p();N.add(()=>{m--,0===m&&!k&&!v&&(u=g(f,w))}),ee.subscribe(N),!o&&m>0&&(o=new E.Hp({next:Q=>ee.next(Q),error:Q=>{k=!0,T(),u=g(O,y,Q),ee.error(Q)},complete:()=>{v=!0,T(),u=g(O,x),ee.complete()}}),(0,c.Xf)(S).subscribe(o))})(b)}}function g(C,p,...y){if(!0===p)return void C();if(!1===p)return;const x=new E.Hp({next:()=>{x.unsubscribe(),C()}});return(0,c.Xf)(p(...y)).subscribe(x)}},7921:(Qe,ke,M)=>{M.d(ke,{O:()=>l});var c=M(5211),n=M(9940),E=M(9360);function l(...d){const g=(0,n.yG)(d);return(0,E.e)((C,p)=>{(g?(0,c.z)(d,C,g):(0,c.z)(d,C)).subscribe(p)})}},4664:(Qe,ke,M)=>{M.d(ke,{w:()=>l});var c=M(4829),n=M(9360),E=M(8251);function l(d,g){return(0,n.e)((C,p)=>{let y=null,x=0,w=!1;const b=()=>w&&!y&&p.complete();C.subscribe((0,E.x)(p,o=>{y?.unsubscribe();let u=0;const h=x++;(0,c.Xf)(d(o,h)).subscribe(y=(0,E.x)(p,m=>p.next(g?g(o,m,h,u++):m),()=>{y=null,b()}))},()=>{w=!0,b()}))})}},8180:(Qe,ke,M)=>{M.d(ke,{q:()=>l});var c=M(6232),n=M(9360),E=M(8251);function l(d){return d<=0?()=>c.E:(0,n.e)((g,C)=>{let p=0;g.subscribe((0,E.x)(C,y=>{++p<=d&&(C.next(y),d<=p&&C.complete())}))})}},9773:(Qe,ke,M)=>{M.d(ke,{R:()=>d});var c=M(9360),n=M(8251),E=M(4829),l=M(2420);function d(g){return(0,c.e)((C,p)=>{(0,E.Xf)(g).subscribe((0,n.x)(p,()=>p.complete(),l.Z)),!p.closed&&C.subscribe(p)})}},9397:(Qe,ke,M)=>{M.d(ke,{b:()=>d});var c=M(4674),n=M(9360),E=M(8251),l=M(2737);function d(g,C,p){const y=(0,c.m)(g)||C||p?{next:g,error:C,complete:p}:g;return y?(0,n.e)((x,w)=>{var b;null===(b=y.subscribe)||void 0===b||b.call(y);let o=!0;x.subscribe((0,E.x)(w,u=>{var h;null===(h=y.next)||void 0===h||h.call(y,u),w.next(u)},()=>{var u;o=!1,null===(u=y.complete)||void 0===u||u.call(y),w.complete()},u=>{var h;o=!1,null===(h=y.error)||void 0===h||h.call(y,u),w.error(u)},()=>{var u,h;o&&(null===(u=y.unsubscribe)||void 0===u||u.call(y)),null===(h=y.finalize)||void 0===h||h.call(y)}))}):l.y}},1954:(Qe,ke,M)=>{M.d(ke,{o:()=>d});var c=M(7394);class n extends c.w0{constructor(C,p){super()}schedule(C,p=0){return this}}const E={setInterval(g,C,...p){const{delegate:y}=E;return y?.setInterval?y.setInterval(g,C,...p):setInterval(g,C,...p)},clearInterval(g){const{delegate:C}=E;return(C?.clearInterval||clearInterval)(g)},delegate:void 0};var l=M(9039);class d extends n{constructor(C,p){super(C,p),this.scheduler=C,this.work=p,this.pending=!1}schedule(C,p=0){var y;if(this.closed)return this;this.state=C;const x=this.id,w=this.scheduler;return null!=x&&(this.id=this.recycleAsyncId(w,x,p)),this.pending=!0,this.delay=p,this.id=null!==(y=this.id)&&void 0!==y?y:this.requestAsyncId(w,this.id,p),this}requestAsyncId(C,p,y=0){return E.setInterval(C.flush.bind(C,this),y)}recycleAsyncId(C,p,y=0){if(null!=y&&this.delay===y&&!1===this.pending)return p;null!=p&&E.clearInterval(p)}execute(C,p){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const y=this._execute(C,p);if(y)return y;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,p){let x,y=!1;try{this.work(C)}catch(w){y=!0,x=w||new Error("Scheduled action threw falsy error")}if(y)return this.unsubscribe(),x}unsubscribe(){if(!this.closed){const{id:C,scheduler:p}=this,{actions:y}=p;this.work=this.state=this.scheduler=null,this.pending=!1,(0,l.P)(y,this),null!=C&&(this.id=this.recycleAsyncId(p,C,null)),this.delay=null,super.unsubscribe()}}}},9931:(Qe,ke,M)=>{M.d(ke,{v:()=>E});const c={now:()=>(c.delegate||Date).now(),delegate:void 0};class n{constructor(d,g=n.now){this.schedulerActionCtor=d,this.now=g}schedule(d,g=0,C){return new this.schedulerActionCtor(this,d).schedule(C,g)}}n.now=c.now;class E extends n{constructor(d,g=n.now){super(d,g),this.actions=[],this._active=!1}flush(d){const{actions:g}=this;if(this._active)return void g.push(d);let C;this._active=!0;do{if(C=d.execute(d.state,d.delay))break}while(d=g.shift());if(this._active=!1,C){for(;d=g.shift();)d.unsubscribe();throw C}}}},6321:(Qe,ke,M)=>{M.d(ke,{P:()=>l,z:()=>E});var c=M(1954);const E=new(M(9931).v)(c.o),l=E},7599:(Qe,ke,M)=>{M.d(ke,{z:()=>c});const c={setTimeout(n,E,...l){const{delegate:d}=c;return d?.setTimeout?d.setTimeout(n,E,...l):setTimeout(n,E,...l)},clearTimeout(n){const{delegate:E}=c;return(E?.clearTimeout||clearTimeout)(n)},delegate:void 0}},4971:(Qe,ke,M)=>{M.d(ke,{h:()=>n});const n=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Qe,ke,M)=>{M.d(ke,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(Qe,ke,M)=>{M.d(ke,{_6:()=>g,jO:()=>l,yG:()=>d});var c=M(4674),n=M(671);function E(C){return C[C.length-1]}function l(C){return(0,c.m)(E(C))?C.pop():void 0}function d(C){return(0,n.K)(E(C))?C.pop():void 0}function g(C,p){return"number"==typeof E(C)?C.pop():p}},7453:(Qe,ke,M)=>{M.d(ke,{D:()=>d});const{isArray:c}=Array,{getPrototypeOf:n,prototype:E,keys:l}=Object;function d(C){if(1===C.length){const p=C[0];if(c(p))return{args:p,keys:null};if(function g(C){return C&&"object"==typeof C&&n(C)===E}(p)){const y=l(p);return{args:y.map(x=>p[x]),keys:y}}}return{args:C,keys:null}}},9039:(Qe,ke,M)=>{function c(n,E){if(n){const l=n.indexOf(E);0<=l&&n.splice(l,1)}}M.d(ke,{P:()=>c})},2306:(Qe,ke,M)=>{function c(n){const l=n(d=>{Error.call(d),d.stack=(new Error).stack});return l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l}M.d(ke,{d:()=>c})},2714:(Qe,ke,M)=>{function c(n,E){return n.reduce((l,d,g)=>(l[d]=E[g],l),{})}M.d(ke,{n:()=>c})},1441:(Qe,ke,M)=>{M.d(ke,{O:()=>l,x:()=>E});var c=M(2653);let n=null;function E(d){if(c.config.useDeprecatedSynchronousErrorHandling){const g=!n;if(g&&(n={errorThrown:!1,error:null}),d(),g){const{errorThrown:C,error:p}=n;if(n=null,C)throw p}}else d()}function l(d){c.config.useDeprecatedSynchronousErrorHandling&&n&&(n.errorThrown=!0,n.error=d)}},7103:(Qe,ke,M)=>{function c(n,E,l,d=0,g=!1){const C=E.schedule(function(){l(),g?n.add(this.schedule(null,d)):this.unsubscribe()},d);if(n.add(C),!g)return C}M.d(ke,{f:()=>c})},2737:(Qe,ke,M)=>{function c(n){return n}M.d(ke,{y:()=>c})},4266:(Qe,ke,M)=>{M.d(ke,{z:()=>c});const c=n=>n&&"number"==typeof n.length&&"function"!=typeof n},5726:(Qe,ke,M)=>{M.d(ke,{D:()=>n});var c=M(4674);function n(E){return Symbol.asyncIterator&&(0,c.m)(E?.[Symbol.asyncIterator])}},4674:(Qe,ke,M)=>{function c(n){return"function"==typeof n}M.d(ke,{m:()=>c})},8382:(Qe,ke,M)=>{M.d(ke,{c:()=>E});var c=M(4850),n=M(4674);function E(l){return(0,n.m)(l[c.L])}},3664:(Qe,ke,M)=>{M.d(ke,{T:()=>E});var c=M(4971),n=M(4674);function E(l){return(0,n.m)(l?.[c.h])}},2664:(Qe,ke,M)=>{M.d(ke,{b:()=>E});var c=M(5592),n=M(4674);function E(l){return!!l&&(l instanceof c.y||(0,n.m)(l.lift)&&(0,n.m)(l.subscribe))}},4026:(Qe,ke,M)=>{M.d(ke,{t:()=>n});var c=M(4674);function n(E){return(0,c.m)(E?.then)}},541:(Qe,ke,M)=>{M.d(ke,{L:()=>l,Q:()=>E});var c=M(7582),n=M(4674);function E(d){return(0,c.FC)(this,arguments,function*(){const C=d.getReader();try{for(;;){const{value:p,done:y}=yield(0,c.qq)(C.read());if(y)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(p)}}finally{C.releaseLock()}})}function l(d){return(0,n.m)(d?.getReader)}},671:(Qe,ke,M)=>{M.d(ke,{K:()=>n});var c=M(4674);function n(E){return E&&(0,c.m)(E.schedule)}},9360:(Qe,ke,M)=>{M.d(ke,{A:()=>n,e:()=>E});var c=M(4674);function n(l){return(0,c.m)(l?.lift)}function E(l){return d=>{if(n(d))return d.lift(function(g){try{return l(g,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(Qe,ke,M)=>{M.d(ke,{Z:()=>l});var c=M(7398);const{isArray:n}=Array;function l(d){return(0,c.U)(g=>function E(d,g){return n(g)?d(...g):d(g)}(d,g))}},2420:(Qe,ke,M)=>{function c(){}M.d(ke,{Z:()=>c})},8407:(Qe,ke,M)=>{M.d(ke,{U:()=>E,z:()=>n});var c=M(2737);function n(...l){return E(l)}function E(l){return 0===l.length?c.y:1===l.length?l[0]:function(g){return l.reduce((C,p)=>p(C),g)}}},3894:(Qe,ke,M)=>{M.d(ke,{h:()=>E});var c=M(2653),n=M(7599);function E(l){n.z.setTimeout(()=>{const{onUnhandledError:d}=c.config;if(!d)throw l;d(l)})}},9853:(Qe,ke,M)=>{function c(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(ke,{z:()=>c})},6708:Qe=>{self,Qe.exports=(()=>{"use strict";var M,ke={};return M=ke,Object.defineProperty(M,"__esModule",{value:!0}),M.FitAddon=void 0,M.FitAddon=class{constructor(){}activate(c){this._terminal=c}dispose(){}fit(){const c=this.proposeDimensions();c&&this._terminal&&!isNaN(c.cols)&&!isNaN(c.rows)&&(this._terminal.rows===c.rows&&this._terminal.cols===c.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(c.cols,c.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const c=this._terminal._core,n=c._renderService.dimensions;if(0===n.css.cell.width||0===n.css.cell.height)return;const E=0===this._terminal.options.scrollback?0:c.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),d=parseInt(l.getPropertyValue("height")),g=Math.max(0,parseInt(l.getPropertyValue("width"))),C=window.getComputedStyle(this._terminal.element),p=d-(parseInt(C.getPropertyValue("padding-top"))+parseInt(C.getPropertyValue("padding-bottom"))),y=g-(parseInt(C.getPropertyValue("padding-right"))+parseInt(C.getPropertyValue("padding-left")))-E;return{cols:Math.max(2,Math.floor(y/n.css.cell.width)),rows:Math.max(1,Math.floor(p/n.css.cell.height))}}},ke})()},6885:Qe=>{self,Qe.exports=(()=>{"use strict";var ke={4567:function(E,l,d){var g=this&&this.__decorate||function(m,v,k,T){var O,f=arguments.length,S=f<3?v:null===T?T=Object.getOwnPropertyDescriptor(v,k):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(m,v,k,T);else for(var N=m.length-1;N>=0;N--)(O=m[N])&&(S=(f<3?O(S):f>3?O(v,k,S):O(v,k))||S);return f>3&&S&&Object.defineProperty(v,k,S),S},C=this&&this.__param||function(m,v){return function(k,T){v(k,T,m)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const p=d(9042),y=d(6114),x=d(9924),w=d(844),b=d(5596),o=d(4725),u=d(3656);let h=class extends w.Disposable{constructor(m,v){super(),this._terminal=m,this._renderService=v,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let k=0;k<this._terminal.rows;k++)this._rowElements[k]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[k]);if(this._topBoundaryFocusListener=k=>this._handleBoundaryFocus(k,0),this._bottomBoundaryFocusListener=k=>this._handleBoundaryFocus(k,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new x.TimeBasedDebouncer(this._announceCharacters.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._liveRegionDebouncer),this.register(this._terminal.onResize(k=>this._handleResize(k.rows))),this.register(this._terminal.onRender(k=>this._refreshRows(k.start,k.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(k=>this._handleChar(k))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(k=>this._handleTab(k))),this.register(this._terminal.onKey(k=>this._handleKey(k.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new b.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,w.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(m){for(let v=0;v<m;v++)this._handleChar(" ")}_handleChar(m){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==m&&(this._charsToAnnounce+=m):this._charsToAnnounce+=m,"\n"===m&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=p.tooMuchOutput)),y.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,y.isMac&&this._liveRegion.remove()}_handleKey(m){this._clearLiveRegion(),/\p{Control}/u.test(m)||this._charsToConsume.push(m)}_refreshRows(m,v){this._liveRegionDebouncer.refresh(m,v,this._terminal.rows)}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(m,v){const k=m.target,T=this._rowElements[0===v?1:this._rowElements.length-2];if(k.getAttribute("aria-posinset")===(0===v?"1":`${this._terminal.buffer.lines.length}`)||m.relatedTarget!==T)return;let O,f;if(0===v?(O=k,f=this._rowElements.pop(),this._rowContainer.removeChild(f)):(O=this._rowElements.shift(),f=k,this._rowContainer.removeChild(O)),O.removeEventListener("focus",this._topBoundaryFocusListener),f.removeEventListener("focus",this._bottomBoundaryFocusListener),0===v){const S=this._createAccessibilityTreeNode();this._rowElements.unshift(S),this._rowContainer.insertAdjacentElement("afterbegin",S)}else{const S=this._createAccessibilityTreeNode();this._rowElements.push(S),this._rowContainer.appendChild(S)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===v?-1:1),this._rowElements[0===v?1:this._rowElements.length-2].focus(),m.preventDefault(),m.stopImmediatePropagation()}_handleResize(m){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let v=this._rowContainer.children.length;v<this._terminal.rows;v++)this._rowElements[v]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[v]);for(;this._rowElements.length>m;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const m=document.createElement("div");return m.setAttribute("role","listitem"),m.tabIndex=-1,this._refreshRowDimensions(m),m}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let m=0;m<this._terminal.rows;m++)this._refreshRowDimensions(this._rowElements[m])}}_refreshRowDimensions(m){m.style.height=`${this._renderService.dimensions.css.cell.height}px`}};h=g([C(1,o.IRenderService)],h),l.AccessibilityManager=h},3614:(E,l)=>{function d(y){return y.replace(/\r?\n/g,"\r")}function g(y,x){return x?"\x1b[200~"+y+"\x1b[201~":y}function C(y,x,w){y=g(y=d(y),w.decPrivateModes.bracketedPasteMode),w.triggerDataEvent(y,!0),x.value=""}function p(y,x,w){const b=w.getBoundingClientRect(),o=y.clientX-b.left-10,u=y.clientY-b.top-10;x.style.width="20px",x.style.height="20px",x.style.left=`${o}px`,x.style.top=`${u}px`,x.style.zIndex="1000",x.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=d,l.bracketTextForPaste=g,l.copyHandler=function(y,x){y.clipboardData&&y.clipboardData.setData("text/plain",x.selectionText),y.preventDefault()},l.handlePasteEvent=function(y,x,w){y.stopPropagation(),y.clipboardData&&C(y.clipboardData.getData("text/plain"),x,w)},l.paste=C,l.moveTextAreaUnderMouseCursor=p,l.rightClickHandler=function(y,x,w,b,o){p(y,x,w),o&&b.rightClickSelect(y),x.value=b.selectionText,x.select()}},7239:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const g=d(1505);l.ColorContrastCache=class{constructor(){this._color=new g.TwoKeyMap,this._css=new g.TwoKeyMap}setCss(C,p,y){this._css.set(C,p,y)}getCss(C,p){return this._css.get(C,p)}setColor(C,p,y){this._color.set(C,p,y)}getColor(C,p){return this._color.get(C,p)}clear(){this._color.clear(),this._css.clear()}}},3656:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(d,g,C,p){d.addEventListener(g,C,p);let y=!1;return{dispose:()=>{y||(y=!0,d.removeEventListener(g,C,p))}}}},6465:function(E,l,d){var g=this&&this.__decorate||function(o,u,h,m){var v,k=arguments.length,T=k<3?u:null===m?m=Object.getOwnPropertyDescriptor(u,h):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(o,u,h,m);else for(var O=o.length-1;O>=0;O--)(v=o[O])&&(T=(k<3?v(T):k>3?v(u,h,T):v(u,h))||T);return k>3&&T&&Object.defineProperty(u,h,T),T},C=this&&this.__param||function(o,u){return function(h,m){u(h,m,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier2=void 0;const p=d(2585),y=d(8460),x=d(844),w=d(3656);let b=class extends x.Disposable{constructor(o){super(),this._bufferService=o,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new y.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new y.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,x.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,x.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}get currentLink(){return this._currentLink}registerLinkProvider(o){return this._linkProviders.push(o),{dispose:()=>{const u=this._linkProviders.indexOf(o);-1!==u&&this._linkProviders.splice(u,1)}}}attachToDom(o,u,h){this._element=o,this._mouseService=u,this._renderService=h,this.register((0,w.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,w.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,w.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(o){if(this._lastMouseEvent=o,!this._element||!this._mouseService)return;const u=this._positionFromMouseEvent(o,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const h=o.composedPath();for(let m=0;m<h.length;m++){const v=h[m];if(v.classList.contains("xterm"))break;if(v.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(o){if(this._activeLine!==o.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(o,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,o)||(this._clearCurrentLink(),this._askForLink(o,!0))}_askForLink(o,u){var h,m;this._activeProviderReplies&&u||(null===(h=this._activeProviderReplies)||void 0===h||h.forEach(k=>{k?.forEach(T=>{T.link.dispose&&T.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=o.y);let v=!1;for(const[k,T]of this._linkProviders.entries())u?null!==(m=this._activeProviderReplies)&&void 0!==m&&m.get(k)&&(v=this._checkLinkProviderResult(k,o,v)):T.provideLinks(o.y,O=>{var f,S;if(this._isMouseOut)return;const N=O?.map(ee=>({link:ee}));null===(f=this._activeProviderReplies)||void 0===f||f.set(k,N),v=this._checkLinkProviderResult(k,o,v),(null===(S=this._activeProviderReplies)||void 0===S?void 0:S.size)===this._linkProviders.length&&this._removeIntersectingLinks(o.y,this._activeProviderReplies)})}_removeIntersectingLinks(o,u){const h=new Set;for(let m=0;m<u.size;m++){const v=u.get(m);if(v)for(let k=0;k<v.length;k++){const T=v[k],f=T.link.range.end.y>o?this._bufferService.cols:T.link.range.end.x;for(let S=T.link.range.start.y<o?0:T.link.range.start.x;S<=f;S++){if(h.has(S)){v.splice(k--,1);break}h.add(S)}}}}_checkLinkProviderResult(o,u,h){var m;if(!this._activeProviderReplies)return h;const v=this._activeProviderReplies.get(o);let k=!1;for(let T=0;T<o;T++)this._activeProviderReplies.has(T)&&!this._activeProviderReplies.get(T)||(k=!0);if(!k&&v){const T=v.find(O=>this._linkAtPosition(O.link,u));T&&(h=!0,this._handleNewLink(T))}if(this._activeProviderReplies.size===this._linkProviders.length&&!h)for(let T=0;T<this._activeProviderReplies.size;T++){const O=null===(m=this._activeProviderReplies.get(T))||void 0===m?void 0:m.find(f=>this._linkAtPosition(f.link,u));if(O){h=!0,this._handleNewLink(O);break}}return h}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(o){if(!this._element||!this._mouseService||!this._currentLink)return;const u=this._positionFromMouseEvent(o,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(o,this._currentLink.link.text)}_clearCurrentLink(o,u){this._element&&this._currentLink&&this._lastMouseEvent&&(!o||!u||this._currentLink.link.range.start.y>=o&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,x.disposeArray)(this._linkCacheDisposables))}_handleNewLink(o){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(o.link,u)&&(this._currentLink=o,this._currentLink.state={decorations:{underline:void 0===o.link.decorations||o.link.decorations.underline,pointerCursor:void 0===o.link.decorations||o.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,o.link,this._lastMouseEvent),o.link.decorations={},Object.defineProperties(o.link.decorations,{pointerCursor:{get:()=>{var h,m;return null===(m=null===(h=this._currentLink)||void 0===h?void 0:h.state)||void 0===m?void 0:m.decorations.pointerCursor},set:h=>{var m,v;null!==(m=this._currentLink)&&void 0!==m&&m.state&&this._currentLink.state.decorations.pointerCursor!==h&&(this._currentLink.state.decorations.pointerCursor=h,this._currentLink.state.isHovered&&(null===(v=this._element)||void 0===v||v.classList.toggle("xterm-cursor-pointer",h)))}},underline:{get:()=>{var h,m;return null===(m=null===(h=this._currentLink)||void 0===h?void 0:h.state)||void 0===m?void 0:m.decorations.underline},set:h=>{var m,v,k;null!==(m=this._currentLink)&&void 0!==m&&m.state&&(null===(k=null===(v=this._currentLink)||void 0===v?void 0:v.state)||void 0===k?void 0:k.decorations.underline)!==h&&(this._currentLink.state.decorations.underline=h,this._currentLink.state.isHovered&&this._fireUnderlineEvent(o.link,h))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(h=>{if(!this._currentLink)return;const m=0===h.start?0:h.start+1+this._bufferService.buffer.ydisp,v=this._bufferService.buffer.ydisp+1+h.end;if(this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=v&&(this._clearCurrentLink(m,v),this._lastMouseEvent&&this._element)){const k=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);k&&this._askForLink(k,!1)}})))}_linkHover(o,u,h){var m;!(null===(m=this._currentLink)||void 0===m)&&m.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&o.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(h,u.text)}_fireUnderlineEvent(o,u){const h=o.range,m=this._bufferService.buffer.ydisp,v=this._createLinkUnderlineEvent(h.start.x-1,h.start.y-m-1,h.end.x,h.end.y-m-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(v)}_linkLeave(o,u,h){var m;!(null===(m=this._currentLink)||void 0===m)&&m.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&o.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(h,u.text)}_linkAtPosition(o,u){const v=u.y*this._bufferService.cols+u.x;return o.range.start.y*this._bufferService.cols+o.range.start.x<=v&&v<=o.range.end.y*this._bufferService.cols+o.range.end.x}_positionFromMouseEvent(o,u,h){const m=h.getCoords(o,u,this._bufferService.cols,this._bufferService.rows);if(m)return{x:m[0],y:m[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(o,u,h,m,v){return{x1:o,y1:u,x2:h,y2:m,cols:this._bufferService.cols,fg:v}}};b=g([C(0,p.IBufferService)],b),l.Linkifier2=b},9042:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(E,l,d){var g=this&&this.__decorate||function(b,o,u,h){var m,v=arguments.length,k=v<3?o:null===h?h=Object.getOwnPropertyDescriptor(o,u):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(b,o,u,h);else for(var T=b.length-1;T>=0;T--)(m=b[T])&&(k=(v<3?m(k):v>3?m(o,u,k):m(o,u))||k);return v>3&&k&&Object.defineProperty(o,u,k),k},C=this&&this.__param||function(b,o){return function(u,h){o(u,h,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const p=d(511),y=d(2585);let x=class{constructor(b,o,u){this._bufferService=b,this._optionsService=o,this._oscLinkService=u}provideLinks(b,o){var u;const h=this._bufferService.buffer.lines.get(b-1);if(!h)return void o(void 0);const m=[],v=this._optionsService.rawOptions.linkHandler,k=new p.CellData,T=h.getTrimmedLength();let O=-1,f=-1,S=!1;for(let N=0;N<T;N++)if(-1!==f||h.hasContent(N)){if(h.loadCell(N,k),k.hasExtendedAttrs()&&k.extended.urlId){if(-1===f){f=N,O=k.extended.urlId;continue}S=k.extended.urlId!==O}else-1!==f&&(S=!0);if(S||-1!==f&&N===T-1){const ee=null===(u=this._oscLinkService.getLinkData(O))||void 0===u?void 0:u.uri;if(ee){const Q={start:{x:f+1,y:b},end:{x:N+(S||N!==T-1?0:1),y:b}};let se=!1;if(!v?.allowNonHttpProtocols)try{const Re=new URL(ee);["http:","https:"].includes(Re.protocol)||(se=!0)}catch{se=!0}se||m.push({text:ee,range:Q,activate:(Re,ze)=>v?v.activate(Re,ze,Q):w(0,ze),hover:(Re,ze)=>{var Be;return null===(Be=v?.hover)||void 0===Be?void 0:Be.call(v,Re,ze,Q)},leave:(Re,ze)=>{var Be;return null===(Be=v?.leave)||void 0===Be?void 0:Be.call(v,Re,ze,Q)}})}S=!1,k.hasExtendedAttrs()&&k.extended.urlId?(f=N,O=k.extended.urlId):(f=-1,O=-1)}}o(m)}};function w(b,o){if(confirm(`Do you want to navigate to ${o}?\n\nWARNING: This link could potentially be dangerous`)){const u=window.open();if(u){try{u.opener=null}catch{}u.location.href=o}else console.warn("Opening link blocked as opener could not be cleared")}}x=g([C(0,y.IBufferService),C(1,y.IOptionsService),C(2,y.IOscLinkService)],x),l.OscLinkProvider=x},6193:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(d,g){this._parentWindow=d,this._renderCallback=g,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(d){return this._refreshCallbacks.push(d),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(d,g,C){this._rowCount=C,d=void 0!==d?d:0,g=void 0!==g?g:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,d):d,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,g):g,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const d=Math.max(this._rowStart,0),g=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,g),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const d of this._refreshCallbacks)d(0);this._refreshCallbacks=[]}}},5596:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ScreenDprMonitor=void 0;const g=d(844);l.ScreenDprMonitor=class C extends g.Disposable{constructor(y){super(),this._parentWindow=y,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,g.toDisposable)(()=>{this.clearListener()}))}setListener(y){this._listener&&this.clearListener(),this._listener=y,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var y;this._outerListener&&(null===(y=this._resolutionMediaMatchList)||void 0===y||y.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const g=d(2950),C=d(1680),p=d(3614),y=d(2584),x=d(5435),w=d(9312),b=d(6114),o=d(3656),u=d(9042),h=d(4567),m=d(1296),v=d(7399),k=d(8460),T=d(8437),O=d(3230),f=d(4725),S=d(428),N=d(8934),ee=d(6465),Q=d(5114),se=d(8969),Re=d(8055),ze=d(4269),Be=d(5941),U=d(3107),te=d(5744),ue=d(9074),_e=d(2585),Ve=d(3730),Ke=d(844),ve=d(6731),le=typeof window<"u"?window.document:null;l.Terminal=class de extends se.CoreTerminal{constructor(Y={}){super(Y),this.browser=b,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new k.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new k.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new k.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new k.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new k.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new k.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new k.EventEmitter),this._onBlur=this.register(new k.EventEmitter),this._onA11yCharEmitter=this.register(new k.EventEmitter),this._onA11yTabEmitter=this.register(new k.EventEmitter),this._onWillOpen=this.register(new k.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(ee.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(Ve.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(ue.DecorationService),this._instantiationService.setService(_e.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((B,me)=>this.refresh(B,me))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(B=>this._reportWindowsOptions(B))),this.register(this._inputHandler.onColor(B=>this._handleColorEvent(B))),this.register((0,k.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,k.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,k.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,k.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(B=>this._afterResize(B.cols,B.rows))),this.register((0,Ke.toDisposable)(()=>{var B,me;this._customKeyEventHandler=void 0,null===(me=null===(B=this.element)||void 0===B?void 0:B.parentNode)||void 0===me||me.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(Y){if(this._themeService)for(const B of Y){let me,Fe="";switch(B.index){case 256:me="foreground",Fe="10";break;case 257:me="background",Fe="11";break;case 258:me="cursor",Fe="12";break;default:me="ansi",Fe="4;"+B.index}switch(B.type){case 0:const ge=Re.color.toColorRGB("ansi"===me?this._themeService.colors.ansi[B.index]:this._themeService.colors[me]);this.coreService.triggerDataEvent(`${y.C0.ESC}]${Fe};${(0,Be.toRgbString)(ge)}${y.C1_ESCAPED.ST}`);break;case 1:if("ansi"===me)this._themeService.modifyColors(q=>q.ansi[B.index]=Re.rgba.toColor(...B.color));else{const q=me;this._themeService.modifyColors(Pe=>Pe[q]=Re.rgba.toColor(...B.color))}break;case 2:this._themeService.restoreColor(B.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(Y){var B;Y?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=this._instantiationService.createInstance(h.AccessibilityManager,this)):(null===(B=this._accessibilityManager)||void 0===B||B.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(Y){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(y.C0.ESC+"[I"),this.updateCursorStyle(Y),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var Y;return null===(Y=this.textarea)||void 0===Y?void 0:Y.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(y.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!B)return;const me=Math.min(this.buffer.x,this.cols-1),Fe=this._renderService.dimensions.css.cell.height,ge=B.getWidth(me),q=this._renderService.dimensions.css.cell.width*ge,Pe=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=me*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=Pe+"px",this.textarea.style.width=q+"px",this.textarea.style.height=Fe+"px",this.textarea.style.lineHeight=Fe+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,o.addDisposableDomListener)(this.element,"copy",B=>{this.hasSelection()&&(0,p.copyHandler)(B,this._selectionService)}));const Y=B=>(0,p.handlePasteEvent)(B,this.textarea,this.coreService);this.register((0,o.addDisposableDomListener)(this.textarea,"paste",Y)),this.register((0,o.addDisposableDomListener)(this.element,"paste",Y)),this.register(b.isFirefox?(0,o.addDisposableDomListener)(this.element,"mousedown",B=>{2===B.button&&(0,p.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,o.addDisposableDomListener)(this.element,"contextmenu",B=>{(0,p.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),b.isLinux&&this.register((0,o.addDisposableDomListener)(this.element,"auxclick",B=>{1===B.button&&(0,p.moveTextAreaUnderMouseCursor)(B,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,o.addDisposableDomListener)(this.textarea,"keyup",Y=>this._keyUp(Y),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keydown",Y=>this._keyDown(Y),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keypress",Y=>this._keyPress(Y),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionupdate",Y=>this._compositionHelper.compositionupdate(Y))),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,o.addDisposableDomListener)(this.textarea,"input",Y=>this._inputEvent(Y),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(Y){var B;if(!Y)throw new Error("Terminal requires a parent element.");Y.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=Y.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),Y.appendChild(this.element);const me=le.createDocumentFragment();this._viewportElement=le.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),me.appendChild(this._viewportElement),this._viewportScrollArea=le.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=le.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=le.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),me.appendChild(this.screenElement),this.textarea=le.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",u.promptLabel),b.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(Q.CoreBrowserService,this.textarea,null!==(B=this._document.defaultView)&&void 0!==B?B:window),this._instantiationService.setService(f.ICoreBrowserService,this._coreBrowserService),this.register((0,o.addDisposableDomListener)(this.textarea,"focus",Fe=>this._handleTextAreaFocus(Fe))),this.register((0,o.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(S.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(f.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(ve.ThemeService),this._instantiationService.setService(f.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(ze.CharacterJoinerService),this._instantiationService.setService(f.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(O.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(f.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Fe=>this._onRender.fire(Fe))),this.onResize(Fe=>this._renderService.resize(Fe.cols,Fe.rows)),this._compositionView=le.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(g.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(me);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(N.MouseService),this._instantiationService.setService(f.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,Fe=>this.scrollLines(Fe,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(w.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(f.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Fe=>this.scrollLines(Fe.amount,Fe.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Fe=>this._renderService.handleSelectionChanged(Fe.start,Fe.end,Fe.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Fe=>{this.textarea.value=Fe,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Fe=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,o.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(U.BufferDecorationRenderer,this.screenElement)),this.register((0,o.addDisposableDomListener)(this.element,"mousedown",Fe=>this._selectionService.handleMouseDown(Fe))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=this._instantiationService.createInstance(h.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Fe=>this._handleScreenReaderModeOptionChange(Fe))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(te.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Fe=>{!this._overviewRulerRenderer&&Fe&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(te.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(m.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const Y=this,B=this.element;function me(q){const Pe=Y._mouseService.getMouseReportCoords(q,Y.screenElement);if(!Pe)return!1;let Te,ie;switch(q.overrideType||q.type){case"mousemove":ie=32,void 0===q.buttons?(Te=3,void 0!==q.button&&(Te=q.button<3?q.button:3)):Te=1&q.buttons?0:4&q.buttons?1:2&q.buttons?2:3;break;case"mouseup":ie=0,Te=q.button<3?q.button:3;break;case"mousedown":ie=1,Te=q.button<3?q.button:3;break;case"wheel":if(0===Y.viewport.getLinesScrolled(q))return!1;ie=q.deltaY<0?0:1,Te=4;break;default:return!1}return!(void 0===ie||void 0===Te||Te>4)&&Y.coreMouseService.triggerMouseEvent({col:Pe.col,row:Pe.row,x:Pe.x,y:Pe.y,button:Te,action:ie,ctrl:q.ctrlKey,alt:q.altKey,shift:q.shiftKey})}const Fe={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ge={mouseup:q=>(me(q),q.buttons||(this._document.removeEventListener("mouseup",Fe.mouseup),Fe.mousedrag&&this._document.removeEventListener("mousemove",Fe.mousedrag)),this.cancel(q)),wheel:q=>(me(q),this.cancel(q,!0)),mousedrag:q=>{q.buttons&&me(q)},mousemove:q=>{q.buttons||me(q)}};this.register(this.coreMouseService.onProtocolChange(q=>{q?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(q)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&q?Fe.mousemove||(B.addEventListener("mousemove",ge.mousemove),Fe.mousemove=ge.mousemove):(B.removeEventListener("mousemove",Fe.mousemove),Fe.mousemove=null),16&q?Fe.wheel||(B.addEventListener("wheel",ge.wheel,{passive:!1}),Fe.wheel=ge.wheel):(B.removeEventListener("wheel",Fe.wheel),Fe.wheel=null),2&q?Fe.mouseup||(Fe.mouseup=ge.mouseup):(this._document.removeEventListener("mouseup",Fe.mouseup),Fe.mouseup=null),4&q?Fe.mousedrag||(Fe.mousedrag=ge.mousedrag):(this._document.removeEventListener("mousemove",Fe.mousedrag),Fe.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,o.addDisposableDomListener)(B,"mousedown",q=>{if(q.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(q))return me(q),Fe.mouseup&&this._document.addEventListener("mouseup",Fe.mouseup),Fe.mousedrag&&this._document.addEventListener("mousemove",Fe.mousedrag),this.cancel(q)})),this.register((0,o.addDisposableDomListener)(B,"wheel",q=>{if(!Fe.wheel){if(!this.buffer.hasScrollback){const Pe=this.viewport.getLinesScrolled(q);if(0===Pe)return;const Te=y.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(q.deltaY<0?"A":"B");let ie="";for(let Ee=0;Ee<Math.abs(Pe);Ee++)ie+=Te;return this.coreService.triggerDataEvent(ie,!0),this.cancel(q,!0)}return this.viewport.handleWheel(q)?this.cancel(q):void 0}},{passive:!1})),this.register((0,o.addDisposableDomListener)(B,"touchstart",q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(q),this.cancel(q)},{passive:!0})),this.register((0,o.addDisposableDomListener)(B,"touchmove",q=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(q)?void 0:this.cancel(q)},{passive:!1}))}refresh(Y,B){var me;null===(me=this._renderService)||void 0===me||me.refreshRows(Y,B)}updateCursorStyle(Y){var B;null!==(B=this._selectionService)&&void 0!==B&&B.shouldColumnSelect(Y)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(Y,B,me=0){super.scrollLines(Y,B,me),this.refresh(0,this.rows-1)}paste(Y){(0,p.paste)(Y,this.textarea,this.coreService)}attachCustomKeyEventHandler(Y){this._customKeyEventHandler=Y}registerLinkProvider(Y){return this.linkifier2.registerLinkProvider(Y)}registerCharacterJoiner(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const B=this._characterJoinerService.register(Y);return this.refresh(0,this.rows-1),B}deregisterCharacterJoiner(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(Y)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(Y){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+Y)}registerDecoration(Y){return this._decorationService.registerDecoration(Y)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(Y,B,me){this._selectionService.setSelection(Y,B,me)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var Y;null===(Y=this._selectionService)||void 0===Y||Y.clearSelection()}selectAll(){var Y;null===(Y=this._selectionService)||void 0===Y||Y.selectAll()}selectLines(Y,B){var me;null===(me=this._selectionService)||void 0===me||me.selectLines(Y,B)}_keyDown(Y){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(Y))return!1;const B=this.browser.isMac&&this.options.macOptionIsMeta&&Y.altKey;if(!B&&!this._compositionHelper.keydown(Y))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;B||"Dead"!==Y.key&&"AltGraph"!==Y.key||(this._unprocessedDeadKey=!0);const me=(0,v.evaluateKeyboardEvent)(Y,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(Y),3===me.type||2===me.type){const Fe=this.rows-1;return this.scrollLines(2===me.type?-Fe:Fe),this.cancel(Y,!0)}return 1===me.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,Y)||(me.cancel&&this.cancel(Y,!0),!me.key||!!(Y.key&&!Y.ctrlKey&&!Y.altKey&&!Y.metaKey&&1===Y.key.length&&Y.key.charCodeAt(0)>=65&&Y.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(me.key!==y.C0.ETX&&me.key!==y.C0.CR||(this.textarea.value=""),this._onKey.fire({key:me.key,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(me.key,!0),!this.optionsService.rawOptions.screenReaderMode||Y.altKey||Y.ctrlKey?this.cancel(Y,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(Y,B){const me=Y.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||Y.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||Y.isWindows&&B.getModifierState("AltGraph");return"keypress"===B.type?me:me&&(!B.keyCode||B.keyCode>47)}_keyUp(Y){var B;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(Y)||(16===(B=Y).keyCode||17===B.keyCode||18===B.keyCode||this.focus(),this.updateCursorStyle(Y),this._keyPressHandled=!1)}_keyPress(Y){let B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(Y))return!1;if(this.cancel(Y),Y.charCode)B=Y.charCode;else if(null==Y.which)B=Y.keyCode;else{if(0===Y.which||0===Y.charCode)return!1;B=Y.which}return!(!B||(Y.altKey||Y.ctrlKey||Y.metaKey)&&!this._isThirdLevelShift(this.browser,Y)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(Y){return!(!Y.data||"insertText"!==Y.inputType||Y.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(Y.data,!0),this.cancel(Y),0))}resize(Y,B){Y!==this.cols||B!==this.rows?super.resize(Y,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(Y,B){var me,Fe;null===(me=this._charSizeService)||void 0===me||me.measure(),null===(Fe=this.viewport)||void 0===Fe||Fe.syncScrollArea(!0)}clear(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Y=1;Y<this.rows;Y++)this.buffer.lines.push(this.buffer.getBlankLine(T.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var Y,B;this.options.rows=this.rows,this.options.cols=this.cols;const me=this._customKeyEventHandler;this._setup(),super.reset(),null===(Y=this._selectionService)||void 0===Y||Y.reset(),this._decorationService.reset(),this._customKeyEventHandler=me,this.refresh(0,this.rows-1),null===(B=this.viewport)||void 0===B||B.syncScrollArea()}clearTextureAtlas(){var Y;null===(Y=this._renderService)||void 0===Y||Y.clearTextureAtlas()}_reportFocus(){var Y;null!==(Y=this.element)&&void 0!==Y&&Y.classList.contains("focus")?this.coreService.triggerDataEvent(y.C0.ESC+"[I"):this.coreService.triggerDataEvent(y.C0.ESC+"[O")}_reportWindowsOptions(Y){if(this._renderService)switch(Y){case x.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const B=this._renderService.dimensions.css.canvas.width.toFixed(0),me=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${y.C0.ESC}[4;${me};${B}t`);break;case x.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Fe=this._renderService.dimensions.css.cell.width.toFixed(0),ge=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${y.C0.ESC}[6;${ge};${Fe}t`)}}cancel(Y,B){if(this.options.cancelEvents||B)return Y.preventDefault(),Y.stopPropagation(),!1}}},9924:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(d,g=1e3){this._renderCallback=d,this._debounceThresholdMS=g,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(d,g,C){this._rowCount=C,d=void 0!==d?d:0,g=void 0!==g?g:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,d):d,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,g):g;const p=Date.now();if(p-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=p,this._innerRefresh();else if(!this._additionalRefreshRequested){const x=this._debounceThresholdMS-(p-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},x)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const d=Math.max(this._rowStart,0),g=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(d,g)}}},1680:function(E,l,d){var g=this&&this.__decorate||function(o,u,h,m){var v,k=arguments.length,T=k<3?u:null===m?m=Object.getOwnPropertyDescriptor(u,h):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(o,u,h,m);else for(var O=o.length-1;O>=0;O--)(v=o[O])&&(T=(k<3?v(T):k>3?v(u,h,T):v(u,h))||T);return k>3&&T&&Object.defineProperty(u,h,T),T},C=this&&this.__param||function(o,u){return function(h,m){u(h,m,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const p=d(844),y=d(3656),x=d(4725),w=d(2585);let b=class extends p.Disposable{constructor(o,u,h,m,v,k,T,O,f){super(),this._scrollLines=o,this._viewportElement=u,this._scrollArea=h,this._bufferService=m,this._optionsService=v,this._charSizeService=k,this._renderService=T,this._coreBrowserService=O,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,y.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(S=>this._activeBuffer=S.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(S=>this._renderDimensions=S)),this._handleThemeChange(f.colors),this.register(f.onChangeColors(S=>this._handleThemeChange(S))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}_refresh(o){if(o)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(u)}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,u){return!(u<0&&0!==this._viewportElement.scrollTop||u>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const u=this._getPixelsScrolled(o);return 0!==u&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(o,u))}_getPixelsScrolled(o){if(0===o.deltaY||o.shiftKey)return 0;let u=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(o,u){var h;let m,v="";const k=[],T=u??this._bufferService.buffer.lines.length,O=this._bufferService.buffer.lines;for(let f=o;f<T;f++){const S=O.get(f);if(!S)continue;const N=null===(h=O.get(f+1))||void 0===h?void 0:h.isWrapped;if(v+=S.translateToString(!N),!N||f===O.length-1){const ee=document.createElement("div");ee.textContent=v,k.push(ee),v.length>0&&(m=ee),v=""}}return{bufferElements:k,cursorElement:m}}getLinesScrolled(o){if(0===o.deltaY||o.shiftKey)return 0;let u=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(o,u){const h=this._optionsService.rawOptions.fastScrollModifier;return"alt"===h&&u.altKey||"ctrl"===h&&u.ctrlKey||"shift"===h&&u.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const u=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,0!==u&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(o,u))}};b=g([C(3,w.IBufferService),C(4,w.IOptionsService),C(5,x.ICharSizeService),C(6,x.IRenderService),C(7,x.ICoreBrowserService),C(8,x.IThemeService)],b),l.Viewport=b},3107:function(E,l,d){var g=this&&this.__decorate||function(o,u,h,m){var v,k=arguments.length,T=k<3?u:null===m?m=Object.getOwnPropertyDescriptor(u,h):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(o,u,h,m);else for(var O=o.length-1;O>=0;O--)(v=o[O])&&(T=(k<3?v(T):k>3?v(u,h,T):v(u,h))||T);return k>3&&T&&Object.defineProperty(u,h,T),T},C=this&&this.__param||function(o,u){return function(h,m){u(h,m,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const p=d(3656),y=d(4725),x=d(844),w=d(2585);let b=class extends x.Disposable{constructor(o,u,h,m){super(),this._screenElement=o,this._bufferService=u,this._decorationService=h,this._renderService=m,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(v=>this._removeDecoration(v))),this.register((0,x.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const o of this._decorationService.decorations)this._renderDecoration(o);this._dimensionsChanged=!1}_renderDecoration(o){this._refreshStyle(o),this._dimensionsChanged&&this._refreshXPosition(o)}_createElement(o){var u,h;const m=document.createElement("div");m.classList.add("xterm-decoration"),m.classList.toggle("xterm-decoration-top-layer","top"===(null===(u=o?.options)||void 0===u?void 0:u.layer)),m.style.width=`${Math.round((o.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,m.style.height=(o.options.height||1)*this._renderService.dimensions.css.cell.height+"px",m.style.top=(o.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",m.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const v=null!==(h=o.options.x)&&void 0!==h?h:0;return v&&v>this._bufferService.cols&&(m.style.display="none"),this._refreshXPosition(o,m),m}_refreshStyle(o){const u=o.marker.line-this._bufferService.buffers.active.ydisp;if(u<0||u>=this._bufferService.rows)o.element&&(o.element.style.display="none",o.onRenderEmitter.fire(o.element));else{let h=this._decorationElements.get(o);h||(h=this._createElement(o),o.element=h,this._decorationElements.set(o,h),this._container.appendChild(h)),h.style.top=u*this._renderService.dimensions.css.cell.height+"px",h.style.display=this._altBufferIsActive?"none":"block",o.onRenderEmitter.fire(h)}}_refreshXPosition(o,u=o.element){var h;if(!u)return;const m=null!==(h=o.options.x)&&void 0!==h?h:0;"right"===(o.options.anchor||"left")?u.style.right=m?m*this._renderService.dimensions.css.cell.width+"px":"":u.style.left=m?m*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(o){var u;null===(u=this._decorationElements.get(o))||void 0===u||u.remove(),this._decorationElements.delete(o),o.dispose()}};b=g([C(1,w.IBufferService),C(2,w.IDecorationService),C(3,y.IRenderService)],b),l.BufferDecorationRenderer=b},5871:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(d){if(d.options.overviewRulerOptions){for(const g of this._zones)if(g.color===d.options.overviewRulerOptions.color&&g.position===d.options.overviewRulerOptions.position){if(this._lineIntersectsZone(g,d.marker.line))return;if(this._lineAdjacentToZone(g,d.marker.line,d.options.overviewRulerOptions.position))return void this._addLineToZone(g,d.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=d.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=d.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=d.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=d.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:d.options.overviewRulerOptions.color,position:d.options.overviewRulerOptions.position,startBufferLine:d.marker.line,endBufferLine:d.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(d){this._linePadding=d}_lineIntersectsZone(d,g){return g>=d.startBufferLine&&g<=d.endBufferLine}_lineAdjacentToZone(d,g,C){return g>=d.startBufferLine-this._linePadding[C||"full"]&&g<=d.endBufferLine+this._linePadding[C||"full"]}_addLineToZone(d,g){d.startBufferLine=Math.min(d.startBufferLine,g),d.endBufferLine=Math.max(d.endBufferLine,g)}}},5744:function(E,l,d){var g=this&&this.__decorate||function(v,k,T,O){var f,S=arguments.length,N=S<3?k:null===O?O=Object.getOwnPropertyDescriptor(k,T):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(v,k,T,O);else for(var ee=v.length-1;ee>=0;ee--)(f=v[ee])&&(N=(S<3?f(N):S>3?f(k,T,N):f(k,T))||N);return S>3&&N&&Object.defineProperty(k,T,N),N},C=this&&this.__param||function(v,k){return function(T,O){k(T,O,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const p=d(5871),y=d(3656),x=d(4725),w=d(844),b=d(2585),o={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0};let m=class extends w.Disposable{constructor(v,k,T,O,f,S,N){var ee;super(),this._viewportElement=v,this._screenElement=k,this._bufferService=T,this._decorationService=O,this._renderService=f,this._optionsService=S,this._coreBrowseService=N,this._colorZoneStore=new p.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(ee=this._viewportElement.parentElement)||void 0===ee||ee.insertBefore(this._canvas,this._viewportElement);const Q=this._canvas.getContext("2d");if(!Q)throw new Error("Ctx cannot be null");this._ctx=Q,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,w.toDisposable)(()=>{var se;null===(se=this._canvas)||void 0===se||se.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,y.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const v=Math.floor(this._canvas.width/3),k=Math.ceil(this._canvas.width/3);u.full=this._canvas.width,u.left=v,u.center=k,u.right=v,this._refreshDrawHeightConstants(),h.full=0,h.left=0,h.center=u.left,h.right=u.left+u.center}_refreshDrawHeightConstants(){o.full=Math.round(2*this._coreBrowseService.dpr);const k=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);o.left=k,o.center=k,o.right=k}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const k of this._decorationService.decorations)this._colorZoneStore.addDecoration(k);this._ctx.lineWidth=1;const v=this._colorZoneStore.zones;for(const k of v)"full"!==k.position&&this._renderColorZone(k);for(const k of v)"full"===k.position&&this._renderColorZone(k);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(v){this._ctx.fillStyle=v.color,this._ctx.fillRect(h[v.position||"full"],Math.round(v.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-o[v.position||"full"]/2),u[v.position||"full"],Math.round((v.endBufferLine-v.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+o[v.position||"full"]))}_queueRefresh(v,k){this._shouldUpdateDimensions=v||this._shouldUpdateDimensions,this._shouldUpdateAnchor=k||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};m=g([C(2,b.IBufferService),C(3,b.IDecorationService),C(4,x.IRenderService),C(5,b.IOptionsService),C(6,x.ICoreBrowserService)],m),l.OverviewRulerRenderer=m},2950:function(E,l,d){var g=this&&this.__decorate||function(b,o,u,h){var m,v=arguments.length,k=v<3?o:null===h?h=Object.getOwnPropertyDescriptor(o,u):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(b,o,u,h);else for(var T=b.length-1;T>=0;T--)(m=b[T])&&(k=(v<3?m(k):v>3?m(o,u,k):m(o,u))||k);return v>3&&k&&Object.defineProperty(o,u,k),k},C=this&&this.__param||function(b,o){return function(u,h){o(u,h,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const p=d(4725),y=d(2585),x=d(2584);let w=class{constructor(b,o,u,h,m,v){this._textarea=b,this._compositionView=o,this._bufferService=u,this._optionsService=h,this._coreService=m,this._renderService=v,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(b){this._compositionView.textContent=b.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(b){if(this._isComposing||this._isSendingComposition){if(229===b.keyCode||16===b.keyCode||17===b.keyCode||18===b.keyCode)return!1;this._finalizeComposition(!1)}return 229!==b.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(b){if(this._compositionView.classList.remove("active"),this._isComposing=!1,b){const o={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let u;this._isSendingComposition=!1,o.start+=this._dataAlreadySent.length,u=this._isComposing?this._textarea.value.substring(o.start,o.end):this._textarea.value.substring(o.start),u.length>0&&this._coreService.triggerDataEvent(u,!0)}},0)}else{this._isSendingComposition=!1;const o=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(o,!0)}}_handleAnyTextareaChanges(){const b=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const o=this._textarea.value,u=o.replace(b,"");this._dataAlreadySent=u,o.length>b.length?this._coreService.triggerDataEvent(u,!0):o.length<b.length?this._coreService.triggerDataEvent(`${x.C0.DEL}`,!0):o.length===b.length&&o!==b&&this._coreService.triggerDataEvent(o,!0)}},0)}updateCompositionElements(b){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const o=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),u=this._renderService.dimensions.css.cell.height,h=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,m=o*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=m+"px",this._compositionView.style.top=h+"px",this._compositionView.style.height=u+"px",this._compositionView.style.lineHeight=u+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const v=this._compositionView.getBoundingClientRect();this._textarea.style.left=m+"px",this._textarea.style.top=h+"px",this._textarea.style.width=Math.max(v.width,1)+"px",this._textarea.style.height=Math.max(v.height,1)+"px",this._textarea.style.lineHeight=v.height+"px"}b||setTimeout(()=>this.updateCompositionElements(!0),0)}}};w=g([C(2,y.IBufferService),C(3,y.IOptionsService),C(4,y.ICoreService),C(5,p.IRenderService)],w),l.CompositionHelper=w},9806:(E,l)=>{function d(g,C,p){const y=p.getBoundingClientRect(),x=g.getComputedStyle(p),w=parseInt(x.getPropertyValue("padding-left")),b=parseInt(x.getPropertyValue("padding-top"));return[C.clientX-y.left-w,C.clientY-y.top-b]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=d,l.getCoords=function(g,C,p,y,x,w,b,o,u){if(!w)return;const h=d(g,C,p);return h?(h[0]=Math.ceil((h[0]+(u?b/2:0))/b),h[1]=Math.ceil(h[1]/o),h[0]=Math.min(Math.max(h[0],1),y+(u?1:0)),h[1]=Math.min(Math.max(h[1],1),x),h):void 0}},9504:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const g=d(2584);function C(o,u,h,m){const v=o-p(o,h),k=u-p(u,h);return b(Math.abs(v-k)-function(O,f,S){let N=0;const ee=O-p(O,S),Q=f-p(f,S);for(let se=0;se<Math.abs(ee-Q);se++){const Re="A"===y(O,f)?-1:1,ze=S.buffer.lines.get(ee+Re*se);ze?.isWrapped&&N++}return N}(o,u,h),w(y(o,u),m))}function p(o,u){let h=0,m=u.buffer.lines.get(o),v=m?.isWrapped;for(;v&&o>=0&&o<u.rows;)h++,m=u.buffer.lines.get(--o),v=m?.isWrapped;return h}function y(o,u){return o>u?"A":"B"}function x(o,u,h,m,v,k){let T=o,O=u,f="";for(;T!==h||O!==m;)T+=v?1:-1,v&&T>k.cols-1?(f+=k.buffer.translateBufferLineToString(O,!1,o,T),T=0,o=0,O++):!v&&T<0&&(f+=k.buffer.translateBufferLineToString(O,!1,0,o+1),T=k.cols-1,o=T,O--);return f+k.buffer.translateBufferLineToString(O,!1,o,T)}function w(o,u){return g.C0.ESC+(u?"O":"[")+o}function b(o,u){o=Math.floor(o);let h="";for(let m=0;m<o;m++)h+=u;return h}l.moveToCellSequence=function(o,u,h,m){const v=h.buffer.x,k=h.buffer.y;if(!h.buffer.hasScrollback)return f=v,(0===C(S=k,u,Q=h,se=m).length?"":b(x(f,S,f,S-p(S,Q),!1,Q).length,w("D",se)))+C(k,u,h,m)+function(f,S,N,ee,Q,se){let Re;Re=C(S,ee,Q,se).length>0?ee-p(ee,Q):S;const ze=ee,Be=function(U,te,ue,_e,Ve,Ke){let ve;return ve=C(ue,_e,Ve,Ke).length>0?_e-p(_e,Ve):te,U<ue&&ve<=_e||U>=ue&&ve<_e?"C":"D"}(f,S,N,ee,Q,se);return b(x(f,Re,N,ze,"C"===Be,Q).length,w(Be,se))}(v,k,o,u,h,m);var f,S,Q,se;let T;if(k===u)return T=v>o?"D":"C",b(Math.abs(v-o),w(T,m));T=k>u?"D":"C";const O=Math.abs(k-u);return b(function(f,S){return S.cols-f}(k>u?o:v,h)+(O-1)*h.cols+1+((k>u?v:o)-1),w(T,m))}},1296:function(E,l,d){var g=this&&this.__decorate||function(O,f,S,N){var ee,Q=arguments.length,se=Q<3?f:null===N?N=Object.getOwnPropertyDescriptor(f,S):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(O,f,S,N);else for(var Re=O.length-1;Re>=0;Re--)(ee=O[Re])&&(se=(Q<3?ee(se):Q>3?ee(f,S,se):ee(f,S))||se);return Q>3&&se&&Object.defineProperty(f,S,se),se},C=this&&this.__param||function(O,f){return function(S,N){f(S,N,O)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const p=d(3787),y=d(2223),x=d(6171),w=d(4725),b=d(8055),o=d(8460),u=d(844),h=d(2585),m="xterm-dom-renderer-owner-",v="xterm-focus";let k=1,T=class extends u.Disposable{constructor(O,f,S,N,ee,Q,se,Re,ze,Be){super(),this._element=O,this._screenElement=f,this._viewportElement=S,this._linkifier2=N,this._charSizeService=Q,this._optionsService=se,this._bufferService=Re,this._coreBrowserService=ze,this._themeService=Be,this._terminalClass=k++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,x.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(U=>this._injectCss(U))),this._injectCss(this._themeService.colors),this._rowFactory=ee.createInstance(p.DomRendererRowFactory,document),this._element.classList.add(m+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(U=>this._handleLinkHover(U))),this.register(this._linkifier2.onHideLinkUnderline(U=>this._handleLinkLeave(U))),this.register((0,u.toDisposable)(()=>{this._element.classList.remove(m+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))}_updateDimensions(){const O=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*O,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*O),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/O),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/O),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const S of this._rowElements)S.style.width=`${this.dimensions.css.canvas.width}px`,S.style.height=`${this.dimensions.css.cell.height}px`,S.style.lineHeight=`${this.dimensions.css.cell.height}px`,S.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(O){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let f=`${this._terminalSelector} .xterm-rows { color: ${O.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;f+=`${this._terminalSelector} .xterm-rows .xterm-dim { color: ${b.color.multiplyOpacity(O.foreground,.5).css};}`,f+=`${this._terminalSelector} span:not(.${p.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${p.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${p.ITALIC_CLASS} { font-style: italic;}`,f+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",f+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${O.cursor.css};  color: ${O.cursorAccent.css}; } 50% {  background-color: ${O.cursorAccent.css};  color: ${O.cursor.css}; }}`,f+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${p.CURSOR_CLASS}.${p.CURSOR_STYLE_BLOCK_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${p.CURSOR_CLASS}.${p.CURSOR_STYLE_BAR_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${p.CURSOR_CLASS}.${p.CURSOR_STYLE_UNDERLINE_CLASS} { outline: 1px solid ${O.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${p.CURSOR_CLASS}.${p.CURSOR_BLINK_CLASS}:not(.${p.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${p.CURSOR_CLASS}.${p.CURSOR_BLINK_CLASS}.${p.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${p.CURSOR_CLASS}.${p.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${O.cursor.css}; color: ${O.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${p.CURSOR_CLASS}.${p.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${O.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${p.CURSOR_CLASS}.${p.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${O.cursor.css} inset;}`,f+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${O.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${O.selectionInactiveBackgroundOpaque.css};}`;for(const[S,N]of O.ansi.entries())f+=`${this._terminalSelector} .xterm-fg-${S} { color: ${N.css}; }${this._terminalSelector} .xterm-fg-${S}.${p.DIM_CLASS} { color: ${b.color.multiplyOpacity(N,.5).css}; }${this._terminalSelector} .xterm-bg-${S} { background-color: ${N.css}; }`;f+=`${this._terminalSelector} .xterm-fg-${y.INVERTED_DEFAULT_COLOR} { color: ${b.color.opaque(O.background).css}; }${this._terminalSelector} .xterm-fg-${y.INVERTED_DEFAULT_COLOR}.${p.DIM_CLASS} { color: ${b.color.multiplyOpacity(b.color.opaque(O.background),.5).css}; }${this._terminalSelector} .xterm-bg-${y.INVERTED_DEFAULT_COLOR} { background-color: ${O.foreground.css}; }`,this._themeStyleElement.textContent=f}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(O,f){for(let S=this._rowElements.length;S<=f;S++){const N=document.createElement("div");this._rowContainer.appendChild(N),this._rowElements.push(N)}for(;this._rowElements.length>f;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(O,f){this._refreshRowElements(O,f),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(v)}handleFocus(){this._rowContainer.classList.add(v)}handleSelectionChanged(O,f,S){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(O,f,S),this.renderRows(0,this._bufferService.rows-1),!O||!f)return;const N=O[1]-this._bufferService.buffer.ydisp,ee=f[1]-this._bufferService.buffer.ydisp,Q=Math.max(N,0),se=Math.min(ee,this._bufferService.rows-1);if(Q>=this._bufferService.rows||se<0)return;const Re=document.createDocumentFragment();if(S){const ze=O[0]>f[0];Re.appendChild(this._createSelectionElement(Q,ze?f[0]:O[0],ze?O[0]:f[0],se-Q+1))}else Re.appendChild(this._createSelectionElement(Q,N===Q?O[0]:0,Q===ee?f[0]:this._bufferService.cols)),Re.appendChild(this._createSelectionElement(Q+1,0,this._bufferService.cols,se-Q-1)),Q!==se&&Re.appendChild(this._createSelectionElement(se,0,ee===se?f[0]:this._bufferService.cols));this._selectionContainer.appendChild(Re)}_createSelectionElement(O,f,S,N=1){const ee=document.createElement("div");return ee.style.height=N*this.dimensions.css.cell.height+"px",ee.style.top=O*this.dimensions.css.cell.height+"px",ee.style.left=f*this.dimensions.css.cell.width+"px",ee.style.width=this.dimensions.css.cell.width*(S-f)+"px",ee}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors)}clear(){for(const O of this._rowElements)O.replaceChildren()}renderRows(O,f){const S=this._bufferService.buffer.ybase+this._bufferService.buffer.y,N=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),ee=this._optionsService.rawOptions.cursorBlink;for(let Q=O;Q<=f;Q++){const se=this._rowElements[Q],Re=Q+this._bufferService.buffer.ydisp,ze=this._bufferService.buffer.lines.get(Re),Be=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[Q]&&this._cellToRowElements[Q].length===this._bufferService.cols||(this._cellToRowElements[Q]=new Int16Array(this._bufferService.cols)),se.replaceChildren(this._rowFactory.createRow(ze,Re,Re===S,Be,N,ee,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[Q]))}}get _terminalSelector(){return`.${m}${this._terminalClass}`}_handleLinkHover(O){this._setCellUnderline(O.x1,O.x2,O.y1,O.y2,O.cols,!0)}_handleLinkLeave(O){this._setCellUnderline(O.x1,O.x2,O.y1,O.y2,O.cols,!1)}_setCellUnderline(O,f,S,N,ee,Q){S<0&&(O=0),N<0&&(f=0);const se=this._cellToRowElements.length-1;S=Math.max(Math.min(S,se),0),N=Math.max(Math.min(N,se),0);const Re=this._cellToRowElements[S],ze=this._cellToRowElements[N];if(!(O>=Re.length||f>=ze.length)&&(f=ze[f],-1!==(O=Re[O])&&-1!==f))for(;O!==f||S!==N;){const Be=this._rowElements[S];if(!Be)return;const U=Be.children[O];U&&(U.style.textDecoration=Q?"underline":"none"),++O>=ee&&(O=0,S++)}}};T=g([C(4,h.IInstantiationService),C(5,w.ICharSizeService),C(6,h.IOptionsService),C(7,h.IBufferService),C(8,w.ICoreBrowserService),C(9,w.IThemeService)],T),l.DomRenderer=T},3787:function(E,l,d){var g=this&&this.__decorate||function(T,O,f,S){var N,ee=arguments.length,Q=ee<3?O:null===S?S=Object.getOwnPropertyDescriptor(O,f):S;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(T,O,f,S);else for(var se=T.length-1;se>=0;se--)(N=T[se])&&(Q=(ee<3?N(Q):ee>3?N(O,f,Q):N(O,f))||Q);return ee>3&&Q&&Object.defineProperty(O,f,Q),Q},C=this&&this.__param||function(T,O){return function(f,S){O(f,S,T)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=l.CURSOR_STYLE_UNDERLINE_CLASS=l.CURSOR_STYLE_BAR_CLASS=l.CURSOR_STYLE_BLOCK_CLASS=l.CURSOR_BLINK_CLASS=l.CURSOR_CLASS=l.STRIKETHROUGH_CLASS=l.OVERLINE_CLASS=l.UNDERLINE_CLASS=l.ITALIC_CLASS=l.DIM_CLASS=l.BOLD_CLASS=void 0;const p=d(2223),y=d(643),x=d(511),w=d(2585),b=d(8055),o=d(4725),u=d(4269),h=d(6171),m=d(3734);l.BOLD_CLASS="xterm-bold",l.DIM_CLASS="xterm-dim",l.ITALIC_CLASS="xterm-italic",l.UNDERLINE_CLASS="xterm-underline",l.OVERLINE_CLASS="xterm-overline",l.STRIKETHROUGH_CLASS="xterm-strikethrough",l.CURSOR_CLASS="xterm-cursor",l.CURSOR_BLINK_CLASS="xterm-cursor-blink",l.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",l.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",l.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let v=class{constructor(T,O,f,S,N,ee,Q){this._document=T,this._characterJoinerService=O,this._optionsService=f,this._coreBrowserService=S,this._coreService=N,this._decorationService=ee,this._themeService=Q,this._workCell=new x.CellData,this._columnSelectMode=!1}handleSelectionChanged(T,O,f){this._selectionStart=T,this._selectionEnd=O,this._columnSelectMode=f}createRow(T,O,f,S,N,ee,Q,se,Re){const ze=this._document.createDocumentFragment(),Be=this._characterJoinerService.getJoinedCharacters(O);let U=0;for(let Ve=Math.min(T.length,se)-1;Ve>=0;Ve--)if(T.loadCell(Ve,this._workCell).getCode()!==y.NULL_CELL_CODE||f&&Ve===N){U=Ve+1;break}const te=this._themeService.colors;let ue=-1,_e=0;for(;_e<U;_e++){T.loadCell(_e,this._workCell);let Ve=this._workCell.getWidth();if(0===Ve){Re[_e]=ue;continue}let Ke=!1,ve=_e,le=this._workCell;if(Be.length>0&&_e===Be[0][0]){Ke=!0;const Ee=Be.shift();le=new u.JoinedCellData(this._workCell,T.translateToString(!0,Ee[0],Ee[1]),Ee[1]-Ee[0]),ve=Ee[1]-1,Ve=le.getWidth()}const de=this._document.createElement("span");if(Ve>1&&(de.style.width=Q*Ve+"px"),Ke&&(de.style.display="inline",N>=_e&&N<=ve&&(N=_e)),!this._coreService.isCursorHidden&&f&&_e===N)switch(de.classList.add(l.CURSOR_CLASS),ee&&de.classList.add(l.CURSOR_BLINK_CLASS),S){case"bar":de.classList.add(l.CURSOR_STYLE_BAR_CLASS);break;case"underline":de.classList.add(l.CURSOR_STYLE_UNDERLINE_CLASS);break;default:de.classList.add(l.CURSOR_STYLE_BLOCK_CLASS)}if(le.isBold()&&de.classList.add(l.BOLD_CLASS),le.isItalic()&&de.classList.add(l.ITALIC_CLASS),le.isDim()&&de.classList.add(l.DIM_CLASS),de.textContent=le.isInvisible()?y.WHITESPACE_CELL_CHAR:le.getChars()||y.WHITESPACE_CELL_CHAR,le.isUnderline()&&(de.classList.add(`${l.UNDERLINE_CLASS}-${le.extended.underlineStyle}`)," "===de.textContent&&(de.textContent="\xa0"),!le.isUnderlineColorDefault()))if(le.isUnderlineColorRGB())de.style.textDecorationColor=`rgb(${m.AttributeData.toColorRGB(le.getUnderlineColor()).join(",")})`;else{let Ee=le.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&le.isBold()&&Ee<8&&(Ee+=8),de.style.textDecorationColor=te.ansi[Ee].css}le.isOverline()&&(de.classList.add(l.OVERLINE_CLASS)," "===de.textContent&&(de.textContent="\xa0")),le.isStrikethrough()&&de.classList.add(l.STRIKETHROUGH_CLASS);let j=le.getFgColor(),Y=le.getFgColorMode(),B=le.getBgColor(),me=le.getBgColorMode();const Fe=!!le.isInverse();if(Fe){const Ee=j;j=B,B=Ee;const Ze=Y;Y=me,me=Ze}let ge,q,Pe=!1;this._decorationService.forEachDecorationAtCell(_e,O,void 0,Ee=>{"top"!==Ee.options.layer&&Pe||(Ee.backgroundColorRGB&&(me=50331648,B=Ee.backgroundColorRGB.rgba>>8&16777215,ge=Ee.backgroundColorRGB),Ee.foregroundColorRGB&&(Y=50331648,j=Ee.foregroundColorRGB.rgba>>8&16777215,q=Ee.foregroundColorRGB),Pe="top"===Ee.options.layer)});const Te=this._isCellInSelection(_e,O);let ie;switch(Pe||te.selectionForeground&&Te&&(Y=50331648,j=te.selectionForeground.rgba>>8&16777215,q=te.selectionForeground),Te&&(ge=this._coreBrowserService.isFocused?te.selectionBackgroundOpaque:te.selectionInactiveBackgroundOpaque,Pe=!0),Pe&&de.classList.add("xterm-decoration-top"),me){case 16777216:case 33554432:ie=te.ansi[B],de.classList.add(`xterm-bg-${B}`);break;case 50331648:ie=b.rgba.toColor(B>>16,B>>8&255,255&B),this._addStyle(de,`background-color:#${k((B>>>0).toString(16),"0",6)}`);break;default:Fe?(ie=te.foreground,de.classList.add(`xterm-bg-${p.INVERTED_DEFAULT_COLOR}`)):ie=te.background}switch(ge||le.isDim()&&(ge=b.color.multiplyOpacity(ie,.5)),Y){case 16777216:case 33554432:le.isBold()&&j<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(j+=8),this._applyMinimumContrast(de,ie,te.ansi[j],le,ge,void 0)||de.classList.add(`xterm-fg-${j}`);break;case 50331648:const Ee=b.rgba.toColor(j>>16&255,j>>8&255,255&j);this._applyMinimumContrast(de,ie,Ee,le,ge,q)||this._addStyle(de,`color:#${k(j.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(de,ie,te.foreground,le,ge,void 0)||Fe&&de.classList.add(`xterm-fg-${p.INVERTED_DEFAULT_COLOR}`)}ze.appendChild(de),Re[_e]=++ue,_e=ve}return _e<se-1&&Re.subarray(_e).fill(++ue),ze}_applyMinimumContrast(T,O,f,S,N,ee){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,h.excludeFromContrastRatioDemands)(S.getCode()))return!1;let Q;return N||ee||(Q=this._themeService.colors.contrastCache.getColor(O.rgba,f.rgba)),void 0===Q&&(Q=b.color.ensureContrastRatio(N||O,ee||f,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((N||O).rgba,(ee||f).rgba,Q??null)),!!Q&&(this._addStyle(T,`color:${Q.css}`),!0)}_addStyle(T,O){T.setAttribute("style",`${T.getAttribute("style")||""}${O};`)}_isCellInSelection(T,O){const f=this._selectionStart,S=this._selectionEnd;return!(!f||!S)&&(this._columnSelectMode?f[0]<=S[0]?T>=f[0]&&O>=f[1]&&T<S[0]&&O<=S[1]:T<f[0]&&O>=f[1]&&T>=S[0]&&O<=S[1]:O>f[1]&&O<S[1]||f[1]===S[1]&&O===f[1]&&T>=f[0]&&T<S[0]||f[1]<S[1]&&O===S[1]&&T<S[0]||f[1]<S[1]&&O===f[1]&&T>=f[0])}};function k(T,O,f){for(;T.length<f;)T=O+T;return T}v=g([C(1,o.ICharacterJoinerService),C(2,w.IOptionsService),C(3,o.ICoreBrowserService),C(4,w.ICoreService),C(5,w.IDecorationService),C(6,o.IThemeService)],v),l.DomRendererRowFactory=v},2223:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const g=d(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=g.isFirefox||g.isLegacyEdge?"bottom":"ideographic"},6171:(E,l)=>{function d(g){return 57508<=g&&g<=57558}Object.defineProperty(l,"__esModule",{value:!0}),l.createRenderDimensions=l.excludeFromContrastRatioDemands=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(g){if(!g)throw new Error("value must not be falsy");return g},l.isPowerlineGlyph=d,l.isRestrictedPowerlineGlyph=function(g){return 57520<=g&&g<=57527},l.excludeFromContrastRatioDemands=function(g){return d(g)||9472<=(C=g)&&C<=9631;var C},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(d){this._bufferService=d,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?d%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)-1]:[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[d,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const d=this.selectionStart[0]+this.selectionStartLength;return d>this._bufferService.cols?[d%this._bufferService.cols,this.selectionStart[1]+Math.floor(d/this._bufferService.cols)]:[Math.max(d,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const d=this.selectionStart,g=this.selectionEnd;return!(!d||!g)&&(d[1]>g[1]||d[1]===g[1]&&d[0]>g[0])}handleTrim(d){return this.selectionStart&&(this.selectionStart[1]-=d),this.selectionEnd&&(this.selectionEnd[1]-=d),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(E,l,d){var g=this&&this.__decorate||function(o,u,h,m){var v,k=arguments.length,T=k<3?u:null===m?m=Object.getOwnPropertyDescriptor(u,h):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(o,u,h,m);else for(var O=o.length-1;O>=0;O--)(v=o[O])&&(T=(k<3?v(T):k>3?v(u,h,T):v(u,h))||T);return k>3&&T&&Object.defineProperty(u,h,T),T},C=this&&this.__param||function(o,u){return function(h,m){u(h,m,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const p=d(2585),y=d(8460),x=d(844);let w=class extends x.Disposable{constructor(o,u,h){super(),this._optionsService=h,this.width=0,this.height=0,this._onCharSizeChange=this.register(new y.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new b(o,u,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const o=this._measureStrategy.measure();o.width===this.width&&o.height===this.height||(this.width=o.width,this.height=o.height,this._onCharSizeChange.fire())}};w=g([C(2,p.IOptionsService)],w),l.CharSizeService=w;class b{constructor(u,h,m){this._document=u,this._parentElement=h,this._optionsService=m,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const u=this._measureElement.getBoundingClientRect();return 0!==u.width&&0!==u.height&&(this._result.width=u.width,this._result.height=Math.ceil(u.height)),this._result}}},4269:function(E,l,d){var g=this&&this.__decorate||function(u,h,m,v){var k,T=arguments.length,O=T<3?h:null===v?v=Object.getOwnPropertyDescriptor(h,m):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(u,h,m,v);else for(var f=u.length-1;f>=0;f--)(k=u[f])&&(O=(T<3?k(O):T>3?k(h,m,O):k(h,m))||O);return T>3&&O&&Object.defineProperty(h,m,O),O},C=this&&this.__param||function(u,h){return function(m,v){h(m,v,u)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const p=d(3734),y=d(643),x=d(511),w=d(2585);l.JoinedCellData=class b extends p.AttributeData{constructor(h,m,v){super(),this.content=0,this.combinedData="",this.fg=h.fg,this.bg=h.bg,this.combinedData=m,this._width=v}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(h){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let o=class fa{constructor(h){this._bufferService=h,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new x.CellData}register(h){const m={id:this._nextCharacterJoinerId++,handler:h};return this._characterJoiners.push(m),m.id}deregister(h){for(let m=0;m<this._characterJoiners.length;m++)if(this._characterJoiners[m].id===h)return this._characterJoiners.splice(m,1),!0;return!1}getJoinedCharacters(h){if(0===this._characterJoiners.length)return[];const m=this._bufferService.buffer.lines.get(h);if(!m||0===m.length)return[];const v=[],k=m.translateToString(!0);let T=0,O=0,f=0,S=m.getFg(0),N=m.getBg(0);for(let ee=0;ee<m.getTrimmedLength();ee++)if(m.loadCell(ee,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==S||this._workCell.bg!==N){if(ee-T>1){const Q=this._getJoinedRanges(k,f,O,m,T);for(let se=0;se<Q.length;se++)v.push(Q[se])}T=ee,f=O,S=this._workCell.fg,N=this._workCell.bg}O+=this._workCell.getChars().length||y.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-T>1){const ee=this._getJoinedRanges(k,f,O,m,T);for(let Q=0;Q<ee.length;Q++)v.push(ee[Q])}return v}_getJoinedRanges(h,m,v,k,T){const O=h.substring(m,v);let f=[];try{f=this._characterJoiners[0].handler(O)}catch(S){console.error(S)}for(let S=1;S<this._characterJoiners.length;S++)try{const N=this._characterJoiners[S].handler(O);for(let ee=0;ee<N.length;ee++)fa._mergeRanges(f,N[ee])}catch(N){console.error(N)}return this._stringRangesToCellRanges(f,k,T),f}_stringRangesToCellRanges(h,m,v){let k=0,T=!1,O=0,f=h[k];if(f){for(let S=v;S<this._bufferService.cols;S++){const N=m.getWidth(S),ee=m.getString(S).length||y.WHITESPACE_CELL_CHAR.length;if(0!==N){if(!T&&f[0]<=O&&(f[0]=S,T=!0),f[1]<=O){if(f[1]=S,f=h[++k],!f)break;f[0]<=O?(f[0]=S,T=!0):T=!1}O+=ee}}f&&(f[1]=this._bufferService.cols)}}static _mergeRanges(h,m){let v=!1;for(let k=0;k<h.length;k++){const T=h[k];if(v){if(m[1]<=T[0])return h[k-1][1]=m[1],h;if(m[1]<=T[1])return h[k-1][1]=Math.max(m[1],T[1]),h.splice(k,1),h;h.splice(k,1),k--}else{if(m[1]<=T[0])return h.splice(k,0,m),h;if(m[1]<=T[1])return T[0]=Math.min(m[0],T[0]),h;m[0]<T[1]&&(T[0]=Math.min(m[0],T[0]),v=!0)}}return v?h[h.length-1][1]=m[1]:h.push(m),h}};o=g([C(0,w.IBufferService)],o),l.CharacterJoinerService=o},5114:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0,l.CoreBrowserService=class{constructor(d,g){this._textarea=d,this.window=g,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(E,l,d){var g=this&&this.__decorate||function(w,b,o,u){var h,m=arguments.length,v=m<3?b:null===u?u=Object.getOwnPropertyDescriptor(b,o):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(w,b,o,u);else for(var k=w.length-1;k>=0;k--)(h=w[k])&&(v=(m<3?h(v):m>3?h(b,o,v):h(b,o))||v);return m>3&&v&&Object.defineProperty(b,o,v),v},C=this&&this.__param||function(w,b){return function(o,u){b(o,u,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const p=d(4725),y=d(9806);let x=class{constructor(w,b){this._renderService=w,this._charSizeService=b}getCoords(w,b,o,u,h){return(0,y.getCoords)(window,w,b,o,u,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,h)}getMouseReportCoords(w,b){const o=(0,y.getCoordsRelativeToElement)(window,w,b);if(!(!this._charSizeService.hasValidSize||o[0]<0||o[1]<0||o[0]>=this._renderService.dimensions.css.canvas.width||o[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(o[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(o[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(o[0]),y:Math.floor(o[1])}}};x=g([C(0,p.IRenderService),C(1,p.ICharSizeService)],x),l.MouseService=x},3230:function(E,l,d){var g=this&&this.__decorate||function(v,k,T,O){var f,S=arguments.length,N=S<3?k:null===O?O=Object.getOwnPropertyDescriptor(k,T):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(v,k,T,O);else for(var ee=v.length-1;ee>=0;ee--)(f=v[ee])&&(N=(S<3?f(N):S>3?f(k,T,N):f(k,T))||N);return S>3&&N&&Object.defineProperty(k,T,N),N},C=this&&this.__param||function(v,k){return function(T,O){k(T,O,v)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const p=d(6193),y=d(8460),x=d(844),w=d(5596),b=d(3656),o=d(2585),u=d(4725),h=d(7226);let m=class extends x.Disposable{constructor(v,k,T,O,f,S,N,ee){if(super(),this._rowCount=v,this._charSizeService=O,this._pausedResizeTask=new h.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new y.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new y.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new y.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new y.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var Q;return null===(Q=this._renderer)||void 0===Q?void 0:Q.dispose()}}),this._renderDebouncer=new p.RenderDebouncer(N.window,(Q,se)=>this._renderRows(Q,se)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(S.onResize(()=>this._fullRefresh())),this.register(S.buffers.onBufferActivate(()=>{var Q;return null===(Q=this._renderer)||void 0===Q?void 0:Q.clear()})),this.register(T.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(f.onDecorationRegistered(()=>this._fullRefresh())),this.register(f.onDecorationRemoved(()=>this._fullRefresh())),this.register(T.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(S.cols,S.rows),this._fullRefresh()})),this.register(T.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(S.buffer.y,S.buffer.y,!0))),this.register((0,b.addDisposableDomListener)(N.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(ee.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in N.window){const Q=new N.window.IntersectionObserver(se=>this._handleIntersectionChange(se[se.length-1]),{threshold:0});Q.observe(k),this.register({dispose:()=>Q.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(v){this._isPaused=void 0===v.isIntersecting?0===v.intersectionRatio:!v.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(v,k,T=!1){this._isPaused?this._needsFullRefresh=!0:(T||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(v,k,this._rowCount))}_renderRows(v,k){this._renderer&&(v=Math.min(v,this._rowCount-1),k=Math.min(k,this._rowCount-1),this._renderer.renderRows(v,k),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:v,end:k}),this._onRender.fire({start:v,end:k}),this._isNextRenderRedrawOnly=!0)}resize(v,k){this._rowCount=k,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(v){var k;null===(k=this._renderer)||void 0===k||k.dispose(),this._renderer=v,this._renderer.onRequestRedraw(T=>this.refreshRows(T.start,T.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(v){return this._renderDebouncer.addRefreshCallback(v)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var v,k;this._renderer&&(null===(k=(v=this._renderer).clearTextureAtlas)||void 0===k||k.call(v),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(v,k){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(v,k)):this._renderer.handleResize(v,k),this._fullRefresh())}handleCharSizeChanged(){var v;null===(v=this._renderer)||void 0===v||v.handleCharSizeChanged()}handleBlur(){var v;null===(v=this._renderer)||void 0===v||v.handleBlur()}handleFocus(){var v;null===(v=this._renderer)||void 0===v||v.handleFocus()}handleSelectionChanged(v,k,T){var O;this._selectionState.start=v,this._selectionState.end=k,this._selectionState.columnSelectMode=T,null===(O=this._renderer)||void 0===O||O.handleSelectionChanged(v,k,T)}handleCursorMove(){var v;null===(v=this._renderer)||void 0===v||v.handleCursorMove()}clear(){var v;null===(v=this._renderer)||void 0===v||v.clear()}};m=g([C(2,o.IOptionsService),C(3,u.ICharSizeService),C(4,o.IDecorationService),C(5,o.IBufferService),C(6,u.ICoreBrowserService),C(7,u.IThemeService)],m),l.RenderService=m},9312:function(E,l,d){var g=this&&this.__decorate||function(f,S,N,ee){var Q,se=arguments.length,Re=se<3?S:null===ee?ee=Object.getOwnPropertyDescriptor(S,N):ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate(f,S,N,ee);else for(var ze=f.length-1;ze>=0;ze--)(Q=f[ze])&&(Re=(se<3?Q(Re):se>3?Q(S,N,Re):Q(S,N))||Re);return se>3&&Re&&Object.defineProperty(S,N,Re),Re},C=this&&this.__param||function(f,S){return function(N,ee){S(N,ee,f)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const p=d(6114),y=d(456),x=d(511),w=d(8460),b=d(4725),o=d(2585),u=d(9806),h=d(9504),m=d(844),v=d(4841),k=String.fromCharCode(160),T=new RegExp(k,"g");let O=class extends m.Disposable{constructor(f,S,N,ee,Q,se,Re,ze,Be){super(),this._element=f,this._screenElement=S,this._linkifier=N,this._bufferService=ee,this._coreService=Q,this._mouseService=se,this._optionsService=Re,this._renderService=ze,this._coreBrowserService=Be,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new x.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=U=>this._handleMouseMove(U),this._mouseUpListener=U=>this._handleMouseUp(U),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(U=>this._handleTrim(U)),this.register(this._bufferService.buffers.onBufferActivate(U=>this._handleBufferActivate(U))),this.enable(),this._model=new y.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const f=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;return!(!f||!S||f[0]===S[0]&&f[1]===S[1])}get selectionText(){const f=this._model.finalSelectionStart,S=this._model.finalSelectionEnd;if(!f||!S)return"";const N=this._bufferService.buffer,ee=[];if(3===this._activeSelectionMode){if(f[0]===S[0])return"";const Q=f[0]<S[0]?f[0]:S[0],se=f[0]<S[0]?S[0]:f[0];for(let Re=f[1];Re<=S[1];Re++){const ze=N.translateBufferLineToString(Re,!0,Q,se);ee.push(ze)}}else{ee.push(N.translateBufferLineToString(f[1],!0,f[0],f[1]===S[1]?S[0]:void 0));for(let se=f[1]+1;se<=S[1]-1;se++){const Re=N.lines.get(se),ze=N.translateBufferLineToString(se,!0);Re?.isWrapped?ee[ee.length-1]+=ze:ee.push(ze)}if(f[1]!==S[1]){const se=N.lines.get(S[1]),Re=N.translateBufferLineToString(S[1],!0,0,S[0]);se&&se.isWrapped?ee[ee.length-1]+=Re:ee.push(Re)}}return ee.map(Q=>Q.replace(T," ")).join(p.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(f){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&f&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(f){const S=this._getMouseBufferCoords(f),N=this._model.finalSelectionStart,ee=this._model.finalSelectionEnd;return!!(N&&ee&&S)&&this._areCoordsInSelection(S,N,ee)}isCellInSelection(f,S){const N=this._model.finalSelectionStart,ee=this._model.finalSelectionEnd;return!(!N||!ee)&&this._areCoordsInSelection([f,S],N,ee)}_areCoordsInSelection(f,S,N){return f[1]>S[1]&&f[1]<N[1]||S[1]===N[1]&&f[1]===S[1]&&f[0]>=S[0]&&f[0]<N[0]||S[1]<N[1]&&f[1]===N[1]&&f[0]<N[0]||S[1]<N[1]&&f[1]===S[1]&&f[0]>=S[0]}_selectWordAtCursor(f,S){var N,ee;const Q=null===(ee=null===(N=this._linkifier.currentLink)||void 0===N?void 0:N.link)||void 0===ee?void 0:ee.range;if(Q)return this._model.selectionStart=[Q.start.x-1,Q.start.y-1],this._model.selectionStartLength=(0,v.getRangeLength)(Q,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const se=this._getMouseBufferCoords(f);return!!se&&(this._selectWordAt(se,S),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(f,S){this._model.clearSelection(),f=Math.max(f,0),S=Math.min(S,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,f],this._model.selectionEnd=[this._bufferService.cols,S],this.refresh(),this._onSelectionChange.fire()}_handleTrim(f){this._model.handleTrim(f)&&this.refresh()}_getMouseBufferCoords(f){const S=this._mouseService.getCoords(f,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(S)return S[0]--,S[1]--,S[1]+=this._bufferService.buffer.ydisp,S}_getMouseEventScrollAmount(f){let S=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,f,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return S>=0&&S<=N?0:(S>N&&(S-=N),S=Math.min(Math.max(S,-50),50),S/=50,S/Math.abs(S)+Math.round(14*S))}shouldForceSelection(f){return p.isMac?f.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:f.shiftKey}handleMouseDown(f){if(this._mouseDownTimeStamp=f.timeStamp,(2!==f.button||!this.hasSelection)&&0===f.button){if(!this._enabled){if(!this.shouldForceSelection(f))return;f.stopPropagation()}f.preventDefault(),this._dragScrollAmount=0,this._enabled&&f.shiftKey?this._handleIncrementalClick(f):1===f.detail?this._handleSingleClick(f):2===f.detail?this._handleDoubleClick(f):3===f.detail&&this._handleTripleClick(f),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(f){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(f))}_handleSingleClick(f){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(f)?3:0,this._model.selectionStart=this._getMouseBufferCoords(f),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const S=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);S&&S.length!==this._model.selectionStart[0]&&0===S.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(f){this._selectWordAtCursor(f,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(f){const S=this._getMouseBufferCoords(f);S&&(this._activeSelectionMode=2,this._selectLineAt(S[1]))}shouldColumnSelect(f){return f.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(f){if(f.stopImmediatePropagation(),!this._model.selectionStart)return;const S=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(f),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(f),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const ee=N.lines.get(this._model.selectionEnd[1]);ee&&0===ee.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}S&&S[0]===this._model.selectionEnd[0]&&S[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const f=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(f.ydisp+this._bufferService.rows,f.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=f.ydisp),this.refresh()}}_handleMouseUp(f){const S=f.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&S<500&&f.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(f,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&void 0!==N[0]&&void 0!==N[1]){const ee=(0,h.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(ee,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const f=this._model.finalSelectionStart,S=this._model.finalSelectionEnd,N=!(!f||!S||f[0]===S[0]&&f[1]===S[1]);N?f&&S&&(this._oldSelectionStart&&this._oldSelectionEnd&&f[0]===this._oldSelectionStart[0]&&f[1]===this._oldSelectionStart[1]&&S[0]===this._oldSelectionEnd[0]&&S[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(f,S,N)):this._oldHasSelection&&this._fireOnSelectionChange(f,S,N)}_fireOnSelectionChange(f,S,N){this._oldSelectionStart=f,this._oldSelectionEnd=S,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(f){this.clearSelection(),this._trimListener.dispose(),this._trimListener=f.activeBuffer.lines.onTrim(S=>this._handleTrim(S))}_convertViewportColToCharacterIndex(f,S){let N=S;for(let ee=0;S>=ee;ee++){const Q=f.loadCell(ee,this._workCell).getChars().length;0===this._workCell.getWidth()?N--:Q>1&&S!==ee&&(N+=Q-1)}return N}setSelection(f,S,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[f,S],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(f){this._isClickInSelection(f)||(this._selectWordAtCursor(f,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(f,S,N=!0,ee=!0){if(f[0]>=this._bufferService.cols)return;const Q=this._bufferService.buffer,se=Q.lines.get(f[1]);if(!se)return;const Re=Q.translateBufferLineToString(f[1],!1);let ze=this._convertViewportColToCharacterIndex(se,f[0]),Be=ze;const U=f[0]-ze;let te=0,ue=0,_e=0,Ve=0;if(" "===Re.charAt(ze)){for(;ze>0&&" "===Re.charAt(ze-1);)ze--;for(;Be<Re.length&&" "===Re.charAt(Be+1);)Be++}else{let le=f[0],de=f[0];0===se.getWidth(le)&&(te++,le--),2===se.getWidth(de)&&(ue++,de++);const j=se.getString(de).length;for(j>1&&(Ve+=j-1,Be+=j-1);le>0&&ze>0&&!this._isCharWordSeparator(se.loadCell(le-1,this._workCell));){se.loadCell(le-1,this._workCell);const Y=this._workCell.getChars().length;0===this._workCell.getWidth()?(te++,le--):Y>1&&(_e+=Y-1,ze-=Y-1),ze--,le--}for(;de<se.length&&Be+1<Re.length&&!this._isCharWordSeparator(se.loadCell(de+1,this._workCell));){se.loadCell(de+1,this._workCell);const Y=this._workCell.getChars().length;2===this._workCell.getWidth()?(ue++,de++):Y>1&&(Ve+=Y-1,Be+=Y-1),Be++,de++}}Be++;let Ke=ze+U-te+_e,ve=Math.min(this._bufferService.cols,Be-ze+te+ue-_e-Ve);if(S||""!==Re.slice(ze,Be).trim()){if(N&&0===Ke&&32!==se.getCodePoint(0)){const le=Q.lines.get(f[1]-1);if(le&&se.isWrapped&&32!==le.getCodePoint(this._bufferService.cols-1)){const de=this._getWordAt([this._bufferService.cols-1,f[1]-1],!1,!0,!1);if(de){const j=this._bufferService.cols-de.start;Ke-=j,ve+=j}}}if(ee&&Ke+ve===this._bufferService.cols&&32!==se.getCodePoint(this._bufferService.cols-1)){const le=Q.lines.get(f[1]+1);if(le?.isWrapped&&32!==le.getCodePoint(0)){const de=this._getWordAt([0,f[1]+1],!1,!1,!0);de&&(ve+=de.length)}}return{start:Ke,length:ve}}}_selectWordAt(f,S){const N=this._getWordAt(f,S);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,f[1]--;this._model.selectionStart=[N.start,f[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(f){const S=this._getWordAt(f,!0);if(S){let N=f[1];for(;S.start<0;)S.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;S.start+S.length>this._bufferService.cols;)S.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?S.start:S.start+S.length,N]}}_isCharWordSeparator(f){return 0!==f.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(f.getChars())>=0}_selectLineAt(f){const S=this._bufferService.buffer.getWrappedRangeForLine(f),N={start:{x:0,y:S.first},end:{x:this._bufferService.cols-1,y:S.last}};this._model.selectionStart=[0,S.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,v.getRangeLength)(N,this._bufferService.cols)}};O=g([C(3,o.IBufferService),C(4,o.ICoreService),C(5,b.IMouseService),C(6,o.IOptionsService),C(7,b.IRenderService),C(8,b.ICoreBrowserService)],O),l.SelectionService=O},4725:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const g=d(8343);l.ICharSizeService=(0,g.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,g.createDecorator)("CoreBrowserService"),l.IMouseService=(0,g.createDecorator)("MouseService"),l.IRenderService=(0,g.createDecorator)("RenderService"),l.ISelectionService=(0,g.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,g.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,g.createDecorator)("ThemeService")},6731:function(E,l,d){var g=this&&this.__decorate||function(O,f,S,N){var ee,Q=arguments.length,se=Q<3?f:null===N?N=Object.getOwnPropertyDescriptor(f,S):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(O,f,S,N);else for(var Re=O.length-1;Re>=0;Re--)(ee=O[Re])&&(se=(Q<3?ee(se):Q>3?ee(f,S,se):ee(f,S))||se);return Q>3&&se&&Object.defineProperty(f,S,se),se},C=this&&this.__param||function(O,f){return function(S,N){f(S,N,O)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const p=d(7239),y=d(8055),x=d(8460),w=d(844),b=d(2585),o=y.css.toColor("#ffffff"),u=y.css.toColor("#000000"),h=y.css.toColor("#ffffff"),m=y.css.toColor("#000000"),v={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const O=[y.css.toColor("#2e3436"),y.css.toColor("#cc0000"),y.css.toColor("#4e9a06"),y.css.toColor("#c4a000"),y.css.toColor("#3465a4"),y.css.toColor("#75507b"),y.css.toColor("#06989a"),y.css.toColor("#d3d7cf"),y.css.toColor("#555753"),y.css.toColor("#ef2929"),y.css.toColor("#8ae234"),y.css.toColor("#fce94f"),y.css.toColor("#729fcf"),y.css.toColor("#ad7fa8"),y.css.toColor("#34e2e2"),y.css.toColor("#eeeeec")],f=[0,95,135,175,215,255];for(let S=0;S<216;S++){const N=f[S/36%6|0],ee=f[S/6%6|0],Q=f[S%6];O.push({css:y.channels.toCss(N,ee,Q),rgba:y.channels.toRgba(N,ee,Q)})}for(let S=0;S<24;S++){const N=8+10*S;O.push({css:y.channels.toCss(N,N,N),rgba:y.channels.toRgba(N,N,N)})}return O})());let k=class extends w.Disposable{constructor(O){super(),this._optionsService=O,this._onChangeColors=this.register(new x.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new p.ColorContrastCache,this._colors={foreground:o,background:u,cursor:h,cursorAccent:m,selectionForeground:void 0,selectionBackgroundTransparent:v,selectionBackgroundOpaque:y.color.blend(u,v),selectionInactiveBackgroundTransparent:v,selectionInactiveBackgroundOpaque:y.color.blend(u,v),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(O={}){const f=this._colors;if(f.foreground=T(O.foreground,o),f.background=T(O.background,u),f.cursor=T(O.cursor,h),f.cursorAccent=T(O.cursorAccent,m),f.selectionBackgroundTransparent=T(O.selectionBackground,v),f.selectionBackgroundOpaque=y.color.blend(f.background,f.selectionBackgroundTransparent),f.selectionInactiveBackgroundTransparent=T(O.selectionInactiveBackground,f.selectionBackgroundTransparent),f.selectionInactiveBackgroundOpaque=y.color.blend(f.background,f.selectionInactiveBackgroundTransparent),f.selectionForeground=O.selectionForeground?T(O.selectionForeground,y.NULL_COLOR):void 0,f.selectionForeground===y.NULL_COLOR&&(f.selectionForeground=void 0),y.color.isOpaque(f.selectionBackgroundTransparent)&&(f.selectionBackgroundTransparent=y.color.opacity(f.selectionBackgroundTransparent,.3)),y.color.isOpaque(f.selectionInactiveBackgroundTransparent)&&(f.selectionInactiveBackgroundTransparent=y.color.opacity(f.selectionInactiveBackgroundTransparent,.3)),f.ansi=l.DEFAULT_ANSI_COLORS.slice(),f.ansi[0]=T(O.black,l.DEFAULT_ANSI_COLORS[0]),f.ansi[1]=T(O.red,l.DEFAULT_ANSI_COLORS[1]),f.ansi[2]=T(O.green,l.DEFAULT_ANSI_COLORS[2]),f.ansi[3]=T(O.yellow,l.DEFAULT_ANSI_COLORS[3]),f.ansi[4]=T(O.blue,l.DEFAULT_ANSI_COLORS[4]),f.ansi[5]=T(O.magenta,l.DEFAULT_ANSI_COLORS[5]),f.ansi[6]=T(O.cyan,l.DEFAULT_ANSI_COLORS[6]),f.ansi[7]=T(O.white,l.DEFAULT_ANSI_COLORS[7]),f.ansi[8]=T(O.brightBlack,l.DEFAULT_ANSI_COLORS[8]),f.ansi[9]=T(O.brightRed,l.DEFAULT_ANSI_COLORS[9]),f.ansi[10]=T(O.brightGreen,l.DEFAULT_ANSI_COLORS[10]),f.ansi[11]=T(O.brightYellow,l.DEFAULT_ANSI_COLORS[11]),f.ansi[12]=T(O.brightBlue,l.DEFAULT_ANSI_COLORS[12]),f.ansi[13]=T(O.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),f.ansi[14]=T(O.brightCyan,l.DEFAULT_ANSI_COLORS[14]),f.ansi[15]=T(O.brightWhite,l.DEFAULT_ANSI_COLORS[15]),O.extendedAnsi){const S=Math.min(f.ansi.length-16,O.extendedAnsi.length);for(let N=0;N<S;N++)f.ansi[N+16]=T(O.extendedAnsi[N],l.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(O){this._restoreColor(O),this._onChangeColors.fire(this.colors)}_restoreColor(O){if(void 0!==O)switch(O){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[O]=this._restoreColors.ansi[O]}else for(let f=0;f<this._restoreColors.ansi.length;++f)this._colors.ansi[f]=this._restoreColors.ansi[f]}modifyColors(O){O(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function T(O,f){if(void 0!==O)try{return y.css.toColor(O)}catch{}return f}k=g([C(0,b.IOptionsService)],k),l.ThemeService=k},6349:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const g=d(8460),C=d(844);l.CircularList=class p extends C.Disposable{constructor(x){super(),this._maxLength=x,this.onDeleteEmitter=this.register(new g.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new g.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new g.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(x){if(this._maxLength===x)return;const w=new Array(x);for(let b=0;b<Math.min(x,this.length);b++)w[b]=this._array[this._getCyclicIndex(b)];this._array=w,this._maxLength=x,this._startIndex=0}get length(){return this._length}set length(x){if(x>this._length)for(let w=this._length;w<x;w++)this._array[w]=void 0;this._length=x}get(x){return this._array[this._getCyclicIndex(x)]}set(x,w){this._array[this._getCyclicIndex(x)]=w}push(x){this._array[this._getCyclicIndex(this._length)]=x,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(x,w,...b){if(w){for(let o=x;o<this._length-w;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+w)];this._length-=w,this.onDeleteEmitter.fire({index:x,amount:w})}for(let o=this._length-1;o>=x;o--)this._array[this._getCyclicIndex(o+b.length)]=this._array[this._getCyclicIndex(o)];for(let o=0;o<b.length;o++)this._array[this._getCyclicIndex(x+o)]=b[o];if(b.length&&this.onInsertEmitter.fire({index:x,amount:b.length}),this._length+b.length>this._maxLength){const o=this._length+b.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=b.length}trimStart(x){x>this._length&&(x=this._length),this._startIndex+=x,this._length-=x,this.onTrimEmitter.fire(x)}shiftElements(x,w,b){if(!(w<=0)){if(x<0||x>=this._length)throw new Error("start argument out of range");if(x+b<0)throw new Error("Cannot shift elements in list beyond index 0");if(b>0){for(let u=w-1;u>=0;u--)this.set(x+u+b,this.get(x+u));const o=x+w+b-this._length;if(o>0)for(this._length+=o;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let o=0;o<w;o++)this.set(x+o+b,this.get(x+o))}}_getCyclicIndex(x){return(this._startIndex+x)%this._maxLength}}},1439:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function d(g,C=5){if("object"!=typeof g)return g;const p=Array.isArray(g)?[]:{};for(const y in g)p[y]=C<=1?g[y]:g[y]&&d(g[y],C-1);return p}},8055:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;const g=d(6114);let C=0,p=0,y=0,x=0;var w,b,o,m;function u(m){const v=m.toString(16);return v.length<2?"0"+v:v}function h(m,v){return m<v?(v+.05)/(m+.05):(m+.05)/(v+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},(m=w=l.channels||(l.channels={})).toCss=function(v,k,T,O){return void 0!==O?`#${u(v)}${u(k)}${u(T)}${u(O)}`:`#${u(v)}${u(k)}${u(T)}`},m.toRgba=function(v,k,T,O=255){return(v<<24|k<<16|T<<8|O)>>>0},function(m){function v(k,T){return x=Math.round(255*T),[C,p,y]=o.toChannels(k.rgba),{css:w.toCss(C,p,y,x),rgba:w.toRgba(C,p,y,x)}}m.blend=function(k,T){if(x=(255&T.rgba)/255,1===x)return{css:T.css,rgba:T.rgba};const f=T.rgba>>16&255,S=T.rgba>>8&255,N=k.rgba>>24&255,ee=k.rgba>>16&255,Q=k.rgba>>8&255;return C=N+Math.round(((T.rgba>>24&255)-N)*x),p=ee+Math.round((f-ee)*x),y=Q+Math.round((S-Q)*x),{css:w.toCss(C,p,y),rgba:w.toRgba(C,p,y)}},m.isOpaque=function(k){return 255==(255&k.rgba)},m.ensureContrastRatio=function(k,T,O){const f=o.ensureContrastRatio(k.rgba,T.rgba,O);if(f)return o.toColor(f>>24&255,f>>16&255,f>>8&255)},m.opaque=function(k){const T=(255|k.rgba)>>>0;return[C,p,y]=o.toChannels(T),{css:w.toCss(C,p,y),rgba:T}},m.opacity=v,m.multiplyOpacity=function(k,T){return x=255&k.rgba,v(k,x*T/255)},m.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}}(l.color||(l.color={})),function(m){let v,k;if(!g.isNode){const T=document.createElement("canvas");T.width=1,T.height=1;const O=T.getContext("2d",{willReadFrequently:!0});O&&(v=O,v.globalCompositeOperation="copy",k=v.createLinearGradient(0,0,1,1))}m.toColor=function(T){if(T.match(/#[\da-f]{3,8}/i))switch(T.length){case 4:return C=parseInt(T.slice(1,2).repeat(2),16),p=parseInt(T.slice(2,3).repeat(2),16),y=parseInt(T.slice(3,4).repeat(2),16),o.toColor(C,p,y);case 5:return C=parseInt(T.slice(1,2).repeat(2),16),p=parseInt(T.slice(2,3).repeat(2),16),y=parseInt(T.slice(3,4).repeat(2),16),x=parseInt(T.slice(4,5).repeat(2),16),o.toColor(C,p,y,x);case 7:return{css:T,rgba:(parseInt(T.slice(1),16)<<8|255)>>>0};case 9:return{css:T,rgba:parseInt(T.slice(1),16)>>>0}}const O=T.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(O)return C=parseInt(O[1]),p=parseInt(O[2]),y=parseInt(O[3]),x=Math.round(255*(void 0===O[5]?1:parseFloat(O[5]))),o.toColor(C,p,y,x);if(!v||!k)throw new Error("css.toColor: Unsupported css format");if(v.fillStyle=k,v.fillStyle=T,"string"!=typeof v.fillStyle)throw new Error("css.toColor: Unsupported css format");if(v.fillRect(0,0,1,1),[C,p,y,x]=v.getImageData(0,0,1,1).data,255!==x)throw new Error("css.toColor: Unsupported css format");return{rgba:w.toRgba(C,p,y,x),css:T}}}(l.css||(l.css={})),function(m){function v(k,T,O){const f=k/255,S=T/255,N=O/255;return.2126*(f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4))+.7152*(S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4))+.0722*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))}m.relativeLuminance=function(k){return v(k>>16&255,k>>8&255,255&k)},m.relativeLuminance2=v}(b=l.rgb||(l.rgb={})),function(m){function v(T,O,f){const S=T>>24&255,N=T>>16&255,ee=T>>8&255;let Q=O>>24&255,se=O>>16&255,Re=O>>8&255,ze=h(b.relativeLuminance2(Q,se,Re),b.relativeLuminance2(S,N,ee));for(;ze<f&&(Q>0||se>0||Re>0);)Q-=Math.max(0,Math.ceil(.1*Q)),se-=Math.max(0,Math.ceil(.1*se)),Re-=Math.max(0,Math.ceil(.1*Re)),ze=h(b.relativeLuminance2(Q,se,Re),b.relativeLuminance2(S,N,ee));return(Q<<24|se<<16|Re<<8|255)>>>0}function k(T,O,f){const S=T>>24&255,N=T>>16&255,ee=T>>8&255;let Q=O>>24&255,se=O>>16&255,Re=O>>8&255,ze=h(b.relativeLuminance2(Q,se,Re),b.relativeLuminance2(S,N,ee));for(;ze<f&&(Q<255||se<255||Re<255);)Q=Math.min(255,Q+Math.ceil(.1*(255-Q))),se=Math.min(255,se+Math.ceil(.1*(255-se))),Re=Math.min(255,Re+Math.ceil(.1*(255-Re))),ze=h(b.relativeLuminance2(Q,se,Re),b.relativeLuminance2(S,N,ee));return(Q<<24|se<<16|Re<<8|255)>>>0}m.ensureContrastRatio=function(T,O,f){const S=b.relativeLuminance(T>>8),N=b.relativeLuminance(O>>8);if(h(S,N)<f){if(N<S){const se=v(T,O,f),Re=h(S,b.relativeLuminance(se>>8));if(Re<f){const ze=k(T,O,f);return Re>h(S,b.relativeLuminance(ze>>8))?se:ze}return se}const ee=k(T,O,f),Q=h(S,b.relativeLuminance(ee>>8));if(Q<f){const se=v(T,O,f);return Q>h(S,b.relativeLuminance(se>>8))?ee:se}return ee}},m.reduceLuminance=v,m.increaseLuminance=k,m.toChannels=function(T){return[T>>24&255,T>>16&255,T>>8&255,255&T]},m.toColor=function(T,O,f,S){return{css:w.toCss(T,O,f,S),rgba:w.toRgba(T,O,f,S)}}}(o=l.rgba||(l.rgba={})),l.toPaddedHex=u,l.contrastRatio=h},8969:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const g=d(844),C=d(2585),p=d(4348),y=d(7866),x=d(744),w=d(7302),b=d(6975),o=d(8460),u=d(1753),h=d(1480),m=d(7994),v=d(9282),k=d(5435),T=d(5981),O=d(2660);let f=!1;l.CoreTerminal=class S extends g.Disposable{constructor(ee){super(),this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new o.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new o.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new o.EventEmitter),this._instantiationService=new p.InstantiationService,this.optionsService=this.register(new w.OptionsService(ee)),this._instantiationService.setService(C.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(x.BufferService)),this._instantiationService.setService(C.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(y.LogService)),this._instantiationService.setService(C.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(b.CoreService)),this._instantiationService.setService(C.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(u.CoreMouseService)),this._instantiationService.setService(C.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(h.UnicodeService)),this._instantiationService.setService(C.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(m.CharsetService),this._instantiationService.setService(C.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(O.OscLinkService),this._instantiationService.setService(C.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new k.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,o.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,o.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,o.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,o.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(Q=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(Q=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new T.WriteBuffer((Q,se)=>this._inputHandler.parse(Q,se))),this.register((0,o.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,g.toDisposable)(()=>{var Q;null===(Q=this._windowsWrappingHeuristics)||void 0===Q||Q.dispose(),this._windowsWrappingHeuristics=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new o.EventEmitter),this._onScroll.event(ee=>{var Q;null===(Q=this._onScrollApi)||void 0===Q||Q.fire(ee.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(ee){for(const Q in ee)this.optionsService.options[Q]=ee[Q]}write(ee,Q){this._writeBuffer.write(ee,Q)}writeSync(ee,Q){this._logService.logLevel<=C.LogLevelEnum.WARN&&!f&&(this._logService.warn("writeSync is unreliable and will be removed soon."),f=!0),this._writeBuffer.writeSync(ee,Q)}resize(ee,Q){isNaN(ee)||isNaN(Q)||(ee=Math.max(ee,x.MINIMUM_COLS),Q=Math.max(Q,x.MINIMUM_ROWS),this._bufferService.resize(ee,Q))}scroll(ee,Q=!1){this._bufferService.scroll(ee,Q)}scrollLines(ee,Q,se){this._bufferService.scrollLines(ee,Q,se)}scrollPages(ee){this._bufferService.scrollPages(ee)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(ee){this._bufferService.scrollToLine(ee)}registerEscHandler(ee,Q){return this._inputHandler.registerEscHandler(ee,Q)}registerDcsHandler(ee,Q){return this._inputHandler.registerDcsHandler(ee,Q)}registerCsiHandler(ee,Q){return this._inputHandler.registerCsiHandler(ee,Q)}registerOscHandler(ee,Q){return this._inputHandler.registerOscHandler(ee,Q)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){var ee;let Q=!1;const se=this.optionsService.rawOptions.windowsPty;se&&void 0!==se.buildNumber&&void 0!==se.buildNumber?Q="conpty"===se.backend&&se.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(Q=!0),Q?this._enableWindowsWrappingHeuristics():(null===(ee=this._windowsWrappingHeuristics)||void 0===ee||ee.dispose(),this._windowsWrappingHeuristics=void 0)}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics){const ee=[];ee.push(this.onLineFeed(v.updateWindowsModeWrappedState.bind(null,this._bufferService))),ee.push(this.registerCsiHandler({final:"H"},()=>((0,v.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics=(0,g.toDisposable)(()=>{for(const Q of ee)Q.dispose()})}}}},8460:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=d=>(this._listeners.push(d),{dispose:()=>{if(!this._disposed)for(let g=0;g<this._listeners.length;g++)if(this._listeners[g]===d)return void this._listeners.splice(g,1)}})),this._event}fire(d,g){const C=[];for(let p=0;p<this._listeners.length;p++)C.push(this._listeners[p]);for(let p=0;p<C.length;p++)C[p].call(void 0,d,g)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},l.forwardEvent=function(d,g){return d(C=>g.fire(C))}},5435:function(E,l,d){var g=this&&this.__decorate||function(Be,U,te,ue){var _e,Ve=arguments.length,Ke=Ve<3?U:null===ue?ue=Object.getOwnPropertyDescriptor(U,te):ue;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(Be,U,te,ue);else for(var ve=Be.length-1;ve>=0;ve--)(_e=Be[ve])&&(Ke=(Ve<3?_e(Ke):Ve>3?_e(U,te,Ke):_e(U,te))||Ke);return Ve>3&&Ke&&Object.defineProperty(U,te,Ke),Ke},C=this&&this.__param||function(Be,U){return function(te,ue){U(te,ue,Be)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const p=d(2584),y=d(7116),x=d(2015),w=d(844),b=d(482),o=d(8437),u=d(8460),h=d(643),m=d(511),v=d(3734),k=d(2585),T=d(6242),O=d(6351),f=d(5941),S={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function ee(Be,U){if(Be>24)return U.setWinLines||!1;switch(Be){case 1:return!!U.restoreWin;case 2:return!!U.minimizeWin;case 3:return!!U.setWinPosition;case 4:return!!U.setWinSizePixels;case 5:return!!U.raiseWin;case 6:return!!U.lowerWin;case 7:return!!U.refreshWin;case 8:return!!U.setWinSizeChars;case 9:return!!U.maximizeWin;case 10:return!!U.fullscreenWin;case 11:return!!U.getWinState;case 13:return!!U.getWinPosition;case 14:return!!U.getWinSizePixels;case 15:return!!U.getScreenSizePixels;case 16:return!!U.getCellSizePixels;case 18:return!!U.getWinSizeChars;case 19:return!!U.getScreenSizeChars;case 20:return!!U.getIconTitle;case 21:return!!U.getWinTitle;case 22:return!!U.pushTitle;case 23:return!!U.popTitle;case 24:return!!U.setWinLines}return!1}var Q,Be;(Be=Q=l.WindowsOptionsReportType||(l.WindowsOptionsReportType={}))[Be.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",Be[Be.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let se=0;l.InputHandler=class Re extends w.Disposable{constructor(U,te,ue,_e,Ve,Ke,ve,le,de=new x.EscapeSequenceParser){super(),this._bufferService=U,this._charsetService=te,this._coreService=ue,this._logService=_e,this._optionsService=Ve,this._oscLinkService=Ke,this._coreMouseService=ve,this._unicodeService=le,this._parser=de,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new b.StringToUtf32,this._utf8Decoder=new b.Utf8ToUtf32,this._workCell=new m.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new u.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new u.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new u.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new u.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new u.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new u.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new u.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new u.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new u.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new u.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new u.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new ze(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(j=>this._activeBuffer=j.activeBuffer)),this._parser.setCsiHandlerFallback((j,Y)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(j),params:Y.toArray()})}),this._parser.setEscHandlerFallback(j=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(j)})}),this._parser.setExecuteHandlerFallback(j=>{this._logService.debug("Unknown EXECUTE code: ",{code:j})}),this._parser.setOscHandlerFallback((j,Y,B)=>{this._logService.debug("Unknown OSC code: ",{identifier:j,action:Y,data:B})}),this._parser.setDcsHandlerFallback((j,Y,B)=>{"HOOK"===Y&&(B=B.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(j),action:Y,payload:B})}),this._parser.setPrintHandler((j,Y,B)=>this.print(j,Y,B)),this._parser.registerCsiHandler({final:"@"},j=>this.insertChars(j)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},j=>this.scrollLeft(j)),this._parser.registerCsiHandler({final:"A"},j=>this.cursorUp(j)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},j=>this.scrollRight(j)),this._parser.registerCsiHandler({final:"B"},j=>this.cursorDown(j)),this._parser.registerCsiHandler({final:"C"},j=>this.cursorForward(j)),this._parser.registerCsiHandler({final:"D"},j=>this.cursorBackward(j)),this._parser.registerCsiHandler({final:"E"},j=>this.cursorNextLine(j)),this._parser.registerCsiHandler({final:"F"},j=>this.cursorPrecedingLine(j)),this._parser.registerCsiHandler({final:"G"},j=>this.cursorCharAbsolute(j)),this._parser.registerCsiHandler({final:"H"},j=>this.cursorPosition(j)),this._parser.registerCsiHandler({final:"I"},j=>this.cursorForwardTab(j)),this._parser.registerCsiHandler({final:"J"},j=>this.eraseInDisplay(j,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},j=>this.eraseInDisplay(j,!0)),this._parser.registerCsiHandler({final:"K"},j=>this.eraseInLine(j,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},j=>this.eraseInLine(j,!0)),this._parser.registerCsiHandler({final:"L"},j=>this.insertLines(j)),this._parser.registerCsiHandler({final:"M"},j=>this.deleteLines(j)),this._parser.registerCsiHandler({final:"P"},j=>this.deleteChars(j)),this._parser.registerCsiHandler({final:"S"},j=>this.scrollUp(j)),this._parser.registerCsiHandler({final:"T"},j=>this.scrollDown(j)),this._parser.registerCsiHandler({final:"X"},j=>this.eraseChars(j)),this._parser.registerCsiHandler({final:"Z"},j=>this.cursorBackwardTab(j)),this._parser.registerCsiHandler({final:"`"},j=>this.charPosAbsolute(j)),this._parser.registerCsiHandler({final:"a"},j=>this.hPositionRelative(j)),this._parser.registerCsiHandler({final:"b"},j=>this.repeatPrecedingCharacter(j)),this._parser.registerCsiHandler({final:"c"},j=>this.sendDeviceAttributesPrimary(j)),this._parser.registerCsiHandler({prefix:">",final:"c"},j=>this.sendDeviceAttributesSecondary(j)),this._parser.registerCsiHandler({final:"d"},j=>this.linePosAbsolute(j)),this._parser.registerCsiHandler({final:"e"},j=>this.vPositionRelative(j)),this._parser.registerCsiHandler({final:"f"},j=>this.hVPosition(j)),this._parser.registerCsiHandler({final:"g"},j=>this.tabClear(j)),this._parser.registerCsiHandler({final:"h"},j=>this.setMode(j)),this._parser.registerCsiHandler({prefix:"?",final:"h"},j=>this.setModePrivate(j)),this._parser.registerCsiHandler({final:"l"},j=>this.resetMode(j)),this._parser.registerCsiHandler({prefix:"?",final:"l"},j=>this.resetModePrivate(j)),this._parser.registerCsiHandler({final:"m"},j=>this.charAttributes(j)),this._parser.registerCsiHandler({final:"n"},j=>this.deviceStatus(j)),this._parser.registerCsiHandler({prefix:"?",final:"n"},j=>this.deviceStatusPrivate(j)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},j=>this.softReset(j)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},j=>this.setCursorStyle(j)),this._parser.registerCsiHandler({final:"r"},j=>this.setScrollRegion(j)),this._parser.registerCsiHandler({final:"s"},j=>this.saveCursor(j)),this._parser.registerCsiHandler({final:"t"},j=>this.windowOptions(j)),this._parser.registerCsiHandler({final:"u"},j=>this.restoreCursor(j)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},j=>this.insertColumns(j)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},j=>this.deleteColumns(j)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},j=>this.selectProtected(j)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},j=>this.requestMode(j,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},j=>this.requestMode(j,!1)),this._parser.setExecuteHandler(p.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(p.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(p.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(p.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(p.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(p.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(p.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(p.C1.IND,()=>this.index()),this._parser.setExecuteHandler(p.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(p.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new T.OscHandler(j=>(this.setTitle(j),this.setIconName(j),!0))),this._parser.registerOscHandler(1,new T.OscHandler(j=>this.setIconName(j))),this._parser.registerOscHandler(2,new T.OscHandler(j=>this.setTitle(j))),this._parser.registerOscHandler(4,new T.OscHandler(j=>this.setOrReportIndexedColor(j))),this._parser.registerOscHandler(8,new T.OscHandler(j=>this.setHyperlink(j))),this._parser.registerOscHandler(10,new T.OscHandler(j=>this.setOrReportFgColor(j))),this._parser.registerOscHandler(11,new T.OscHandler(j=>this.setOrReportBgColor(j))),this._parser.registerOscHandler(12,new T.OscHandler(j=>this.setOrReportCursorColor(j))),this._parser.registerOscHandler(104,new T.OscHandler(j=>this.restoreIndexedColor(j))),this._parser.registerOscHandler(110,new T.OscHandler(j=>this.restoreFgColor(j))),this._parser.registerOscHandler(111,new T.OscHandler(j=>this.restoreBgColor(j))),this._parser.registerOscHandler(112,new T.OscHandler(j=>this.restoreCursorColor(j))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const j in y.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:j},()=>this.selectCharset("("+j)),this._parser.registerEscHandler({intermediates:")",final:j},()=>this.selectCharset(")"+j)),this._parser.registerEscHandler({intermediates:"*",final:j},()=>this.selectCharset("*"+j)),this._parser.registerEscHandler({intermediates:"+",final:j},()=>this.selectCharset("+"+j)),this._parser.registerEscHandler({intermediates:"-",final:j},()=>this.selectCharset("-"+j)),this._parser.registerEscHandler({intermediates:".",final:j},()=>this.selectCharset("."+j)),this._parser.registerEscHandler({intermediates:"/",final:j},()=>this.selectCharset("/"+j));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(j=>(this._logService.error("Parsing error: ",j),j)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new O.DcsHandler((j,Y)=>this.requestStatusString(j,Y)))}getAttrData(){return this._curAttrData}_preserveStack(U,te,ue,_e){this._parseStack.paused=!0,this._parseStack.cursorStartX=U,this._parseStack.cursorStartY=te,this._parseStack.decodedLength=ue,this._parseStack.position=_e}_logSlowResolvingAsync(U){this._logService.logLevel<=k.LogLevelEnum.WARN&&Promise.race([U,new Promise((te,ue)=>setTimeout(()=>ue("#SLOW_TIMEOUT"),5e3))]).catch(te=>{if("#SLOW_TIMEOUT"!==te)throw te;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(U,te){let ue,_e=this._activeBuffer.x,Ve=this._activeBuffer.y,Ke=0;const ve=this._parseStack.paused;if(ve){if(ue=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,te))return this._logSlowResolvingAsync(ue),ue;_e=this._parseStack.cursorStartX,Ve=this._parseStack.cursorStartY,this._parseStack.paused=!1,U.length>N&&(Ke=this._parseStack.position+N)}if(this._logService.logLevel<=k.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof U?` "${U}"`:` "${Array.prototype.map.call(U,le=>String.fromCharCode(le)).join("")}"`),"string"==typeof U?U.split("").map(le=>le.charCodeAt(0)):U),this._parseBuffer.length<U.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(U.length,N))),ve||this._dirtyRowTracker.clearRange(),U.length>N)for(let le=Ke;le<U.length;le+=N){const de=le+N<U.length?le+N:U.length,j="string"==typeof U?this._stringDecoder.decode(U.substring(le,de),this._parseBuffer):this._utf8Decoder.decode(U.subarray(le,de),this._parseBuffer);if(ue=this._parser.parse(this._parseBuffer,j))return this._preserveStack(_e,Ve,j,le),this._logSlowResolvingAsync(ue),ue}else if(!ve){const le="string"==typeof U?this._stringDecoder.decode(U,this._parseBuffer):this._utf8Decoder.decode(U,this._parseBuffer);if(ue=this._parser.parse(this._parseBuffer,le))return this._preserveStack(_e,Ve,le,0),this._logSlowResolvingAsync(ue),ue}this._activeBuffer.x===_e&&this._activeBuffer.y===Ve||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(U,te,ue){let _e,Ve;const Ke=this._charsetService.charset,ve=this._optionsService.rawOptions.screenReaderMode,le=this._bufferService.cols,de=this._coreService.decPrivateModes.wraparound,j=this._coreService.modes.insertMode,Y=this._curAttrData;let B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&ue-te>0&&2===B.getWidth(this._activeBuffer.x-1)&&B.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Y.fg,Y.bg,Y.extended);for(let me=te;me<ue;++me){if(_e=U[me],Ve=this._unicodeService.wcwidth(_e),_e<127&&Ke){const Fe=Ke[String.fromCharCode(_e)];Fe&&(_e=Fe.charCodeAt(0))}if(ve&&this._onA11yChar.fire((0,b.stringFromCodePoint)(_e)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),Ve||!this._activeBuffer.x){if(this._activeBuffer.x+Ve-1>=le)if(de){for(;this._activeBuffer.x<le;)B.setCellFromCodePoint(this._activeBuffer.x++,0,1,Y.fg,Y.bg,Y.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),B=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=le-1,2===Ve)continue;if(j&&(B.insertCells(this._activeBuffer.x,Ve,this._activeBuffer.getNullCell(Y),Y),2===B.getWidth(le-1)&&B.setCellFromCodePoint(le-1,h.NULL_CELL_CODE,h.NULL_CELL_WIDTH,Y.fg,Y.bg,Y.extended)),B.setCellFromCodePoint(this._activeBuffer.x++,_e,Ve,Y.fg,Y.bg,Y.extended),Ve>0)for(;--Ve;)B.setCellFromCodePoint(this._activeBuffer.x++,0,0,Y.fg,Y.bg,Y.extended)}else B.getWidth(this._activeBuffer.x-1)?B.addCodepointToCell(this._activeBuffer.x-1,_e):B.addCodepointToCell(this._activeBuffer.x-2,_e)}ue-te>0&&(B.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<le&&ue-te>0&&0===B.getWidth(this._activeBuffer.x)&&!B.hasContent(this._activeBuffer.x)&&B.setCellFromCodePoint(this._activeBuffer.x,0,1,Y.fg,Y.bg,Y.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(U,te){return this._parser.registerCsiHandler(U,"t"!==U.final||U.prefix||U.intermediates?te:ue=>!ee(ue.params[0],this._optionsService.rawOptions.windowOptions)||te(ue))}registerDcsHandler(U,te){return this._parser.registerDcsHandler(U,new O.DcsHandler(te))}registerEscHandler(U,te){return this._parser.registerEscHandler(U,te)}registerOscHandler(U,te){return this._parser.registerOscHandler(U,new T.OscHandler(te))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var U;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&null!==(U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))&&void 0!==U&&U.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);te.hasWidth(this._activeBuffer.x)&&!te.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const U=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-U),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(U=this._bufferService.cols-1){this._activeBuffer.x=Math.min(U,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(U,te){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=U,this._activeBuffer.y=this._activeBuffer.scrollTop+te):(this._activeBuffer.x=U,this._activeBuffer.y=te),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(U,te){this._restrictCursor(),this._setCursor(this._activeBuffer.x+U,this._activeBuffer.y+te)}cursorUp(U){const te=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,te>=0?-Math.min(te,U.params[0]||1):-(U.params[0]||1)),!0}cursorDown(U){const te=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,te>=0?Math.min(te,U.params[0]||1):U.params[0]||1),!0}cursorForward(U){return this._moveCursor(U.params[0]||1,0),!0}cursorBackward(U){return this._moveCursor(-(U.params[0]||1),0),!0}cursorNextLine(U){return this.cursorDown(U),this._activeBuffer.x=0,!0}cursorPrecedingLine(U){return this.cursorUp(U),this._activeBuffer.x=0,!0}cursorCharAbsolute(U){return this._setCursor((U.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(U){return this._setCursor(U.length>=2?(U.params[1]||1)-1:0,(U.params[0]||1)-1),!0}charPosAbsolute(U){return this._setCursor((U.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(U){return this._moveCursor(U.params[0]||1,0),!0}linePosAbsolute(U){return this._setCursor(this._activeBuffer.x,(U.params[0]||1)-1),!0}vPositionRelative(U){return this._moveCursor(0,U.params[0]||1),!0}hVPosition(U){return this.cursorPosition(U),!0}tabClear(U){const te=U.params[0];return 0===te?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===te&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(U){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let te=U.params[0]||1;for(;te--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(U){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let te=U.params[0]||1;for(;te--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(U){const te=U.params[0];return 1===te&&(this._curAttrData.bg|=536870912),2!==te&&0!==te||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(U,te,ue,_e=!1,Ve=!1){const Ke=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);Ke.replaceCells(te,ue,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),Ve),_e&&(Ke.isWrapped=!1)}_resetBufferLine(U,te=!1){const ue=this._activeBuffer.lines.get(this._activeBuffer.ybase+U);ue&&(ue.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),te),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+U),ue.isWrapped=!1)}eraseInDisplay(U,te=!1){let ue;switch(this._restrictCursor(this._bufferService.cols),U.params[0]){case 0:for(ue=this._activeBuffer.y,this._dirtyRowTracker.markDirty(ue),this._eraseInBufferLine(ue++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,te);ue<this._bufferService.rows;ue++)this._resetBufferLine(ue,te);this._dirtyRowTracker.markDirty(ue);break;case 1:for(ue=this._activeBuffer.y,this._dirtyRowTracker.markDirty(ue),this._eraseInBufferLine(ue,0,this._activeBuffer.x+1,!0,te),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(ue+1).isWrapped=!1);ue--;)this._resetBufferLine(ue,te);this._dirtyRowTracker.markDirty(0);break;case 2:for(ue=this._bufferService.rows,this._dirtyRowTracker.markDirty(ue-1);ue--;)this._resetBufferLine(ue,te);this._dirtyRowTracker.markDirty(0);break;case 3:const _e=this._activeBuffer.lines.length-this._bufferService.rows;_e>0&&(this._activeBuffer.lines.trimStart(_e),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-_e,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-_e,0),this._onScroll.fire(0))}return!0}eraseInLine(U,te=!1){switch(this._restrictCursor(this._bufferService.cols),U.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,te);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,te);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,te)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(U){this._restrictCursor();let te=U.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ue=this._activeBuffer.ybase+this._activeBuffer.y,Ve=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;te--;)this._activeBuffer.lines.splice(Ve-1,1),this._activeBuffer.lines.splice(ue,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(U){this._restrictCursor();let te=U.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const ue=this._activeBuffer.ybase+this._activeBuffer.y;let _e;for(_e=this._bufferService.rows-1-this._activeBuffer.scrollBottom,_e=this._bufferService.rows-1+this._activeBuffer.ybase-_e;te--;)this._activeBuffer.lines.splice(ue,1),this._activeBuffer.lines.splice(_e,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(U){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.insertCells(this._activeBuffer.x,U.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(U){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.deleteCells(this._activeBuffer.x,U.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(U){let te=U.params[0]||1;for(;te--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(U){let te=U.params[0]||1;for(;te--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(o.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(U){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=U.params[0]||1;for(let ue=this._activeBuffer.scrollTop;ue<=this._activeBuffer.scrollBottom;++ue){const _e=this._activeBuffer.lines.get(this._activeBuffer.ybase+ue);_e.deleteCells(0,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),_e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(U){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=U.params[0]||1;for(let ue=this._activeBuffer.scrollTop;ue<=this._activeBuffer.scrollBottom;++ue){const _e=this._activeBuffer.lines.get(this._activeBuffer.ybase+ue);_e.insertCells(0,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),_e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(U){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=U.params[0]||1;for(let ue=this._activeBuffer.scrollTop;ue<=this._activeBuffer.scrollBottom;++ue){const _e=this._activeBuffer.lines.get(this._activeBuffer.ybase+ue);_e.insertCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),_e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(U){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const te=U.params[0]||1;for(let ue=this._activeBuffer.scrollTop;ue<=this._activeBuffer.scrollBottom;++ue){const _e=this._activeBuffer.lines.get(this._activeBuffer.ybase+ue);_e.deleteCells(this._activeBuffer.x,te,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),_e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(U){this._restrictCursor();const te=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return te&&(te.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(U.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(U){if(!this._parser.precedingCodepoint)return!0;const te=U.params[0]||1,ue=new Uint32Array(te);for(let _e=0;_e<te;++_e)ue[_e]=this._parser.precedingCodepoint;return this.print(ue,0,ue.length),!0}sendDeviceAttributesPrimary(U){return U.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(p.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(p.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(U){return U.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(p.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(p.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(U.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(p.C0.ESC+"[>83;40003;0c")),!0}_is(U){return 0===(this._optionsService.rawOptions.termName+"").indexOf(U)}setMode(U){for(let te=0;te<U.length;te++)switch(U.params[te]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(U){for(let te=0;te<U.length;te++)switch(U.params[te]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),this._charsetService.setgCharset(1,y.DEFAULT_CHARSET),this._charsetService.setgCharset(2,y.DEFAULT_CHARSET),this._charsetService.setgCharset(3,y.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(U){for(let te=0;te<U.length;te++)switch(U.params[te]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(U){for(let te=0;te<U.length;te++)switch(U.params[te]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===U.params[te]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(U,te){const ue=this._coreService.decPrivateModes,{activeProtocol:_e,activeEncoding:Ve}=this._coreMouseService,Ke=this._coreService,{buffers:ve,cols:le}=this._bufferService,{active:de,alt:j}=ve,Y=this._optionsService.rawOptions,B=q=>q?1:2,me=U.params[0];return Fe=me,ge=te?2===me?4:4===me?B(Ke.modes.insertMode):12===me?3:20===me?B(Y.convertEol):0:1===me?B(ue.applicationCursorKeys):3===me?Y.windowOptions.setWinLines?80===le?2:132===le?1:0:0:6===me?B(ue.origin):7===me?B(ue.wraparound):8===me?3:9===me?B("X10"===_e):12===me?B(Y.cursorBlink):25===me?B(!Ke.isCursorHidden):45===me?B(ue.reverseWraparound):66===me?B(ue.applicationKeypad):67===me?4:1e3===me?B("VT200"===_e):1002===me?B("DRAG"===_e):1003===me?B("ANY"===_e):1004===me?B(ue.sendFocus):1005===me?4:1006===me?B("SGR"===Ve):1015===me?4:1016===me?B("SGR_PIXELS"===Ve):1048===me?1:47===me||1047===me||1049===me?B(de===j):2004===me?B(ue.bracketedPasteMode):0,Ke.triggerDataEvent(`${p.C0.ESC}[${te?"":"?"}${Fe};${ge}$y`),!0;var Fe,ge}_updateAttrColor(U,te,ue,_e,Ve){return 2===te?(U|=50331648,U&=-16777216,U|=v.AttributeData.fromColorRGB([ue,_e,Ve])):5===te&&(U&=-50331904,U|=33554432|255&ue),U}_extractColor(U,te,ue){const _e=[0,0,-1,0,0,0];let Ve=0,Ke=0;do{if(_e[Ke+Ve]=U.params[te+Ke],U.hasSubParams(te+Ke)){const ve=U.getSubParams(te+Ke);let le=0;do{5===_e[1]&&(Ve=1),_e[Ke+le+1+Ve]=ve[le]}while(++le<ve.length&&le+Ke+1+Ve<_e.length);break}if(5===_e[1]&&Ke+Ve>=2||2===_e[1]&&Ke+Ve>=5)break;_e[1]&&(Ve=1)}while(++Ke+te<U.length&&Ke+Ve<_e.length);for(let ve=2;ve<_e.length;++ve)-1===_e[ve]&&(_e[ve]=0);switch(_e[0]){case 38:ue.fg=this._updateAttrColor(ue.fg,_e[1],_e[3],_e[4],_e[5]);break;case 48:ue.bg=this._updateAttrColor(ue.bg,_e[1],_e[3],_e[4],_e[5]);break;case 58:ue.extended=ue.extended.clone(),ue.extended.underlineColor=this._updateAttrColor(ue.extended.underlineColor,_e[1],_e[3],_e[4],_e[5])}return Ke}_processUnderline(U,te){te.extended=te.extended.clone(),(!~U||U>5)&&(U=1),te.extended.underlineStyle=U,te.fg|=268435456,0===U&&(te.fg&=-268435457),te.updateExtended()}_processSGR0(U){U.fg=o.DEFAULT_ATTR_DATA.fg,U.bg=o.DEFAULT_ATTR_DATA.bg,U.extended=U.extended.clone(),U.extended.underlineStyle=0,U.extended.underlineColor&=-67108864,U.updateExtended()}charAttributes(U){if(1===U.length&&0===U.params[0])return this._processSGR0(this._curAttrData),!0;const te=U.length;let ue;const _e=this._curAttrData;for(let Ve=0;Ve<te;Ve++)ue=U.params[Ve],ue>=30&&ue<=37?(_e.fg&=-50331904,_e.fg|=16777216|ue-30):ue>=40&&ue<=47?(_e.bg&=-50331904,_e.bg|=16777216|ue-40):ue>=90&&ue<=97?(_e.fg&=-50331904,_e.fg|=16777224|ue-90):ue>=100&&ue<=107?(_e.bg&=-50331904,_e.bg|=16777224|ue-100):0===ue?this._processSGR0(_e):1===ue?_e.fg|=134217728:3===ue?_e.bg|=67108864:4===ue?(_e.fg|=268435456,this._processUnderline(U.hasSubParams(Ve)?U.getSubParams(Ve)[0]:1,_e)):5===ue?_e.fg|=536870912:7===ue?_e.fg|=67108864:8===ue?_e.fg|=1073741824:9===ue?_e.fg|=2147483648:2===ue?_e.bg|=134217728:21===ue?this._processUnderline(2,_e):22===ue?(_e.fg&=-134217729,_e.bg&=-134217729):23===ue?_e.bg&=-67108865:24===ue?(_e.fg&=-268435457,this._processUnderline(0,_e)):25===ue?_e.fg&=-536870913:27===ue?_e.fg&=-67108865:28===ue?_e.fg&=-1073741825:29===ue?_e.fg&=2147483647:39===ue?(_e.fg&=-67108864,_e.fg|=16777215&o.DEFAULT_ATTR_DATA.fg):49===ue?(_e.bg&=-67108864,_e.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):38===ue||48===ue||58===ue?Ve+=this._extractColor(U,Ve,_e):53===ue?_e.bg|=1073741824:55===ue?_e.bg&=-1073741825:59===ue?(_e.extended=_e.extended.clone(),_e.extended.underlineColor=-1,_e.updateExtended()):100===ue?(_e.fg&=-67108864,_e.fg|=16777215&o.DEFAULT_ATTR_DATA.fg,_e.bg&=-67108864,_e.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",ue);return!0}deviceStatus(U){switch(U.params[0]){case 5:this._coreService.triggerDataEvent(`${p.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${p.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(U){return 6===U.params[0]&&this._coreService.triggerDataEvent(`${p.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(U){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(U){const te=U.params[0]||1;switch(te){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=te%2==1,!0}setScrollRegion(U){const te=U.params[0]||1;let ue;return(U.length<2||(ue=U.params[1])>this._bufferService.rows||0===ue)&&(ue=this._bufferService.rows),ue>te&&(this._activeBuffer.scrollTop=te-1,this._activeBuffer.scrollBottom=ue-1,this._setCursor(0,0)),!0}windowOptions(U){if(!ee(U.params[0],this._optionsService.rawOptions.windowOptions))return!0;const te=U.length>1?U.params[1]:0;switch(U.params[0]){case 14:2!==te&&this._onRequestWindowsOptionsReport.fire(Q.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(Q.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${p.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==te&&2!==te||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==te&&1!==te||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==te&&2!==te||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==te&&1!==te||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(U){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(U){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(U){return this._windowTitle=U,this._onTitleChange.fire(U),!0}setIconName(U){return this._iconName=U,!0}setOrReportIndexedColor(U){const te=[],ue=U.split(";");for(;ue.length>1;){const _e=ue.shift(),Ve=ue.shift();if(/^\d+$/.exec(_e)){const Ke=parseInt(_e);if(0<=Ke&&Ke<256)if("?"===Ve)te.push({type:0,index:Ke});else{const ve=(0,f.parseColor)(Ve);ve&&te.push({type:1,index:Ke,color:ve})}}}return te.length&&this._onColor.fire(te),!0}setHyperlink(U){const te=U.split(";");return!(te.length<2)&&(te[1]?this._createHyperlink(te[0],te[1]):!te[0]&&this._finishHyperlink())}_createHyperlink(U,te){this._getCurrentLinkId()&&this._finishHyperlink();const ue=U.split(":");let _e;const Ve=ue.findIndex(Ke=>Ke.startsWith("id="));return-1!==Ve&&(_e=ue[Ve].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:_e,uri:te}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(U,te){const ue=U.split(";");for(let _e=0;_e<ue.length&&!(te>=this._specialColors.length);++_e,++te)if("?"===ue[_e])this._onColor.fire([{type:0,index:this._specialColors[te]}]);else{const Ve=(0,f.parseColor)(ue[_e]);Ve&&this._onColor.fire([{type:1,index:this._specialColors[te],color:Ve}])}return!0}setOrReportFgColor(U){return this._setOrReportSpecialColor(U,0)}setOrReportBgColor(U){return this._setOrReportSpecialColor(U,1)}setOrReportCursorColor(U){return this._setOrReportSpecialColor(U,2)}restoreIndexedColor(U){if(!U)return this._onColor.fire([{type:2}]),!0;const te=[],ue=U.split(";");for(let _e=0;_e<ue.length;++_e)if(/^\d+$/.exec(ue[_e])){const Ve=parseInt(ue[_e]);0<=Ve&&Ve<256&&te.push({type:2,index:Ve})}return te.length&&this._onColor.fire(te),!0}restoreFgColor(U){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(U){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(U){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,y.DEFAULT_CHARSET),!0}selectCharset(U){return 2!==U.length?(this.selectDefaultCharset(),!0):("/"===U[0]||this._charsetService.setgCharset(S[U[0]],y.CHARSETS[U[1]]||y.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(U){return this._charsetService.setgLevel(U),!0}screenAlignmentPattern(){const U=new m.CellData;U.content=4194304|"E".charCodeAt(0),U.fg=this._curAttrData.fg,U.bg=this._curAttrData.bg,this._setCursor(0,0);for(let te=0;te<this._bufferService.rows;++te){const _e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+te);_e&&(_e.fill(U),_e.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(U,te){const ue=this._bufferService.buffer,_e=this._optionsService.rawOptions;return(Ve=>(this._coreService.triggerDataEvent(`${p.C0.ESC}${Ve}${p.C0.ESC}\\`),!0))('"q'===U?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===U?'P1$r61;1"p':"r"===U?`P1$r${ue.scrollTop+1};${ue.scrollBottom+1}r`:"m"===U?"P1$r0m":" q"===U?`P1$r${{block:2,underline:4,bar:6}[_e.cursorStyle]-(_e.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(U,te){this._dirtyRowTracker.markRangeDirty(U,te)}};let ze=class{constructor(Be){this._bufferService=Be,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(Be){Be<this.start?this.start=Be:Be>this.end&&(this.end=Be)}markRangeDirty(Be,U){Be>U&&(se=Be,Be=U,U=se),Be<this.start&&(this.start=Be),U>this.end&&(this.end=U)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};ze=g([C(0,k.IBufferService)],ze)},844:(E,l)=>{function d(g){for(const C of g)C.dispose();g.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const g of this._disposables)g.dispose();this._disposables.length=0}register(g){return this._disposables.push(g),g}unregister(g){const C=this._disposables.indexOf(g);-1!==C&&this._disposables.splice(C,1)}},l.toDisposable=function(g){return{dispose:g}},l.disposeArray=d,l.getDisposeArrayDisposable=function(g){return{dispose:()=>d(g)}}},1505:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class d{constructor(){this._data={}}set(C,p,y){this._data[C]||(this._data[C]={}),this._data[C][p]=y}get(C,p){return this._data[C]?this._data[C][p]:void 0}clear(){this._data={}}}l.TwoKeyMap=d,l.FourKeyMap=class{constructor(){this._data=new d}set(g,C,p,y,x){this._data.get(g,C)||this._data.set(g,C,new d),this._data.get(g,C).set(p,y,x)}get(g,C,p,y){var x;return null===(x=this._data.get(g,C))||void 0===x?void 0:x.get(p,y)}clear(){this._data.clear()}}},6114:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof navigator>"u";const d=l.isNode?"node":navigator.userAgent,g=l.isNode?"node":navigator.platform;l.isFirefox=d.includes("Firefox"),l.isLegacyEdge=d.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(d),l.getSafariVersion=function(){if(!l.isSafari)return 0;const C=d.match(/Version\/(\d+)/);return null===C||C.length<2?0:parseInt(C[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(g),l.isIpad="iPad"===g,l.isIphone="iPhone"===g,l.isWindows=["Windows","Win16","Win32","WinCE"].includes(g),l.isLinux=g.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(d)},6106:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let d=0;l.SortedList=class{constructor(g){this._getKey=g,this._array=[]}clear(){this._array.length=0}insert(g){0!==this._array.length?(d=this._search(this._getKey(g),0,this._array.length-1),this._array.splice(d,0,g)):this._array.push(g)}delete(g){if(0===this._array.length)return!1;const C=this._getKey(g);if(void 0===C||(d=this._search(C,0,this._array.length-1),-1===d)||this._getKey(this._array[d])!==C)return!1;do{if(this._array[d]===g)return this._array.splice(d,1),!0}while(++d<this._array.length&&this._getKey(this._array[d])===C);return!1}*getKeyIterator(g){if(0!==this._array.length&&(d=this._search(g,0,this._array.length-1),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===g))do{yield this._array[d]}while(++d<this._array.length&&this._getKey(this._array[d])===g)}forEachByKey(g,C){if(0!==this._array.length&&(d=this._search(g,0,this._array.length-1),!(d<0||d>=this._array.length)&&this._getKey(this._array[d])===g))do{C(this._array[d])}while(++d<this._array.length&&this._getKey(this._array[d])===g)}values(){return this._array.values()}_search(g,C,p){if(p<C)return C;let y=Math.floor((C+p)/2);const x=this._getKey(this._array[y]);if(x>g)return this._search(g,C,y-1);if(x<g)return this._search(g,y+1,p);for(;y>0&&this._getKey(this._array[y-1])===g;)y--;return y}}},7226:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const g=d(6114);class C{constructor(){this._tasks=[],this._i=0}enqueue(x){this._tasks.push(x),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(x){this._idleCallback=void 0;let w=0,b=0,o=x.timeRemaining(),u=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),b=Math.max(w,b),u=x.timeRemaining(),1.5*b>u)return o-w<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(o-w))}ms`),void this._start();o=u}this.clear()}}class p extends C{_requestCallback(x){return setTimeout(()=>x(this._createDeadline(16)))}_cancelCallback(x){clearTimeout(x)}_createDeadline(x){const w=Date.now()+x;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}l.PriorityTaskQueue=p,l.IdleTaskQueue=!g.isNode&&"requestIdleCallback"in window?class extends C{_requestCallback(y){return requestIdleCallback(y)}_cancelCallback(y){cancelIdleCallback(y)}}:p,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(y){this._queue.clear(),this._queue.enqueue(y)}flush(){this._queue.flush()}}},9282:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const g=d(643);l.updateWindowsModeWrappedState=function(C){const p=C.buffer.lines.get(C.buffer.ybase+C.buffer.y-1),y=p?.get(C.cols-1),x=C.buffer.lines.get(C.buffer.ybase+C.buffer.y);x&&y&&(x.isWrapped=y[g.CHAR_DATA_CODE_INDEX]!==g.NULL_CELL_CODE&&y[g.CHAR_DATA_CODE_INDEX]!==g.WHITESPACE_CELL_CODE)}},3734:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class d{constructor(){this.fg=0,this.bg=0,this.extended=new g}static toColorRGB(p){return[p>>>16&255,p>>>8&255,255&p]}static fromColorRGB(p){return(255&p[0])<<16|(255&p[1])<<8|255&p[2]}clone(){const p=new d;return p.fg=this.fg,p.bg=this.bg,p.extended=this.extended.clone(),p}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}l.AttributeData=d;class g{constructor(p=0,y=0){this._ext=0,this._urlId=0,this._ext=p,this._urlId=y}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(p){this._ext=p}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(p){this._ext&=-469762049,this._ext|=p<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(p){this._ext&=-67108864,this._ext|=67108863&p}get urlId(){return this._urlId}set urlId(p){this._urlId=p}clone(){return new g(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}l.ExtendedAttrs=g},9092:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const g=d(6349),C=d(8437),p=d(511),y=d(643),x=d(4634),w=d(4863),b=d(7116),o=d(3734),u=d(7226);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(h,m,v){this._hasScrollback=h,this._optionsService=m,this._bufferService=v,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=C.DEFAULT_ATTR_DATA.clone(),this.savedCharset=b.DEFAULT_CHARSET,this.markers=[],this._nullCell=p.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),this._whitespaceCell=p.CellData.fromCharData([0,y.WHITESPACE_CELL_CHAR,y.WHITESPACE_CELL_WIDTH,y.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new u.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new g.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(h){return h?(this._nullCell.fg=h.fg,this._nullCell.bg=h.bg,this._nullCell.extended=h.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new o.ExtendedAttrs),this._nullCell}getWhitespaceCell(h){return h?(this._whitespaceCell.fg=h.fg,this._whitespaceCell.bg=h.bg,this._whitespaceCell.extended=h.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new o.ExtendedAttrs),this._whitespaceCell}getBlankLine(h,m){return new C.BufferLine(this._bufferService.cols,this.getNullCell(h),m)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const h=this.ybase+this.y-this.ydisp;return h>=0&&h<this._rows}_getCorrectBufferLength(h){if(!this._hasScrollback)return h;const m=h+this._optionsService.rawOptions.scrollback;return m>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:m}fillViewportRows(h){if(0===this.lines.length){void 0===h&&(h=C.DEFAULT_ATTR_DATA);let m=this._rows;for(;m--;)this.lines.push(this.getBlankLine(h))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new g.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(h,m){const v=this.getNullCell(C.DEFAULT_ATTR_DATA);let k=0;const T=this._getCorrectBufferLength(m);if(T>this.lines.maxLength&&(this.lines.maxLength=T),this.lines.length>0){if(this._cols<h)for(let f=0;f<this.lines.length;f++)k+=+this.lines.get(f).resize(h,v);let O=0;if(this._rows<m)for(let f=this._rows;f<m;f++)this.lines.length<m+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new C.BufferLine(h,v)):this.ybase>0&&this.lines.length<=this.ybase+this.y+O+1?(this.ybase--,O++,this.ydisp>0&&this.ydisp--):this.lines.push(new C.BufferLine(h,v)));else for(let f=this._rows;f>m;f--)this.lines.length>m+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(T<this.lines.maxLength){const f=this.lines.length-T;f>0&&(this.lines.trimStart(f),this.ybase=Math.max(this.ybase-f,0),this.ydisp=Math.max(this.ydisp-f,0),this.savedY=Math.max(this.savedY-f,0)),this.lines.maxLength=T}this.x=Math.min(this.x,h-1),this.y=Math.min(this.y,m-1),O&&(this.y+=O),this.savedX=Math.min(this.savedX,h-1),this.scrollTop=0}if(this.scrollBottom=m-1,this._isReflowEnabled&&(this._reflow(h,m),this._cols>h))for(let O=0;O<this.lines.length;O++)k+=+this.lines.get(O).resize(h,v);this._cols=h,this._rows=m,this._memoryCleanupQueue.clear(),k>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let h=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,h=!1);let m=0;for(;this._memoryCleanupPosition<this.lines.length;)if(m+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),m>100)return!0;return h}get _isReflowEnabled(){const h=this._optionsService.rawOptions.windowsPty;return h&&h.buildNumber?this._hasScrollback&&"conpty"===h.backend&&h.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(h,m){this._cols!==h&&(h>this._cols?this._reflowLarger(h,m):this._reflowSmaller(h,m))}_reflowLarger(h,m){const v=(0,x.reflowLargerGetLinesToRemove)(this.lines,this._cols,h,this.ybase+this.y,this.getNullCell(C.DEFAULT_ATTR_DATA));if(v.length>0){const k=(0,x.reflowLargerCreateNewLayout)(this.lines,v);(0,x.reflowLargerApplyNewLayout)(this.lines,k.layout),this._reflowLargerAdjustViewport(h,m,k.countRemoved)}}_reflowLargerAdjustViewport(h,m,v){const k=this.getNullCell(C.DEFAULT_ATTR_DATA);let T=v;for(;T-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<m&&this.lines.push(new C.BufferLine(h,k))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-v,0)}_reflowSmaller(h,m){const v=this.getNullCell(C.DEFAULT_ATTR_DATA),k=[];let T=0;for(let O=this.lines.length-1;O>=0;O--){let f=this.lines.get(O);if(!f||!f.isWrapped&&f.getTrimmedLength()<=h)continue;const S=[f];for(;f.isWrapped&&O>0;)f=this.lines.get(--O),S.unshift(f);const N=this.ybase+this.y;if(N>=O&&N<O+S.length)continue;const ee=S[S.length-1].getTrimmedLength(),Q=(0,x.reflowSmallerGetNewLineLengths)(S,this._cols,h),se=Q.length-S.length;let Re;Re=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+se):Math.max(0,this.lines.length-this.lines.maxLength+se);const ze=[];for(let Ve=0;Ve<se;Ve++){const Ke=this.getBlankLine(C.DEFAULT_ATTR_DATA,!0);ze.push(Ke)}ze.length>0&&(k.push({start:O+S.length+T,newLines:ze}),T+=ze.length),S.push(...ze);let Be=Q.length-1,U=Q[Be];0===U&&(Be--,U=Q[Be]);let te=S.length-se-1,ue=ee;for(;te>=0;){const Ve=Math.min(ue,U);if(void 0===S[Be])break;if(S[Be].copyCellsFrom(S[te],ue-Ve,U-Ve,Ve,!0),U-=Ve,0===U&&(Be--,U=Q[Be]),ue-=Ve,0===ue){te--;const Ke=Math.max(te,0);ue=(0,x.getWrappedLineTrimmedLength)(S,Ke,this._cols)}}for(let Ve=0;Ve<S.length;Ve++)Q[Ve]<h&&S[Ve].setCell(Q[Ve],v);let _e=se-Re;for(;_e-- >0;)0===this.ybase?this.y<m-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+T)-m&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+se,this.ybase+m-1)}if(k.length>0){const O=[],f=[];for(let Be=0;Be<this.lines.length;Be++)f.push(this.lines.get(Be));const S=this.lines.length;let N=S-1,ee=0,Q=k[ee];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+T);let se=0;for(let Be=Math.min(this.lines.maxLength-1,S+T-1);Be>=0;Be--)if(Q&&Q.start>N+se){for(let U=Q.newLines.length-1;U>=0;U--)this.lines.set(Be--,Q.newLines[U]);Be++,O.push({index:N+1,amount:Q.newLines.length}),se+=Q.newLines.length,Q=k[++ee]}else this.lines.set(Be,f[N--]);let Re=0;for(let Be=O.length-1;Be>=0;Be--)O[Be].index+=Re,this.lines.onInsertEmitter.fire(O[Be]),Re+=O[Be].amount;const ze=Math.max(0,S+T-this.lines.maxLength);ze>0&&this.lines.onTrimEmitter.fire(ze)}}translateBufferLineToString(h,m,v=0,k){const T=this.lines.get(h);return T?T.translateToString(m,v,k):""}getWrappedRangeForLine(h){let m=h,v=h;for(;m>0&&this.lines.get(m).isWrapped;)m--;for(;v+1<this.lines.length&&this.lines.get(v+1).isWrapped;)v++;return{first:m,last:v}}setupTabStops(h){for(null!=h?this.tabs[h]||(h=this.prevStop(h)):(this.tabs={},h=0);h<this._cols;h+=this._optionsService.rawOptions.tabStopWidth)this.tabs[h]=!0}prevStop(h){for(null==h&&(h=this.x);!this.tabs[--h]&&h>0;);return h>=this._cols?this._cols-1:h<0?0:h}nextStop(h){for(null==h&&(h=this.x);!this.tabs[++h]&&h<this._cols;);return h>=this._cols?this._cols-1:h<0?0:h}clearMarkers(h){this._isClearing=!0;for(let m=0;m<this.markers.length;m++)this.markers[m].line===h&&(this.markers[m].dispose(),this.markers.splice(m--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let h=0;h<this.markers.length;h++)this.markers[h].dispose(),this.markers.splice(h--,1);this._isClearing=!1}addMarker(h){const m=new w.Marker(h);return this.markers.push(m),m.register(this.lines.onTrim(v=>{m.line-=v,m.line<0&&m.dispose()})),m.register(this.lines.onInsert(v=>{m.line>=v.index&&(m.line+=v.amount)})),m.register(this.lines.onDelete(v=>{m.line>=v.index&&m.line<v.index+v.amount&&m.dispose(),m.line>v.index&&(m.line-=v.amount)})),m.register(m.onDispose(()=>this._removeMarker(m))),m}_removeMarker(h){this._isClearing||this.markers.splice(this.markers.indexOf(h),1)}}},8437:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const g=d(482),C=d(643),p=d(511),y=d(3734);l.DEFAULT_ATTR_DATA=Object.freeze(new y.AttributeData);let x=0;class w{constructor(o,u,h=!1){this.isWrapped=h,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);const m=u||p.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]);for(let v=0;v<o;++v)this.setCell(v,m);this.length=o}get(o){const u=this._data[3*o+0],h=2097151&u;return[this._data[3*o+1],2097152&u?this._combined[o]:h?(0,g.stringFromCodePoint)(h):"",u>>22,2097152&u?this._combined[o].charCodeAt(this._combined[o].length-1):h]}set(o,u){this._data[3*o+1]=u[C.CHAR_DATA_ATTR_INDEX],u[C.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=u[1],this._data[3*o+0]=2097152|o|u[C.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=u[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|u[C.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(o){return this._data[3*o+0]>>22}hasWidth(o){return 12582912&this._data[3*o+0]}getFg(o){return this._data[3*o+1]}getBg(o){return this._data[3*o+2]}hasContent(o){return 4194303&this._data[3*o+0]}getCodePoint(o){const u=this._data[3*o+0];return 2097152&u?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&u}isCombined(o){return 2097152&this._data[3*o+0]}getString(o){const u=this._data[3*o+0];return 2097152&u?this._combined[o]:2097151&u?(0,g.stringFromCodePoint)(2097151&u):""}isProtected(o){return 536870912&this._data[3*o+2]}loadCell(o,u){return x=3*o,u.content=this._data[x+0],u.fg=this._data[x+1],u.bg=this._data[x+2],2097152&u.content&&(u.combinedData=this._combined[o]),268435456&u.bg&&(u.extended=this._extendedAttrs[o]),u}setCell(o,u){2097152&u.content&&(this._combined[o]=u.combinedData),268435456&u.bg&&(this._extendedAttrs[o]=u.extended),this._data[3*o+0]=u.content,this._data[3*o+1]=u.fg,this._data[3*o+2]=u.bg}setCellFromCodePoint(o,u,h,m,v,k){268435456&v&&(this._extendedAttrs[o]=k),this._data[3*o+0]=u|h<<22,this._data[3*o+1]=m,this._data[3*o+2]=v}addCodepointToCell(o,u){let h=this._data[3*o+0];2097152&h?this._combined[o]+=(0,g.stringFromCodePoint)(u):(2097151&h?(this._combined[o]=(0,g.stringFromCodePoint)(2097151&h)+(0,g.stringFromCodePoint)(u),h&=-2097152,h|=2097152):h=4194304|u,this._data[3*o+0]=h)}insertCells(o,u,h,m){if((o%=this.length)&&2===this.getWidth(o-1)&&this.setCellFromCodePoint(o-1,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs),u<this.length-o){const v=new p.CellData;for(let k=this.length-o-u-1;k>=0;--k)this.setCell(o+u+k,this.loadCell(o+k,v));for(let k=0;k<u;++k)this.setCell(o+k,h)}else for(let v=o;v<this.length;++v)this.setCell(v,h);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs)}deleteCells(o,u,h,m){if(u<this.length-(o%=this.length)){const v=new p.CellData;for(let k=0;k<this.length-o-u;++k)this.setCell(o+k,this.loadCell(o+u+k,v));for(let k=this.length-u;k<this.length;++k)this.setCell(k,h)}else for(let v=o;v<this.length;++v)this.setCell(v,h);o&&2===this.getWidth(o-1)&&this.setCellFromCodePoint(o-1,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs),0!==this.getWidth(o)||this.hasContent(o)||this.setCellFromCodePoint(o,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs)}replaceCells(o,u,h,m,v=!1){if(v)for(o&&2===this.getWidth(o-1)&&!this.isProtected(o-1)&&this.setCellFromCodePoint(o-1,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs),u<this.length&&2===this.getWidth(u-1)&&!this.isProtected(u)&&this.setCellFromCodePoint(u,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs);o<u&&o<this.length;)this.isProtected(o)||this.setCell(o,h),o++;else for(o&&2===this.getWidth(o-1)&&this.setCellFromCodePoint(o-1,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs),u<this.length&&2===this.getWidth(u-1)&&this.setCellFromCodePoint(u,0,1,m?.fg||0,m?.bg||0,m?.extended||new y.ExtendedAttrs);o<u&&o<this.length;)this.setCell(o++,h)}resize(o,u){if(o===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const h=3*o;if(o>this.length){if(this._data.buffer.byteLength>=4*h)this._data=new Uint32Array(this._data.buffer,0,h);else{const m=new Uint32Array(h);m.set(this._data),this._data=m}for(let m=this.length;m<o;++m)this.setCell(m,u)}else{this._data=this._data.subarray(0,h);const m=Object.keys(this._combined);for(let k=0;k<m.length;k++){const T=parseInt(m[k],10);T>=o&&delete this._combined[T]}const v=Object.keys(this._extendedAttrs);for(let k=0;k<v.length;k++){const T=parseInt(v[k],10);T>=o&&delete this._extendedAttrs[T]}}return this.length=o,4*h*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const o=new Uint32Array(this._data.length);return o.set(this._data),this._data=o,1}return 0}fill(o,u=!1){if(u)for(let h=0;h<this.length;++h)this.isProtected(h)||this.setCell(h,o);else{this._combined={},this._extendedAttrs={};for(let h=0;h<this.length;++h)this.setCell(h,o)}}copyFrom(o){this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={};for(const u in o._combined)this._combined[u]=o._combined[u];this._extendedAttrs={};for(const u in o._extendedAttrs)this._extendedAttrs[u]=o._extendedAttrs[u];this.isWrapped=o.isWrapped}clone(){const o=new w(0);o._data=new Uint32Array(this._data),o.length=this.length;for(const u in this._combined)o._combined[u]=this._combined[u];for(const u in this._extendedAttrs)o._extendedAttrs[u]=this._extendedAttrs[u];return o.isWrapped=this.isWrapped,o}getTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0}copyCellsFrom(o,u,h,m,v){const k=o._data;if(v)for(let O=m-1;O>=0;O--){for(let f=0;f<3;f++)this._data[3*(h+O)+f]=k[3*(u+O)+f];268435456&k[3*(u+O)+2]&&(this._extendedAttrs[h+O]=o._extendedAttrs[u+O])}else for(let O=0;O<m;O++){for(let f=0;f<3;f++)this._data[3*(h+O)+f]=k[3*(u+O)+f];268435456&k[3*(u+O)+2]&&(this._extendedAttrs[h+O]=o._extendedAttrs[u+O])}const T=Object.keys(o._combined);for(let O=0;O<T.length;O++){const f=parseInt(T[O],10);f>=u&&(this._combined[f-u+h]=o._combined[f])}}translateToString(o=!1,u=0,h=this.length){o&&(h=Math.min(h,this.getTrimmedLength()));let m="";for(;u<h;){const v=this._data[3*u+0],k=2097151&v;m+=2097152&v?this._combined[u]:k?(0,g.stringFromCodePoint)(k):C.WHITESPACE_CELL_CHAR,u+=v>>22||1}return m}}l.BufferLine=w},4841:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(d,g){if(d.start.y>d.end.y)throw new Error(`Buffer range end (${d.end.x}, ${d.end.y}) cannot be before start (${d.start.x}, ${d.start.y})`);return g*(d.end.y-d.start.y)+(d.end.x-d.start.x+1)}},4634:(E,l)=>{function d(g,C,p){if(C===g.length-1)return g[C].getTrimmedLength();const y=!g[C].hasContent(p-1)&&1===g[C].getWidth(p-1),x=2===g[C+1].getWidth(0);return y&&x?p-1:p}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(g,C,p,y,x){const w=[];for(let b=0;b<g.length-1;b++){let o=b,u=g.get(++o);if(!u.isWrapped)continue;const h=[g.get(b)];for(;o<g.length&&u.isWrapped;)h.push(u),u=g.get(++o);if(y>=b&&y<o){b+=h.length-1;continue}let m=0,v=d(h,m,C),k=1,T=0;for(;k<h.length;){const f=d(h,k,C),ee=Math.min(f-T,p-v);h[m].copyCellsFrom(h[k],T,v,ee,!1),v+=ee,v===p&&(m++,v=0),T+=ee,T===f&&(k++,T=0),0===v&&0!==m&&2===h[m-1].getWidth(p-1)&&(h[m].copyCellsFrom(h[m-1],p-1,v++,1,!1),h[m-1].setCell(p-1,x))}h[m].replaceCells(v,p,x);let O=0;for(let f=h.length-1;f>0&&(f>m||0===h[f].getTrimmedLength());f--)O++;O>0&&(w.push(b+h.length-O),w.push(O)),b+=h.length-1}return w},l.reflowLargerCreateNewLayout=function(g,C){const p=[];let y=0,x=C[y],w=0;for(let b=0;b<g.length;b++)if(x===b){const o=C[++y];g.onDeleteEmitter.fire({index:b-w,amount:o}),b+=o-1,w+=o,x=C[++y]}else p.push(b);return{layout:p,countRemoved:w}},l.reflowLargerApplyNewLayout=function(g,C){const p=[];for(let y=0;y<C.length;y++)p.push(g.get(C[y]));for(let y=0;y<p.length;y++)g.set(y,p[y]);g.length=C.length},l.reflowSmallerGetNewLineLengths=function(g,C,p){const y=[],x=g.map((u,h)=>d(g,h,C)).reduce((u,h)=>u+h);let w=0,b=0,o=0;for(;o<x;){if(x-o<p){y.push(x-o);break}w+=p;const u=d(g,b,C);w>u&&(w-=u,b++);const h=2===g[b].getWidth(w-1);h&&w--;const m=h?p-1:p;y.push(m),o+=m}return y},l.getWrappedLineTrimmedLength=d},5295:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const g=d(9092),C=d(8460),p=d(844);l.BufferSet=class y extends p.Disposable{constructor(w,b){super(),this._optionsService=w,this._bufferService=b,this._onBufferActivate=this.register(new C.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new g.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new g.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,b){this._normal.resize(w,b),this._alt.resize(w,b),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}},511:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const g=d(482),C=d(643),p=d(3734);class y extends p.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new p.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const b=new y;return b.setFromCharData(w),b}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,g.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[C.CHAR_DATA_ATTR_INDEX],this.bg=0;let b=!1;if(w[C.CHAR_DATA_CHAR_INDEX].length>2)b=!0;else if(2===w[C.CHAR_DATA_CHAR_INDEX].length){const o=w[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=o&&o<=56319){const u=w[C.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=u&&u<=57343?this.content=1024*(o-55296)+u-56320+65536|w[C.CHAR_DATA_WIDTH_INDEX]<<22:b=!0}else b=!0}else this.content=w[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[C.CHAR_DATA_WIDTH_INDEX]<<22;b&&(this.combinedData=w[C.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[C.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=y},643:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const g=d(8460),C=d(844);class p{constructor(x){this.line=x,this.isDisposed=!1,this._disposables=[],this._id=p._nextId++,this._onDispose=this.register(new g.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,C.disposeArray)(this._disposables),this._disposables.length=0)}register(x){return this._disposables.push(x),x}}l.Marker=p,p._nextId=1},7116:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},l.CHARSETS.A={"#":"\xa3"},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},l.CHARSETS.C=l.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},l.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},l.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},l.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},l.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},l.CHARSETS.E=l.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},l.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},l.CHARSETS.H=l.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},l.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(E,l)=>{var d,g,C;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,(C=d=l.C0||(l.C0={})).NUL="\0",C.SOH="\x01",C.STX="\x02",C.ETX="\x03",C.EOT="\x04",C.ENQ="\x05",C.ACK="\x06",C.BEL="\x07",C.BS="\b",C.HT="\t",C.LF="\n",C.VT="\v",C.FF="\f",C.CR="\r",C.SO="\x0e",C.SI="\x0f",C.DLE="\x10",C.DC1="\x11",C.DC2="\x12",C.DC3="\x13",C.DC4="\x14",C.NAK="\x15",C.SYN="\x16",C.ETB="\x17",C.CAN="\x18",C.EM="\x19",C.SUB="\x1a",C.ESC="\x1b",C.FS="\x1c",C.GS="\x1d",C.RS="\x1e",C.US="\x1f",C.SP=" ",C.DEL="\x7f",(g=l.C1||(l.C1={})).PAD="\x80",g.HOP="\x81",g.BPH="\x82",g.NBH="\x83",g.IND="\x84",g.NEL="\x85",g.SSA="\x86",g.ESA="\x87",g.HTS="\x88",g.HTJ="\x89",g.VTS="\x8a",g.PLD="\x8b",g.PLU="\x8c",g.RI="\x8d",g.SS2="\x8e",g.SS3="\x8f",g.DCS="\x90",g.PU1="\x91",g.PU2="\x92",g.STS="\x93",g.CCH="\x94",g.MW="\x95",g.SPA="\x96",g.EPA="\x97",g.SOS="\x98",g.SGCI="\x99",g.SCI="\x9a",g.CSI="\x9b",g.ST="\x9c",g.OSC="\x9d",g.PM="\x9e",g.APC="\x9f",(l.C1_ESCAPED||(l.C1_ESCAPED={})).ST=`${d.ESC}\\`},7399:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const g=d(2584),C={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(p,y,x,w){const b={type:0,cancel:!1,key:void 0},o=(p.shiftKey?1:0)|(p.altKey?2:0)|(p.ctrlKey?4:0)|(p.metaKey?8:0);switch(p.keyCode){case 0:"UIKeyInputUpArrow"===p.key?b.key=y?g.C0.ESC+"OA":g.C0.ESC+"[A":"UIKeyInputLeftArrow"===p.key?b.key=y?g.C0.ESC+"OD":g.C0.ESC+"[D":"UIKeyInputRightArrow"===p.key?b.key=y?g.C0.ESC+"OC":g.C0.ESC+"[C":"UIKeyInputDownArrow"===p.key&&(b.key=y?g.C0.ESC+"OB":g.C0.ESC+"[B");break;case 8:if(p.altKey){b.key=g.C0.ESC+g.C0.DEL;break}b.key=g.C0.DEL;break;case 9:if(p.shiftKey){b.key=g.C0.ESC+"[Z";break}b.key=g.C0.HT,b.cancel=!0;break;case 13:b.key=p.altKey?g.C0.ESC+g.C0.CR:g.C0.CR,b.cancel=!0;break;case 27:b.key=g.C0.ESC,p.altKey&&(b.key=g.C0.ESC+g.C0.ESC),b.cancel=!0;break;case 37:if(p.metaKey)break;o?(b.key=g.C0.ESC+"[1;"+(o+1)+"D",b.key===g.C0.ESC+"[1;3D"&&(b.key=g.C0.ESC+(x?"b":"[1;5D"))):b.key=y?g.C0.ESC+"OD":g.C0.ESC+"[D";break;case 39:if(p.metaKey)break;o?(b.key=g.C0.ESC+"[1;"+(o+1)+"C",b.key===g.C0.ESC+"[1;3C"&&(b.key=g.C0.ESC+(x?"f":"[1;5C"))):b.key=y?g.C0.ESC+"OC":g.C0.ESC+"[C";break;case 38:if(p.metaKey)break;o?(b.key=g.C0.ESC+"[1;"+(o+1)+"A",x||b.key!==g.C0.ESC+"[1;3A"||(b.key=g.C0.ESC+"[1;5A")):b.key=y?g.C0.ESC+"OA":g.C0.ESC+"[A";break;case 40:if(p.metaKey)break;o?(b.key=g.C0.ESC+"[1;"+(o+1)+"B",x||b.key!==g.C0.ESC+"[1;3B"||(b.key=g.C0.ESC+"[1;5B")):b.key=y?g.C0.ESC+"OB":g.C0.ESC+"[B";break;case 45:p.shiftKey||p.ctrlKey||(b.key=g.C0.ESC+"[2~");break;case 46:b.key=o?g.C0.ESC+"[3;"+(o+1)+"~":g.C0.ESC+"[3~";break;case 36:b.key=o?g.C0.ESC+"[1;"+(o+1)+"H":y?g.C0.ESC+"OH":g.C0.ESC+"[H";break;case 35:b.key=o?g.C0.ESC+"[1;"+(o+1)+"F":y?g.C0.ESC+"OF":g.C0.ESC+"[F";break;case 33:p.shiftKey?b.type=2:b.key=p.ctrlKey?g.C0.ESC+"[5;"+(o+1)+"~":g.C0.ESC+"[5~";break;case 34:p.shiftKey?b.type=3:b.key=p.ctrlKey?g.C0.ESC+"[6;"+(o+1)+"~":g.C0.ESC+"[6~";break;case 112:b.key=o?g.C0.ESC+"[1;"+(o+1)+"P":g.C0.ESC+"OP";break;case 113:b.key=o?g.C0.ESC+"[1;"+(o+1)+"Q":g.C0.ESC+"OQ";break;case 114:b.key=o?g.C0.ESC+"[1;"+(o+1)+"R":g.C0.ESC+"OR";break;case 115:b.key=o?g.C0.ESC+"[1;"+(o+1)+"S":g.C0.ESC+"OS";break;case 116:b.key=o?g.C0.ESC+"[15;"+(o+1)+"~":g.C0.ESC+"[15~";break;case 117:b.key=o?g.C0.ESC+"[17;"+(o+1)+"~":g.C0.ESC+"[17~";break;case 118:b.key=o?g.C0.ESC+"[18;"+(o+1)+"~":g.C0.ESC+"[18~";break;case 119:b.key=o?g.C0.ESC+"[19;"+(o+1)+"~":g.C0.ESC+"[19~";break;case 120:b.key=o?g.C0.ESC+"[20;"+(o+1)+"~":g.C0.ESC+"[20~";break;case 121:b.key=o?g.C0.ESC+"[21;"+(o+1)+"~":g.C0.ESC+"[21~";break;case 122:b.key=o?g.C0.ESC+"[23;"+(o+1)+"~":g.C0.ESC+"[23~";break;case 123:b.key=o?g.C0.ESC+"[24;"+(o+1)+"~":g.C0.ESC+"[24~";break;default:if(!p.ctrlKey||p.shiftKey||p.altKey||p.metaKey)if(x&&!w||!p.altKey||p.metaKey)!x||p.altKey||p.ctrlKey||p.shiftKey||!p.metaKey?p.key&&!p.ctrlKey&&!p.altKey&&!p.metaKey&&p.keyCode>=48&&1===p.key.length?b.key=p.key:p.key&&p.ctrlKey&&("_"===p.key&&(b.key=g.C0.US),"@"===p.key&&(b.key=g.C0.NUL)):65===p.keyCode&&(b.type=1);else{const u=C[p.keyCode],h=u?.[p.shiftKey?1:0];if(h)b.key=g.C0.ESC+h;else if(p.keyCode>=65&&p.keyCode<=90){let v=String.fromCharCode(p.ctrlKey?p.keyCode-64:p.keyCode+32);p.shiftKey&&(v=v.toUpperCase()),b.key=g.C0.ESC+v}else if(32===p.keyCode)b.key=g.C0.ESC+(p.ctrlKey?g.C0.NUL:" ");else if("Dead"===p.key&&p.code.startsWith("Key")){let m=p.code.slice(3,4);p.shiftKey||(m=m.toLowerCase()),b.key=g.C0.ESC+m,b.cancel=!0}}else p.keyCode>=65&&p.keyCode<=90?b.key=String.fromCharCode(p.keyCode-64):32===p.keyCode?b.key=g.C0.NUL:p.keyCode>=51&&p.keyCode<=55?b.key=String.fromCharCode(p.keyCode-51+27):56===p.keyCode?b.key=g.C0.DEL:219===p.keyCode?b.key=g.C0.ESC:220===p.keyCode?b.key=g.C0.FS:221===p.keyCode&&(b.key=g.C0.GS)}return b}},482:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(d){return d>65535?(d-=65536,String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):String.fromCharCode(d)},l.utf32ToString=function(d,g=0,C=d.length){let p="";for(let y=g;y<C;++y){let x=d[y];x>65535?(x-=65536,p+=String.fromCharCode(55296+(x>>10))+String.fromCharCode(x%1024+56320)):p+=String.fromCharCode(x)}return p},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(d,g){const C=d.length;if(!C)return 0;let p=0,y=0;if(this._interim){const x=d.charCodeAt(y++);56320<=x&&x<=57343?g[p++]=1024*(this._interim-55296)+x-56320+65536:(g[p++]=this._interim,g[p++]=x),this._interim=0}for(let x=y;x<C;++x){const w=d.charCodeAt(x);if(55296<=w&&w<=56319){if(++x>=C)return this._interim=w,p;const b=d.charCodeAt(x);56320<=b&&b<=57343?g[p++]=1024*(w-55296)+b-56320+65536:(g[p++]=w,g[p++]=b)}else 65279!==w&&(g[p++]=w)}return p}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(d,g){const C=d.length;if(!C)return 0;let p,y,x,w,b=0,o=0,u=0;if(this.interim[0]){let v=!1,k=this.interim[0];k&=192==(224&k)?31:224==(240&k)?15:7;let T,O=0;for(;(T=63&this.interim[++O])&&O<4;)k<<=6,k|=T;const f=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,S=f-O;for(;u<S;){if(u>=C)return 0;if(T=d[u++],128!=(192&T)){u--,v=!0;break}this.interim[O++]=T,k<<=6,k|=63&T}v||(2===f?k<128?u--:g[b++]=k:3===f?k<2048||k>=55296&&k<=57343||65279===k||(g[b++]=k):k<65536||k>1114111||(g[b++]=k)),this.interim.fill(0)}const h=C-4;let m=u;for(;m<C;){for(;!(!(m<h)||128&(p=d[m])||128&(y=d[m+1])||128&(x=d[m+2])||128&(w=d[m+3]));)g[b++]=p,g[b++]=y,g[b++]=x,g[b++]=w,m+=4;if(p=d[m++],p<128)g[b++]=p;else if(192==(224&p)){if(m>=C)return this.interim[0]=p,b;if(y=d[m++],128!=(192&y)){m--;continue}if(o=(31&p)<<6|63&y,o<128){m--;continue}g[b++]=o}else if(224==(240&p)){if(m>=C)return this.interim[0]=p,b;if(y=d[m++],128!=(192&y)){m--;continue}if(m>=C)return this.interim[0]=p,this.interim[1]=y,b;if(x=d[m++],128!=(192&x)){m--;continue}if(o=(15&p)<<12|(63&y)<<6|63&x,o<2048||o>=55296&&o<=57343||65279===o)continue;g[b++]=o}else if(240==(248&p)){if(m>=C)return this.interim[0]=p,b;if(y=d[m++],128!=(192&y)){m--;continue}if(m>=C)return this.interim[0]=p,this.interim[1]=y,b;if(x=d[m++],128!=(192&x)){m--;continue}if(m>=C)return this.interim[0]=p,this.interim[1]=y,this.interim[2]=x,b;if(w=d[m++],128!=(192&w)){m--;continue}if(o=(7&p)<<18|(63&y)<<12|(63&x)<<6|63&w,o<65536||o>1114111)continue;g[b++]=o}}return b}}},225:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const d=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],g=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let C;l.UnicodeV6=class{constructor(){if(this.version="6",!C){C=new Uint8Array(65536),C.fill(1),C[0]=0,C.fill(0,1,32),C.fill(0,127,160),C.fill(2,4352,4448),C[9001]=2,C[9002]=2,C.fill(2,11904,42192),C[12351]=1,C.fill(2,44032,55204),C.fill(2,63744,64256),C.fill(2,65040,65050),C.fill(2,65072,65136),C.fill(2,65280,65377),C.fill(2,65504,65511);for(let p=0;p<d.length;++p)C.fill(0,d[p][0],d[p][1]+1)}}wcwidth(p){return p<32?0:p<127?1:p<65536?C[p]:function(y,x){let w,b=0,o=x.length-1;if(y<x[0][0]||y>x[o][1])return!1;for(;o>=b;)if(w=b+o>>1,y>x[w][1])b=w+1;else{if(!(y<x[w][0]))return!0;o=w-1}return!1}(p,g)?0:p>=131072&&p<=196605||p>=196608&&p<=262141?2:1}}},5981:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const g=d(8460),C=d(844);l.WriteBuffer=class p extends C.Disposable{constructor(x){super(),this._action=x,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new g.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(x,w){if(void 0!==w&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let b;for(this._isSyncWriting=!0;b=this._writeBuffer.shift();){this._action(b);const o=this._callbacks.shift();o&&o()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(x,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=x.length,this._writeBuffer.push(x),this._callbacks.push(w)}_innerWrite(x=0,w=!0){const b=x||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const o=this._writeBuffer[this._bufferOffset],u=this._action(o,w);if(u){const m=v=>Date.now()-b>=12?setTimeout(()=>this._innerWrite(0,v)):this._innerWrite(b,v);return void u.catch(v=>(queueMicrotask(()=>{throw v}),Promise.resolve(!1))).then(m)}const h=this._callbacks[this._bufferOffset];if(h&&h(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-b>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const d=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,g=/^[\da-f]+$/;function C(p,y){const x=p.toString(16),w=x.length<2?"0"+x:x;switch(y){case 4:return x[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}l.parseColor=function(p){if(!p)return;let y=p.toLowerCase();if(0===y.indexOf("rgb:")){y=y.slice(4);const x=d.exec(y);if(x){const w=x[1]?15:x[4]?255:x[7]?4095:65535;return[Math.round(parseInt(x[1]||x[4]||x[7]||x[10],16)/w*255),Math.round(parseInt(x[2]||x[5]||x[8]||x[11],16)/w*255),Math.round(parseInt(x[3]||x[6]||x[9]||x[12],16)/w*255)]}}else if(0===y.indexOf("#")&&(y=y.slice(1),g.exec(y)&&[3,6,9,12].includes(y.length))){const x=y.length/3,w=[0,0,0];for(let b=0;b<3;++b){const o=parseInt(y.slice(x*b,x*b+x),16);w[b]=1===x?o<<4:2===x?o:3===x?o>>4:o>>8}return w}},l.toRgbString=function(p,y=16){const[x,w,b]=p;return`rgb:${C(x,y)}/${C(w,y)}/${C(b,y)}`}},5770:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const g=d(482),C=d(8742),p=d(5770),y=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=y,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=y}registerHandler(w,b){void 0===this._handlers[w]&&(this._handlers[w]=[]);const o=this._handlers[w];return o.push(b),{dispose:()=>{const u=o.indexOf(b);-1!==u&&o.splice(u,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=y,this._ident=0}hook(w,b){if(this.reset(),this._ident=w,this._active=this._handlers[w]||y,this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].hook(b);else this._handlerFb(this._ident,"HOOK",b)}put(w,b,o){if(this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].put(w,b,o);else this._handlerFb(this._ident,"PUT",(0,g.utf32ToString)(w,b,o))}unhook(w,b=!0){if(this._active.length){let o=!1,u=this._active.length-1,h=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,o=b,h=this._stack.fallThrough,this._stack.paused=!1),!h&&!1===o){for(;u>=0&&(o=this._active[u].unhook(w),!0!==o);u--)if(o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,o;u--}for(;u>=0;u--)if(o=this._active[u].unhook(!1),o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,o}else this._handlerFb(this._ident,"UNHOOK",w);this._active=y,this._ident=0}};const x=new C.Params;x.addParam(0),l.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=x,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():x,this._data="",this._hitLimit=!1}put(w,b,o){this._hitLimit||(this._data+=(0,g.utf32ToString)(w,b,o),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let b=!1;if(this._hitLimit)b=!1;else if(w&&(b=this._handler(this._data,this._params),b instanceof Promise))return b.then(o=>(this._params=x,this._data="",this._hitLimit=!1,o));return this._params=x,this._data="",this._hitLimit=!1,b}}},2015:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const g=d(844),C=d(8742),p=d(6242),y=d(6351);class x{constructor(u){this.table=new Uint8Array(u)}setDefault(u,h){this.table.fill(u<<4|h)}add(u,h,m,v){this.table[h<<8|u]=m<<4|v}addMany(u,h,m,v){for(let k=0;k<u.length;k++)this.table[h<<8|u[k]]=m<<4|v}}l.TransitionTable=x;const w=160;l.VT500_TRANSITION_TABLE=function(){const o=new x(4095),u=Array.apply(null,Array(256)).map((O,f)=>f),h=(O,f)=>u.slice(O,f),m=h(32,127),v=h(0,24);v.push(25),v.push.apply(v,h(28,32));const k=h(0,14);let T;for(T in o.setDefault(1,0),o.addMany(m,0,2,0),k)o.addMany([24,26,153,154],T,3,0),o.addMany(h(128,144),T,3,0),o.addMany(h(144,152),T,3,0),o.add(156,T,0,0),o.add(27,T,11,1),o.add(157,T,4,8),o.addMany([152,158,159],T,0,7),o.add(155,T,11,3),o.add(144,T,11,9);return o.addMany(v,0,3,0),o.addMany(v,1,3,1),o.add(127,1,0,1),o.addMany(v,8,0,8),o.addMany(v,3,3,3),o.add(127,3,0,3),o.addMany(v,4,3,4),o.add(127,4,0,4),o.addMany(v,6,3,6),o.addMany(v,5,3,5),o.add(127,5,0,5),o.addMany(v,2,3,2),o.add(127,2,0,2),o.add(93,1,4,8),o.addMany(m,8,5,8),o.add(127,8,5,8),o.addMany([156,27,24,26,7],8,6,0),o.addMany(h(28,32),8,0,8),o.addMany([88,94,95],1,0,7),o.addMany(m,7,0,7),o.addMany(v,7,0,7),o.add(156,7,0,0),o.add(127,7,0,7),o.add(91,1,11,3),o.addMany(h(64,127),3,7,0),o.addMany(h(48,60),3,8,4),o.addMany([60,61,62,63],3,9,4),o.addMany(h(48,60),4,8,4),o.addMany(h(64,127),4,7,0),o.addMany([60,61,62,63],4,0,6),o.addMany(h(32,64),6,0,6),o.add(127,6,0,6),o.addMany(h(64,127),6,0,0),o.addMany(h(32,48),3,9,5),o.addMany(h(32,48),5,9,5),o.addMany(h(48,64),5,0,6),o.addMany(h(64,127),5,7,0),o.addMany(h(32,48),4,9,5),o.addMany(h(32,48),1,9,2),o.addMany(h(32,48),2,9,2),o.addMany(h(48,127),2,10,0),o.addMany(h(48,80),1,10,0),o.addMany(h(81,88),1,10,0),o.addMany([89,90,92],1,10,0),o.addMany(h(96,127),1,10,0),o.add(80,1,11,9),o.addMany(v,9,0,9),o.add(127,9,0,9),o.addMany(h(28,32),9,0,9),o.addMany(h(32,48),9,9,12),o.addMany(h(48,60),9,8,10),o.addMany([60,61,62,63],9,9,10),o.addMany(v,11,0,11),o.addMany(h(32,128),11,0,11),o.addMany(h(28,32),11,0,11),o.addMany(v,10,0,10),o.add(127,10,0,10),o.addMany(h(28,32),10,0,10),o.addMany(h(48,60),10,8,10),o.addMany([60,61,62,63],10,0,11),o.addMany(h(32,48),10,9,12),o.addMany(v,12,0,12),o.add(127,12,0,12),o.addMany(h(28,32),12,0,12),o.addMany(h(32,48),12,9,12),o.addMany(h(48,64),12,0,11),o.addMany(h(64,127),12,12,13),o.addMany(h(64,127),10,12,13),o.addMany(h(64,127),9,12,13),o.addMany(v,13,13,13),o.addMany(m,13,13,13),o.add(127,13,0,13),o.addMany([27,156,24,26],13,14,0),o.add(w,0,2,0),o.add(w,8,5,8),o.add(w,6,0,6),o.add(w,11,0,11),o.add(w,13,13,13),o}(),l.EscapeSequenceParser=class b extends g.Disposable{constructor(u=l.VT500_TRANSITION_TABLE){super(),this._transitions=u,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new C.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(h,m,v)=>{},this._executeHandlerFb=h=>{},this._csiHandlerFb=(h,m)=>{},this._escHandlerFb=h=>{},this._errorHandlerFb=h=>h,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,g.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new p.OscParser),this._dcsParser=this.register(new y.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(u,h=[64,126]){let m=0;if(u.prefix){if(u.prefix.length>1)throw new Error("only one byte as prefix supported");if(m=u.prefix.charCodeAt(0),m&&60>m||m>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(u.intermediates){if(u.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let k=0;k<u.intermediates.length;++k){const T=u.intermediates.charCodeAt(k);if(32>T||T>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");m<<=8,m|=T}}if(1!==u.final.length)throw new Error("final must be a single byte");const v=u.final.charCodeAt(0);if(h[0]>v||v>h[1])throw new Error(`final must be in range ${h[0]} .. ${h[1]}`);return m<<=8,m|=v,m}identToString(u){const h=[];for(;u;)h.push(String.fromCharCode(255&u)),u>>=8;return h.reverse().join("")}setPrintHandler(u){this._printHandler=u}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(u,h){const m=this._identifier(u,[48,126]);void 0===this._escHandlers[m]&&(this._escHandlers[m]=[]);const v=this._escHandlers[m];return v.push(h),{dispose:()=>{const k=v.indexOf(h);-1!==k&&v.splice(k,1)}}}clearEscHandler(u){this._escHandlers[this._identifier(u,[48,126])]&&delete this._escHandlers[this._identifier(u,[48,126])]}setEscHandlerFallback(u){this._escHandlerFb=u}setExecuteHandler(u,h){this._executeHandlers[u.charCodeAt(0)]=h}clearExecuteHandler(u){this._executeHandlers[u.charCodeAt(0)]&&delete this._executeHandlers[u.charCodeAt(0)]}setExecuteHandlerFallback(u){this._executeHandlerFb=u}registerCsiHandler(u,h){const m=this._identifier(u);void 0===this._csiHandlers[m]&&(this._csiHandlers[m]=[]);const v=this._csiHandlers[m];return v.push(h),{dispose:()=>{const k=v.indexOf(h);-1!==k&&v.splice(k,1)}}}clearCsiHandler(u){this._csiHandlers[this._identifier(u)]&&delete this._csiHandlers[this._identifier(u)]}setCsiHandlerFallback(u){this._csiHandlerFb=u}registerDcsHandler(u,h){return this._dcsParser.registerHandler(this._identifier(u),h)}clearDcsHandler(u){this._dcsParser.clearHandler(this._identifier(u))}setDcsHandlerFallback(u){this._dcsParser.setHandlerFallback(u)}registerOscHandler(u,h){return this._oscParser.registerHandler(u,h)}clearOscHandler(u){this._oscParser.clearHandler(u)}setOscHandlerFallback(u){this._oscParser.setHandlerFallback(u)}setErrorHandler(u){this._errorHandler=u}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(u,h,m,v,k){this._parseStack.state=u,this._parseStack.handlers=h,this._parseStack.handlerPos=m,this._parseStack.transition=v,this._parseStack.chunkPos=k}parse(u,h,m){let v,k=0,T=0,O=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,O=this._parseStack.chunkPos+1;else{if(void 0===m||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const f=this._parseStack.handlers;let S=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===m&&S>-1)for(;S>=0&&(v=f[S](this._params),!0!==v);S--)if(v instanceof Promise)return this._parseStack.handlerPos=S,v;this._parseStack.handlers=[];break;case 4:if(!1===m&&S>-1)for(;S>=0&&(v=f[S](),!0!==v);S--)if(v instanceof Promise)return this._parseStack.handlerPos=S,v;this._parseStack.handlers=[];break;case 6:if(k=u[this._parseStack.chunkPos],v=this._dcsParser.unhook(24!==k&&26!==k,m),v)return v;27===k&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(k=u[this._parseStack.chunkPos],v=this._oscParser.end(24!==k&&26!==k,m),v)return v;27===k&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,O=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let f=O;f<h;++f){switch(k=u[f],T=this._transitions.table[this.currentState<<8|(k<160?k:w)],T>>4){case 2:for(let se=f+1;;++se){if(se>=h||(k=u[se])<32||k>126&&k<w){this._printHandler(u,f,se),f=se-1;break}if(++se>=h||(k=u[se])<32||k>126&&k<w){this._printHandler(u,f,se),f=se-1;break}if(++se>=h||(k=u[se])<32||k>126&&k<w){this._printHandler(u,f,se),f=se-1;break}if(++se>=h||(k=u[se])<32||k>126&&k<w){this._printHandler(u,f,se),f=se-1;break}}break;case 3:this._executeHandlers[k]?this._executeHandlers[k]():this._executeHandlerFb(k),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:f,code:k,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const S=this._csiHandlers[this._collect<<8|k];let N=S?S.length-1:-1;for(;N>=0&&(v=S[N](this._params),!0!==v);N--)if(v instanceof Promise)return this._preserveStack(3,S,N,T,f),v;N<0&&this._csiHandlerFb(this._collect<<8|k,this._params),this.precedingCodepoint=0;break;case 8:do{switch(k){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(k-48)}}while(++f<h&&(k=u[f])>47&&k<60);f--;break;case 9:this._collect<<=8,this._collect|=k;break;case 10:const ee=this._escHandlers[this._collect<<8|k];let Q=ee?ee.length-1:-1;for(;Q>=0&&(v=ee[Q](),!0!==v);Q--)if(v instanceof Promise)return this._preserveStack(4,ee,Q,T,f),v;Q<0&&this._escHandlerFb(this._collect<<8|k),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|k,this._params);break;case 13:for(let se=f+1;;++se)if(se>=h||24===(k=u[se])||26===k||27===k||k>127&&k<w){this._dcsParser.put(u,f,se),f=se-1;break}break;case 14:if(v=this._dcsParser.unhook(24!==k&&26!==k),v)return this._preserveStack(6,[],0,T,f),v;27===k&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let se=f+1;;se++)if(se>=h||(k=u[se])<32||k>127&&k<w){this._oscParser.put(u,f,se),f=se-1;break}break;case 6:if(v=this._oscParser.end(24!==k&&26!==k),v)return this._preserveStack(5,[],0,T,f),v;27===k&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&T}}}},6242:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const g=d(5770),C=d(482),p=[];l.OscParser=class{constructor(){this._state=0,this._active=p,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(y,x){void 0===this._handlers[y]&&(this._handlers[y]=[]);const w=this._handlers[y];return w.push(x),{dispose:()=>{const b=w.indexOf(x);-1!==b&&w.splice(b,1)}}}clearHandler(y){this._handlers[y]&&delete this._handlers[y]}setHandlerFallback(y){this._handlerFb=y}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=p}reset(){if(2===this._state)for(let y=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;y>=0;--y)this._active[y].end(!1);this._stack.paused=!1,this._active=p,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||p,this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].start();else this._handlerFb(this._id,"START")}_put(y,x,w){if(this._active.length)for(let b=this._active.length-1;b>=0;b--)this._active[b].put(y,x,w);else this._handlerFb(this._id,"PUT",(0,C.utf32ToString)(y,x,w))}start(){this.reset(),this._state=1}put(y,x,w){if(3!==this._state){if(1===this._state)for(;x<w;){const b=y[x++];if(59===b){this._state=2,this._start();break}if(b<48||57<b)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+b-48}2===this._state&&w-x>0&&this._put(y,x,w)}}end(y,x=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let w=!1,b=this._active.length-1,o=!1;if(this._stack.paused&&(b=this._stack.loopPosition-1,w=x,o=this._stack.fallThrough,this._stack.paused=!1),!o&&!1===w){for(;b>=0&&(w=this._active[b].end(y),!0!==w);b--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!1,w;b--}for(;b>=0;b--)if(w=this._active[b].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=b,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",y);this._active=p,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(y){this._handler=y,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(y,x,w){this._hitLimit||(this._data+=(0,C.utf32ToString)(y,x,w),this._data.length>g.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(y){let x=!1;if(this._hitLimit)x=!1;else if(y&&(x=this._handler(this._data),x instanceof Promise))return x.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,x}}},8742:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const d=2147483647;class g{constructor(p=32,y=32){if(this.maxLength=p,this.maxSubParamsLength=y,y>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(p),this.length=0,this._subParams=new Int32Array(y),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(p),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(p){const y=new g;if(!p.length)return y;for(let x=Array.isArray(p[0])?1:0;x<p.length;++x){const w=p[x];if(Array.isArray(w))for(let b=0;b<w.length;++b)y.addSubParam(w[b]);else y.addParam(w)}return y}clone(){const p=new g(this.maxLength,this.maxSubParamsLength);return p.params.set(this.params),p.length=this.length,p._subParams.set(this._subParams),p._subParamsLength=this._subParamsLength,p._subParamsIdx.set(this._subParamsIdx),p._rejectDigits=this._rejectDigits,p._rejectSubDigits=this._rejectSubDigits,p._digitIsSub=this._digitIsSub,p}toArray(){const p=[];for(let y=0;y<this.length;++y){p.push(this.params[y]);const x=this._subParamsIdx[y]>>8,w=255&this._subParamsIdx[y];w-x>0&&p.push(Array.prototype.slice.call(this._subParams,x,w))}return p}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(p){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=p>d?d:p}}addSubParam(p){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(p<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=p>d?d:p,this._subParamsIdx[this.length-1]++}}hasSubParams(p){return(255&this._subParamsIdx[p])-(this._subParamsIdx[p]>>8)>0}getSubParams(p){const y=this._subParamsIdx[p]>>8,x=255&this._subParamsIdx[p];return x-y>0?this._subParams.subarray(y,x):null}getSubParamsAll(){const p={};for(let y=0;y<this.length;++y){const x=this._subParamsIdx[y]>>8,w=255&this._subParamsIdx[y];w-x>0&&(p[y]=this._subParams.slice(x,w))}return p}addDigit(p){let y;if(this._rejectDigits||!(y=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const x=this._digitIsSub?this._subParams:this.params,w=x[y-1];x[y-1]=~w?Math.min(10*w+p,d):p}}l.Params=g},5741:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let d=this._addons.length-1;d>=0;d--)this._addons[d].instance.dispose()}loadAddon(d,g){const C={instance:g,dispose:g.dispose,isDisposed:!1};this._addons.push(C),g.dispose=()=>this._wrappedAddonDispose(C),g.activate(d)}_wrappedAddonDispose(d){if(d.isDisposed)return;let g=-1;for(let C=0;C<this._addons.length;C++)if(this._addons[C]===d){g=C;break}if(-1===g)throw new Error("Could not dispose an addon that has not been loaded");d.isDisposed=!0,d.dispose.apply(d.instance),this._addons.splice(g,1)}}},8771:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const g=d(3785),C=d(511);l.BufferApiView=class{constructor(p,y){this._buffer=p,this.type=y}init(p){return this._buffer=p,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(p){const y=this._buffer.lines.get(p);if(y)return new g.BufferLineApiView(y)}getNullCell(){return new C.CellData}}},3785:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const g=d(511);l.BufferLineApiView=class{constructor(C){this._line=C}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(C,p){if(!(C<0||C>=this._line.length))return p?(this._line.loadCell(C,p),p):this._line.loadCell(C,new g.CellData)}translateToString(C,p,y){return this._line.translateToString(C,p,y)}}},8285:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const g=d(8771),C=d(8460);l.BufferNamespaceApi=class{constructor(p){this._core=p,this._onBufferChange=new C.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new g.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new g.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(d){this._core=d}registerCsiHandler(d,g){return this._core.registerCsiHandler(d,C=>g(C.toArray()))}addCsiHandler(d,g){return this.registerCsiHandler(d,g)}registerDcsHandler(d,g){return this._core.registerDcsHandler(d,(C,p)=>g(C,p.toArray()))}addDcsHandler(d,g){return this.registerDcsHandler(d,g)}registerEscHandler(d,g){return this._core.registerEscHandler(d,g)}addEscHandler(d,g){return this.registerEscHandler(d,g)}registerOscHandler(d,g){return this._core.registerOscHandler(d,g)}addOscHandler(d,g){return this.registerOscHandler(d,g)}}},7090:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(d){this._core=d}register(d){this._core.unicodeService.register(d)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(d){this._core.unicodeService.activeVersion=d}}},744:function(E,l,d){var g=this&&this.__decorate||function(o,u,h,m){var v,k=arguments.length,T=k<3?u:null===m?m=Object.getOwnPropertyDescriptor(u,h):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)T=Reflect.decorate(o,u,h,m);else for(var O=o.length-1;O>=0;O--)(v=o[O])&&(T=(k<3?v(T):k>3?v(u,h,T):v(u,h))||T);return k>3&&T&&Object.defineProperty(u,h,T),T},C=this&&this.__param||function(o,u){return function(h,m){u(h,m,o)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const p=d(2585),y=d(5295),x=d(8460),w=d(844);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let b=class extends w.Disposable{constructor(o){super(),this.isUserScrolling=!1,this._onResize=this.register(new x.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new x.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(o.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(o.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new y.BufferSet(o,this))}get buffer(){return this.buffers.active}resize(o,u){this.cols=o,this.rows=u,this.buffers.resize(o,u),this._onResize.fire({cols:o,rows:u})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(o,u=!1){const h=this.buffer;let m;m=this._cachedBlankLine,m&&m.length===this.cols&&m.getFg(0)===o.fg&&m.getBg(0)===o.bg||(m=h.getBlankLine(o,u),this._cachedBlankLine=m),m.isWrapped=u;const v=h.ybase+h.scrollTop,k=h.ybase+h.scrollBottom;if(0===h.scrollTop){const T=h.lines.isFull;k===h.lines.length-1?T?h.lines.recycle().copyFrom(m):h.lines.push(m.clone()):h.lines.splice(k+1,0,m.clone()),T?this.isUserScrolling&&(h.ydisp=Math.max(h.ydisp-1,0)):(h.ybase++,this.isUserScrolling||h.ydisp++)}else h.lines.shiftElements(v+1,k-v+1-1,-1),h.lines.set(k,m.clone());this.isUserScrolling||(h.ydisp=h.ybase),this._onScroll.fire(h.ydisp)}scrollLines(o,u,h){const m=this.buffer;if(o<0){if(0===m.ydisp)return;this.isUserScrolling=!0}else o+m.ydisp>=m.ybase&&(this.isUserScrolling=!1);const v=m.ydisp;m.ydisp=Math.max(Math.min(m.ydisp+o,m.ybase),0),v!==m.ydisp&&(u||this._onScroll.fire(m.ydisp))}scrollPages(o){this.scrollLines(o*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(o){const u=o-this.buffer.ydisp;0!==u&&this.scrollLines(u)}};b=g([C(0,p.IOptionsService)],b),l.BufferService=b},7994:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(d){this.glevel=d,this.charset=this._charsets[d]}setgCharset(d,g){this._charsets[d]=g,this.glevel===d&&(this.charset=g)}}},1753:function(E,l,d){var g=this&&this.__decorate||function(m,v,k,T){var O,f=arguments.length,S=f<3?v:null===T?T=Object.getOwnPropertyDescriptor(v,k):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(m,v,k,T);else for(var N=m.length-1;N>=0;N--)(O=m[N])&&(S=(f<3?O(S):f>3?O(v,k,S):O(v,k))||S);return f>3&&S&&Object.defineProperty(v,k,S),S},C=this&&this.__param||function(m,v){return function(k,T){v(k,T,m)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const p=d(2585),y=d(8460),x=d(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:m=>4!==m.button&&1===m.action&&(m.ctrl=!1,m.alt=!1,m.shift=!1,!0)},VT200:{events:19,restrict:m=>32!==m.action},DRAG:{events:23,restrict:m=>32!==m.action||3!==m.button},ANY:{events:31,restrict:m=>!0}};function b(m,v){let k=(m.ctrl?16:0)|(m.shift?4:0)|(m.alt?8:0);return 4===m.button?(k|=64,k|=m.action):(k|=3&m.button,4&m.button&&(k|=64),8&m.button&&(k|=128),32===m.action?k|=32:0!==m.action||v||(k|=3)),k}const o=String.fromCharCode,u={DEFAULT:m=>{const v=[b(m,!1)+32,m.col+32,m.row+32];return v[0]>255||v[1]>255||v[2]>255?"":`\x1b[M${o(v[0])}${o(v[1])}${o(v[2])}`},SGR:m=>{const v=0===m.action&&4!==m.button?"m":"M";return`\x1b[<${b(m,!0)};${m.col};${m.row}${v}`},SGR_PIXELS:m=>{const v=0===m.action&&4!==m.button?"m":"M";return`\x1b[<${b(m,!0)};${m.x};${m.y}${v}`}};let h=class extends x.Disposable{constructor(m,v){super(),this._bufferService=m,this._coreService=v,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new y.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const k of Object.keys(w))this.addProtocol(k,w[k]);for(const k of Object.keys(u))this.addEncoding(k,u[k]);this.reset()}addProtocol(m,v){this._protocols[m]=v}addEncoding(m,v){this._encodings[m]=v}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(m){if(!this._protocols[m])throw new Error(`unknown protocol "${m}"`);this._activeProtocol=m,this._onProtocolChange.fire(this._protocols[m].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(m){if(!this._encodings[m])throw new Error(`unknown encoding "${m}"`);this._activeEncoding=m}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(m){if(m.col<0||m.col>=this._bufferService.cols||m.row<0||m.row>=this._bufferService.rows||4===m.button&&32===m.action||3===m.button&&32!==m.action||4!==m.button&&(2===m.action||3===m.action)||(m.col++,m.row++,32===m.action&&this._lastEvent&&this._equalEvents(this._lastEvent,m,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(m))return!1;const v=this._encodings[this._activeEncoding](m);return v&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(v):this._coreService.triggerDataEvent(v,!0)),this._lastEvent=m,!0}explainEvents(m){return{down:!!(1&m),up:!!(2&m),drag:!!(4&m),move:!!(8&m),wheel:!!(16&m)}}_equalEvents(m,v,k){if(k){if(m.x!==v.x||m.y!==v.y)return!1}else if(m.col!==v.col||m.row!==v.row)return!1;return m.button===v.button&&m.action===v.action&&m.ctrl===v.ctrl&&m.alt===v.alt&&m.shift===v.shift}};h=g([C(0,p.IBufferService),C(1,p.ICoreService)],h),l.CoreMouseService=h},6975:function(E,l,d){var g=this&&this.__decorate||function(h,m,v,k){var T,O=arguments.length,f=O<3?m:null===k?k=Object.getOwnPropertyDescriptor(m,v):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)f=Reflect.decorate(h,m,v,k);else for(var S=h.length-1;S>=0;S--)(T=h[S])&&(f=(O<3?T(f):O>3?T(m,v,f):T(m,v))||f);return O>3&&f&&Object.defineProperty(m,v,f),f},C=this&&this.__param||function(h,m){return function(v,k){m(v,k,h)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const p=d(2585),y=d(8460),x=d(1439),w=d(844),b=Object.freeze({insertMode:!1}),o=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let u=class extends w.Disposable{constructor(h,m,v){super(),this._bufferService=h,this._logService=m,this._optionsService=v,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new y.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new y.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new y.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new y.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,x.clone)(b),this.decPrivateModes=(0,x.clone)(o)}reset(){this.modes=(0,x.clone)(b),this.decPrivateModes=(0,x.clone)(o)}triggerDataEvent(h,m=!1){if(this._optionsService.rawOptions.disableStdin)return;const v=this._bufferService.buffer;m&&this._optionsService.rawOptions.scrollOnUserInput&&v.ybase!==v.ydisp&&this._onRequestScrollToBottom.fire(),m&&this._onUserInput.fire(),this._logService.debug(`sending data "${h}"`,()=>h.split("").map(k=>k.charCodeAt(0))),this._onData.fire(h)}triggerBinaryEvent(h){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${h}"`,()=>h.split("").map(m=>m.charCodeAt(0))),this._onBinary.fire(h))}};u=g([C(0,p.IBufferService),C(1,p.ILogService),C(2,p.IOptionsService)],u),l.CoreService=u},9074:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const g=d(8055),C=d(8460),p=d(844),y=d(6106);let x=0,w=0;l.DecorationService=class b extends p.Disposable{constructor(){super(),this._decorations=new y.SortedList(h=>h?.marker.line),this._onDecorationRegistered=this.register(new C.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new C.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,p.toDisposable)(()=>{for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(h){if(h.marker.isDisposed)return;const m=new o(h);if(m){const v=m.marker.onDispose(()=>m.dispose());m.onDispose(()=>{m&&(this._decorations.delete(m)&&this._onDecorationRemoved.fire(m),v.dispose())}),this._decorations.insert(m),this._onDecorationRegistered.fire(m)}return m}reset(){for(const h of this._decorations.values())h.dispose();this._decorations.clear()}*getDecorationsAtCell(h,m,v){var k,T,O;let f=0,S=0;for(const N of this._decorations.getKeyIterator(m))f=null!==(k=N.options.x)&&void 0!==k?k:0,S=f+(null!==(T=N.options.width)&&void 0!==T?T:1),h>=f&&h<S&&(!v||(null!==(O=N.options.layer)&&void 0!==O?O:"bottom")===v)&&(yield N)}forEachDecorationAtCell(h,m,v,k){this._decorations.forEachByKey(m,T=>{var O,f,S;x=null!==(O=T.options.x)&&void 0!==O?O:0,w=x+(null!==(f=T.options.width)&&void 0!==f?f:1),h>=x&&h<w&&(!v||(null!==(S=T.options.layer)&&void 0!==S?S:"bottom")===v)&&k(T)})}dispose(){for(const h of this._decorations.values())this._onDecorationRemoved.fire(h);this.reset()}};class o extends p.Disposable{constructor(h){super(),this.options=h,this.onRenderEmitter=this.register(new C.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new C.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=h.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?g.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?g.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const g=d(2585),C=d(8343);class p{constructor(...x){this._entries=new Map;for(const[w,b]of x)this.set(w,b)}set(x,w){const b=this._entries.get(x);return this._entries.set(x,w),b}forEach(x){for(const[w,b]of this._entries.entries())x(w,b)}has(x){return this._entries.has(x)}get(x){return this._entries.get(x)}}l.ServiceCollection=p,l.InstantiationService=class{constructor(){this._services=new p,this._services.set(g.IInstantiationService,this)}setService(y,x){this._services.set(y,x)}getService(y){return this._services.get(y)}createInstance(y,...x){const w=(0,C.getServiceDependencies)(y).sort((u,h)=>u.index-h.index),b=[];for(const u of w){const h=this._services.get(u.id);if(!h)throw new Error(`[createInstance] ${y.name} depends on UNKNOWN service ${u.id}.`);b.push(h)}const o=w.length>0?w[0].index:x.length;if(x.length!==o)throw new Error(`[createInstance] First service dependency of ${y.name} at position ${o+1} conflicts with ${x.length} static arguments`);return new y(...x,...b)}}},7866:function(E,l,d){var g=this&&this.__decorate||function(b,o,u,h){var m,v=arguments.length,k=v<3?o:null===h?h=Object.getOwnPropertyDescriptor(o,u):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(b,o,u,h);else for(var T=b.length-1;T>=0;T--)(m=b[T])&&(k=(v<3?m(k):v>3?m(o,u,k):m(o,u))||k);return v>3&&k&&Object.defineProperty(o,u,k),k},C=this&&this.__param||function(b,o){return function(u,h){o(u,h,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.LogService=void 0;const p=d(844),y=d(2585),x={debug:y.LogLevelEnum.DEBUG,info:y.LogLevelEnum.INFO,warn:y.LogLevelEnum.WARN,error:y.LogLevelEnum.ERROR,off:y.LogLevelEnum.OFF};let w=class extends p.Disposable{constructor(b){super(),this._optionsService=b,this.logLevel=y.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=x[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(b){for(let o=0;o<b.length;o++)"function"==typeof b[o]&&(b[o]=b[o]())}_log(b,o,u){this._evalLazyOptionalParams(u),b.call(console,"xterm.js: "+o,...u)}debug(b,...o){this.logLevel<=y.LogLevelEnum.DEBUG&&this._log(console.log,b,o)}info(b,...o){this.logLevel<=y.LogLevelEnum.INFO&&this._log(console.info,b,o)}warn(b,...o){this.logLevel<=y.LogLevelEnum.WARN&&this._log(console.warn,b,o)}error(b,...o){this.logLevel<=y.LogLevelEnum.ERROR&&this._log(console.error,b,o)}};w=g([C(0,y.IOptionsService)],w),l.LogService=w},7302:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const g=d(8460),C=d(6114),p=d(844);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:C.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const y=["normal","bold","100","200","300","400","500","600","700","800","900"];l.OptionsService=class x extends p.Disposable{constructor(b){super(),this._onOptionChange=this.register(new g.EventEmitter),this.onOptionChange=this._onOptionChange.event;const o=Object.assign({},l.DEFAULT_OPTIONS);for(const u in b)if(u in o)try{o[u]=this._sanitizeAndValidateOption(u,b[u])}catch(h){console.error(h)}this.rawOptions=o,this.options=Object.assign({},o),this._setupOptions()}onSpecificOptionChange(b,o){return this.onOptionChange(u=>{u===b&&o(this.rawOptions[b])})}onMultipleOptionChange(b,o){return this.onOptionChange(u=>{-1!==b.indexOf(u)&&o()})}_setupOptions(){const b=u=>{if(!(u in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);return this.rawOptions[u]},o=(u,h)=>{if(!(u in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);h=this._sanitizeAndValidateOption(u,h),this.rawOptions[u]!==h&&(this.rawOptions[u]=h,this._onOptionChange.fire(u))};for(const u in this.rawOptions){const h={get:b.bind(this,u),set:o.bind(this,u)};Object.defineProperty(this.options,u,h)}}_sanitizeAndValidateOption(b,o){switch(b){case"cursorStyle":if(o||(o=l.DEFAULT_OPTIONS[b]),"block"!==(u=o)&&"underline"!==u&&"bar"!==u)throw new Error(`"${o}" is not a valid value for ${b}`);break;case"wordSeparator":o||(o=l.DEFAULT_OPTIONS[b]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof o&&1<=o&&o<=1e3)break;o=y.includes(o)?o:l.DEFAULT_OPTIONS[b];break;case"cursorWidth":o=Math.floor(o);case"lineHeight":case"tabStopWidth":if(o<1)throw new Error(`${b} cannot be less than 1, value: ${o}`);break;case"minimumContrastRatio":o=Math.max(1,Math.min(21,Math.round(10*o)/10));break;case"scrollback":if((o=Math.min(o,4294967295))<0)throw new Error(`${b} cannot be less than 0, value: ${o}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(o<=0)throw new Error(`${b} cannot be less than or equal to 0, value: ${o}`);break;case"rows":case"cols":if(!o&&0!==o)throw new Error(`${b} must be numeric, value: ${o}`);break;case"windowsPty":o=o??{}}var u;return o}}},2660:function(E,l,d){var g=this&&this.__decorate||function(x,w,b,o){var u,h=arguments.length,m=h<3?w:null===o?o=Object.getOwnPropertyDescriptor(w,b):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(x,w,b,o);else for(var v=x.length-1;v>=0;v--)(u=x[v])&&(m=(h<3?u(m):h>3?u(w,b,m):u(w,b))||m);return h>3&&m&&Object.defineProperty(w,b,m),m},C=this&&this.__param||function(x,w){return function(b,o){w(b,o,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const p=d(2585);let y=class{constructor(x){this._bufferService=x,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(x){const w=this._bufferService.buffer;if(void 0===x.id){const v=w.addMarker(w.ybase+w.y),k={data:x,id:this._nextId++,lines:[v]};return v.onDispose(()=>this._removeMarkerFromLink(k,v)),this._dataByLinkId.set(k.id,k),k.id}const b=x,o=this._getEntryIdKey(b),u=this._entriesWithId.get(o);if(u)return this.addLineToLink(u.id,w.ybase+w.y),u.id;const h=w.addMarker(w.ybase+w.y),m={id:this._nextId++,key:this._getEntryIdKey(b),data:b,lines:[h]};return h.onDispose(()=>this._removeMarkerFromLink(m,h)),this._entriesWithId.set(m.key,m),this._dataByLinkId.set(m.id,m),m.id}addLineToLink(x,w){const b=this._dataByLinkId.get(x);if(b&&b.lines.every(o=>o.line!==w)){const o=this._bufferService.buffer.addMarker(w);b.lines.push(o),o.onDispose(()=>this._removeMarkerFromLink(b,o))}}getLinkData(x){var w;return null===(w=this._dataByLinkId.get(x))||void 0===w?void 0:w.data}_getEntryIdKey(x){return`${x.id};;${x.uri}`}_removeMarkerFromLink(x,w){const b=x.lines.indexOf(w);-1!==b&&(x.lines.splice(b,1),0===x.lines.length&&(void 0!==x.data.id&&this._entriesWithId.delete(x.key),this._dataByLinkId.delete(x.id)))}};y=g([C(0,p.IBufferService)],y),l.OscLinkService=y},8343:(E,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0,l.serviceRegistry=new Map,l.getServiceDependencies=function(g){return g.di$dependencies||[]},l.createDecorator=function(g){if(l.serviceRegistry.has(g))return l.serviceRegistry.get(g);const C=function(p,y,x){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function d(g,C,p){C.di$target===C?C.di$dependencies.push({id:g,index:p}):(C.di$dependencies=[{id:g,index:p}],C.di$target=C)}(C,p,x)};return C.toString=()=>g,l.serviceRegistry.set(g,C),C}},2585:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const g=d(8343);var C;l.IBufferService=(0,g.createDecorator)("BufferService"),l.ICoreMouseService=(0,g.createDecorator)("CoreMouseService"),l.ICoreService=(0,g.createDecorator)("CoreService"),l.ICharsetService=(0,g.createDecorator)("CharsetService"),l.IInstantiationService=(0,g.createDecorator)("InstantiationService"),(C=l.LogLevelEnum||(l.LogLevelEnum={}))[C.DEBUG=0]="DEBUG",C[C.INFO=1]="INFO",C[C.WARN=2]="WARN",C[C.ERROR=3]="ERROR",C[C.OFF=4]="OFF",l.ILogService=(0,g.createDecorator)("LogService"),l.IOptionsService=(0,g.createDecorator)("OptionsService"),l.IOscLinkService=(0,g.createDecorator)("OscLinkService"),l.IUnicodeService=(0,g.createDecorator)("UnicodeService"),l.IDecorationService=(0,g.createDecorator)("DecorationService")},1480:(E,l,d)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const g=d(8460),C=d(225);l.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new g.EventEmitter,this.onChange=this._onChange.event;const p=new C.UnicodeV6;this.register(p),this._active=p.version,this._activeProvider=p}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(p){if(!this._providers[p])throw new Error(`unknown Unicode version "${p}"`);this._active=p,this._activeProvider=this._providers[p],this._onChange.fire(p)}register(p){this._providers[p.version]=p}wcwidth(p){return this._activeProvider.wcwidth(p)}getStringCellWidth(p){let y=0;const x=p.length;for(let w=0;w<x;++w){let b=p.charCodeAt(w);if(55296<=b&&b<=56319){if(++w>=x)return y+this.wcwidth(b);const o=p.charCodeAt(w);56320<=o&&o<=57343?b=1024*(b-55296)+o-56320+65536:y+=this.wcwidth(o)}y+=this.wcwidth(b)}return y}}}},M={};function c(E){var l=M[E];if(void 0!==l)return l.exports;var d=M[E]={exports:{}};return ke[E].call(d.exports,d,d.exports,c),d.exports}var n={};return(()=>{var E=n;Object.defineProperty(E,"__esModule",{value:!0}),E.Terminal=void 0;const l=c(3236),d=c(9042),g=c(7975),C=c(7090),p=c(5741),y=c(8285),x=["cols","rows"];E.Terminal=class{constructor(w){this._core=new l.Terminal(w),this._addonManager=new p.AddonManager,this._publicOptions=Object.assign({},this._core.options);const b=u=>this._core.options[u],o=(u,h)=>{this._checkReadonlyOptions(u),this._core.options[u]=h};for(const u in this._core.options){const h={get:b.bind(this,u),set:o.bind(this,u)};Object.defineProperty(this._publicOptions,u,h)}}_checkReadonlyOptions(w){if(x.includes(w))throw new Error(`Option "${w}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new C.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new y.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const w=this._core.coreService.decPrivateModes;let b="none";switch(this._core.coreMouseService.activeProtocol){case"X10":b="x10";break;case"VT200":b="vt200";break;case"DRAG":b="drag";break;case"ANY":b="any"}return{applicationCursorKeysMode:w.applicationCursorKeys,applicationKeypadMode:w.applicationKeypad,bracketedPasteMode:w.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:b,originMode:w.origin,reverseWraparoundMode:w.reverseWraparound,sendFocusMode:w.sendFocus,wraparoundMode:w.wraparound}}get options(){return this._publicOptions}set options(w){for(const b in w)this._publicOptions[b]=w[b]}blur(){this._core.blur()}focus(){this._core.focus()}resize(w,b){this._verifyIntegers(w,b),this._core.resize(w,b)}open(w){this._core.open(w)}attachCustomKeyEventHandler(w){this._core.attachCustomKeyEventHandler(w)}registerLinkProvider(w){return this._core.registerLinkProvider(w)}registerCharacterJoiner(w){return this._checkProposedApi(),this._core.registerCharacterJoiner(w)}deregisterCharacterJoiner(w){this._checkProposedApi(),this._core.deregisterCharacterJoiner(w)}registerMarker(w=0){return this._verifyIntegers(w),this._core.addMarker(w)}registerDecoration(w){var b,o,u;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(b=w.x)&&void 0!==b?b:0,null!==(o=w.width)&&void 0!==o?o:0,null!==(u=w.height)&&void 0!==u?u:0),this._core.registerDecoration(w)}hasSelection(){return this._core.hasSelection()}select(w,b,o){this._verifyIntegers(w,b,o),this._core.select(w,b,o)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(w,b){this._verifyIntegers(w,b),this._core.selectLines(w,b)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(w){this._verifyIntegers(w),this._core.scrollLines(w)}scrollPages(w){this._verifyIntegers(w),this._core.scrollPages(w)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(w){this._verifyIntegers(w),this._core.scrollToLine(w)}clear(){this._core.clear()}write(w,b){this._core.write(w,b)}writeln(w,b){this._core.write(w),this._core.write("\r\n",b)}paste(w){this._core.paste(w)}refresh(w,b){this._verifyIntegers(w,b),this._core.refresh(w,b)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(w){return this._addonManager.loadAddon(this,w)}static get strings(){return d}_verifyIntegers(...w){for(const b of w)if(b===1/0||isNaN(b)||b%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...w){for(const b of w)if(b&&(b===1/0||isNaN(b)||b%1!=0||b<0))throw new Error("This API only accepts positive integers")}}})(),n})()},6825:(Qe,ke,M)=>{function l(O,f){return{type:7,name:O,definitions:f,options:{}}}function d(O,f=null){return{type:4,styles:f,timings:O}}function g(O,f=null){return{type:3,steps:O,options:f}}function p(O){return{type:6,styles:O,offset:null}}function y(O,f,S){return{type:0,name:O,styles:f,options:S}}function x(O){return{type:5,steps:O}}function w(O,f,S=null){return{type:1,expr:O,animation:f,options:S}}function o(O=null){return{type:9,options:O}}function h(O,f,S=null){return{type:11,selector:O,animation:f,options:S}}M.d(ke,{F4:()=>x,IO:()=>h,SB:()=>y,X$:()=>l,eR:()=>w,jt:()=>d,oB:()=>p,pV:()=>o,ru:()=>g})},7849:(Qe,ke,M)=>{M.d(ke,{rt:()=>pe,Em:()=>q,tE:()=>dt,qV:()=>At,qm:()=>Z,ic:()=>Te,Zf:()=>_e,X6:()=>it,yG:()=>pt,iD:()=>Ve});var c=M(3595),n=M(7970),E=M(2831),l=M(8645),d=M(7394),g=M(5619),C=M(2096),p=M(6028),y=M(9397),x=M(3620),w=M(2181),b=M(7398),o=M(8180);function u(re){return(0,w.h)((ne,we)=>re<=we)}var h=M(3997),m=M(9773),v=M(2495),k=M(7131),T=M(2572),O=M(5211),f=M(5592),S=M(7921);const ee=new Set;let Q,se=(()=>{var re;class ne{constructor(ce,fe){this._platform=ce,this._nonce=fe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ze}matchMedia(ce){return(this._platform.WEBKIT||this._platform.BLINK)&&function Re(re,ne){if(!ee.has(re))try{Q||(Q=document.createElement("style"),ne&&(Q.nonce=ne),Q.setAttribute("type","text/css"),document.head.appendChild(Q)),Q.sheet&&(Q.sheet.insertRule(`@media ${re} {body{ }}`,0),ee.add(re))}catch(we){console.error(we)}}(ce,this._nonce),this._matchMedia(ce)}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(n.CSP_NONCE,8))},re.\u0275prov=n.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"}),ne})();function ze(re){return{matches:"all"===re||""===re,media:re,addListener:()=>{},removeListener:()=>{}}}let Be=(()=>{var re;class ne{constructor(ce,fe){this._mediaMatcher=ce,this._zone=fe,this._queries=new Map,this._destroySubject=new l.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ce){return U((0,v.Eq)(ce)).some(Ue=>this._registerQuery(Ue).mql.matches)}observe(ce){const Ue=U((0,v.Eq)(ce)).map(at=>this._registerQuery(at).observable);let tt=(0,T.a)(Ue);return tt=(0,O.z)(tt.pipe((0,o.q)(1)),tt.pipe(u(1),(0,x.b)(0))),tt.pipe((0,b.U)(at=>{const vt={matches:!1,breakpoints:{}};return at.forEach(({matches:St,query:ct})=>{vt.matches=vt.matches||St,vt.breakpoints[ct]=St}),vt}))}_registerQuery(ce){if(this._queries.has(ce))return this._queries.get(ce);const fe=this._mediaMatcher.matchMedia(ce),tt={observable:new f.y(at=>{const vt=St=>this._zone.run(()=>at.next(St));return fe.addListener(vt),()=>{fe.removeListener(vt)}}).pipe((0,S.O)(fe),(0,b.U)(({matches:at})=>({query:ce,matches:at})),(0,m.R)(this._destroySubject)),mql:fe};return this._queries.set(ce,tt),tt}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(se),n.\u0275\u0275inject(n.NgZone))},re.\u0275prov=n.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"}),ne})();function U(re){return re.map(ne=>ne.split(",")).reduce((ne,we)=>ne.concat(we)).map(ne=>ne.trim())}const ue=" ";function _e(re,ne,we){const ce=Ke(re,ne);ce.some(fe=>fe.trim()==we.trim())||(ce.push(we.trim()),re.setAttribute(ne,ce.join(ue)))}function Ve(re,ne,we){const fe=Ke(re,ne).filter(Ue=>Ue!=we.trim());fe.length?re.setAttribute(ne,fe.join(ue)):re.removeAttribute(ne)}function Ke(re,ne){return(re.getAttribute(ne)||"").match(/\S+/g)||[]}class Fe{constructor(ne){this._items=ne,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new l.x,this._typeaheadSubscription=d.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=we=>we.disabled,this._pressedLetters=[],this.tabOut=new l.x,this.change=new l.x,ne instanceof n.QueryList&&(this._itemChangesSubscription=ne.changes.subscribe(we=>{if(this._activeItem){const fe=we.toArray().indexOf(this._activeItem);fe>-1&&fe!==this._activeItemIndex&&(this._activeItemIndex=fe)}}))}skipPredicate(ne){return this._skipPredicateFn=ne,this}withWrap(ne=!0){return this._wrap=ne,this}withVerticalOrientation(ne=!0){return this._vertical=ne,this}withHorizontalOrientation(ne){return this._horizontal=ne,this}withAllowedModifierKeys(ne){return this._allowedModifierKeys=ne,this}withTypeAhead(ne=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,y.b)(we=>this._pressedLetters.push(we)),(0,x.b)(ne),(0,w.h)(()=>this._pressedLetters.length>0),(0,b.U)(()=>this._pressedLetters.join(""))).subscribe(we=>{const ce=this._getItemsArray();for(let fe=1;fe<ce.length+1;fe++){const Ue=(this._activeItemIndex+fe)%ce.length,tt=ce[Ue];if(!this._skipPredicateFn(tt)&&0===tt.getLabel().toUpperCase().trim().indexOf(we)){this.setActiveItem(Ue);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ne=!0){return this._homeAndEnd=ne,this}withPageUpDown(ne=!0,we=10){return this._pageUpAndDown={enabled:ne,delta:we},this}setActiveItem(ne){const we=this._activeItem;this.updateActiveItem(ne),this._activeItem!==we&&this.change.next(this._activeItemIndex)}onKeydown(ne){const we=ne.keyCode,fe=["altKey","ctrlKey","metaKey","shiftKey"].every(Ue=>!ne[Ue]||this._allowedModifierKeys.indexOf(Ue)>-1);switch(we){case p.Mf:return void this.tabOut.next();case p.JH:if(this._vertical&&fe){this.setNextItemActive();break}return;case p.LH:if(this._vertical&&fe){this.setPreviousItemActive();break}return;case p.SV:if(this._horizontal&&fe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case p.oh:if(this._horizontal&&fe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case p.Sd:if(this._homeAndEnd&&fe){this.setFirstItemActive();break}return;case p.uR:if(this._homeAndEnd&&fe){this.setLastItemActive();break}return;case p.Ku:if(this._pageUpAndDown.enabled&&fe){const Ue=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Ue>0?Ue:0,1);break}return;case p.VM:if(this._pageUpAndDown.enabled&&fe){const Ue=this._activeItemIndex+this._pageUpAndDown.delta,tt=this._getItemsArray().length;this._setActiveItemByIndex(Ue<tt?Ue:tt-1,-1);break}return;default:return void((fe||(0,p.Vb)(ne,"shiftKey"))&&(ne.key&&1===ne.key.length?this._letterKeyStream.next(ne.key.toLocaleUpperCase()):(we>=p.A&&we<=p.Z||we>=p.xE&&we<=p.aO)&&this._letterKeyStream.next(String.fromCharCode(we))))}this._pressedLetters=[],ne.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ne){const we=this._getItemsArray(),ce="number"==typeof ne?ne:we.indexOf(ne);this._activeItem=we[ce]??null,this._activeItemIndex=ce}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ne){this._wrap?this._setActiveInWrapMode(ne):this._setActiveInDefaultMode(ne)}_setActiveInWrapMode(ne){const we=this._getItemsArray();for(let ce=1;ce<=we.length;ce++){const fe=(this._activeItemIndex+ne*ce+we.length)%we.length;if(!this._skipPredicateFn(we[fe]))return void this.setActiveItem(fe)}}_setActiveInDefaultMode(ne){this._setActiveItemByIndex(this._activeItemIndex+ne,ne)}_setActiveItemByIndex(ne,we){const ce=this._getItemsArray();if(ce[ne]){for(;this._skipPredicateFn(ce[ne]);)if(!ce[ne+=we])return;this.setActiveItem(ne)}}_getItemsArray(){return this._items instanceof n.QueryList?this._items.toArray():this._items}}class q extends Fe{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ne){return this._origin=ne,this}setActiveItem(ne){super.setActiveItem(ne),this.activeItem&&this.activeItem.focus(this._origin)}}let Te=(()=>{var re;class ne{constructor(ce){this._platform=ce}isDisabled(ce){return ce.hasAttribute("disabled")}isVisible(ce){return function Ee(re){return!!(re.offsetWidth||re.offsetHeight||"function"==typeof re.getClientRects&&re.getClientRects().length)}(ce)&&"visible"===getComputedStyle(ce).visibility}isTabbable(ce){if(!this._platform.isBrowser)return!1;const fe=function ie(re){try{return re.frameElement}catch{return null}}(function xt(re){return re.ownerDocument&&re.ownerDocument.defaultView||window}(ce));if(fe&&(-1===lt(fe)||!this.isVisible(fe)))return!1;let Ue=ce.nodeName.toLowerCase(),tt=lt(ce);return ce.hasAttribute("contenteditable")?-1!==tt:!("iframe"===Ue||"object"===Ue||this._platform.WEBKIT&&this._platform.IOS&&!function ut(re){let ne=re.nodeName.toLowerCase(),we="input"===ne&&re.type;return"text"===we||"password"===we||"select"===ne||"textarea"===ne}(ce))&&("audio"===Ue?!!ce.hasAttribute("controls")&&-1!==tt:"video"===Ue?-1!==tt&&(null!==tt||this._platform.FIREFOX||ce.hasAttribute("controls")):ce.tabIndex>=0)}isFocusable(ce,fe){return function Ct(re){return!function ot(re){return function yt(re){return"input"==re.nodeName.toLowerCase()}(re)&&"hidden"==re.type}(re)&&(function Ze(re){let ne=re.nodeName.toLowerCase();return"input"===ne||"select"===ne||"button"===ne||"textarea"===ne}(re)||function mt(re){return function wt(re){return"a"==re.nodeName.toLowerCase()}(re)&&re.hasAttribute("href")}(re)||re.hasAttribute("contenteditable")||kt(re))}(ce)&&!this.isDisabled(ce)&&(fe?.ignoreVisibility||this.isVisible(ce))}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(E.t4))},re.\u0275prov=n.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"}),ne})();function kt(re){if(!re.hasAttribute("tabindex")||void 0===re.tabIndex)return!1;let ne=re.getAttribute("tabindex");return!(!ne||isNaN(parseInt(ne,10)))}function lt(re){if(!kt(re))return null;const ne=parseInt(re.getAttribute("tabindex")||"",10);return isNaN(ne)?-1:ne}class It{get enabled(){return this._enabled}set enabled(ne){this._enabled=ne,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ne,this._startAnchor),this._toggleAnchorTabIndex(ne,this._endAnchor))}constructor(ne,we,ce,fe,Ue=!1){this._element=ne,this._checker=we,this._ngZone=ce,this._document=fe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Ue||this.attachAnchors()}destroy(){const ne=this._startAnchor,we=this._endAnchor;ne&&(ne.removeEventListener("focus",this.startAnchorListener),ne.remove()),we&&(we.removeEventListener("focus",this.endAnchorListener),we.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ne){return new Promise(we=>{this._executeOnStable(()=>we(this.focusInitialElement(ne)))})}focusFirstTabbableElementWhenReady(ne){return new Promise(we=>{this._executeOnStable(()=>we(this.focusFirstTabbableElement(ne)))})}focusLastTabbableElementWhenReady(ne){return new Promise(we=>{this._executeOnStable(()=>we(this.focusLastTabbableElement(ne)))})}_getRegionBoundary(ne){const we=this._element.querySelectorAll(`[cdk-focus-region-${ne}], [cdkFocusRegion${ne}], [cdk-focus-${ne}]`);return"start"==ne?we.length?we[0]:this._getFirstTabbableElement(this._element):we.length?we[we.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ne){const we=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(we){if(!this._checker.isFocusable(we)){const ce=this._getFirstTabbableElement(we);return ce?.focus(ne),!!ce}return we.focus(ne),!0}return this.focusFirstTabbableElement(ne)}focusFirstTabbableElement(ne){const we=this._getRegionBoundary("start");return we&&we.focus(ne),!!we}focusLastTabbableElement(ne){const we=this._getRegionBoundary("end");return we&&we.focus(ne),!!we}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ne){if(this._checker.isFocusable(ne)&&this._checker.isTabbable(ne))return ne;const we=ne.children;for(let ce=0;ce<we.length;ce++){const fe=we[ce].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(we[ce]):null;if(fe)return fe}return null}_getLastTabbableElement(ne){if(this._checker.isFocusable(ne)&&this._checker.isTabbable(ne))return ne;const we=ne.children;for(let ce=we.length-1;ce>=0;ce--){const fe=we[ce].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(we[ce]):null;if(fe)return fe}return null}_createAnchor(){const ne=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ne),ne.classList.add("cdk-visually-hidden"),ne.classList.add("cdk-focus-trap-anchor"),ne.setAttribute("aria-hidden","true"),ne}_toggleAnchorTabIndex(ne,we){ne?we.setAttribute("tabindex","0"):we.removeAttribute("tabindex")}toggleAnchors(ne){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ne,this._startAnchor),this._toggleAnchorTabIndex(ne,this._endAnchor))}_executeOnStable(ne){this._ngZone.isStable?ne():this._ngZone.onStable.pipe((0,o.q)(1)).subscribe(ne)}}let At=(()=>{var re;class ne{constructor(ce,fe,Ue){this._checker=ce,this._ngZone=fe,this._document=Ue}create(ce,fe=!1){return new It(ce,this._checker,this._ngZone,this._document,fe)}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(Te),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(c.DOCUMENT))},re.\u0275prov=n.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"}),ne})();function it(re){return 0===re.buttons||0===re.offsetX&&0===re.offsetY}function pt(re){const ne=re.touches&&re.touches[0]||re.changedTouches&&re.changedTouches[0];return!(!ne||-1!==ne.identifier||null!=ne.radiusX&&1!==ne.radiusX||null!=ne.radiusY&&1!==ne.radiusY)}const Se=new n.InjectionToken("cdk-input-modality-detector-options"),Le={ignoreKeys:[p.zL,p.jx,p.b2,p.MW,p.JU]},oe=(0,E.i$)({passive:!0,capture:!0});let ye=(()=>{var re;class ne{get mostRecentModality(){return this._modality.value}constructor(ce,fe,Ue,tt){this._platform=ce,this._mostRecentTarget=null,this._modality=new g.X(null),this._lastTouchMs=0,this._onKeydown=at=>{this._options?.ignoreKeys?.some(vt=>vt===at.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(at))},this._onMousedown=at=>{Date.now()-this._lastTouchMs<650||(this._modality.next(it(at)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(at))},this._onTouchstart=at=>{pt(at)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(at))},this._options={...Le,...tt},this.modalityDetected=this._modality.pipe(u(1)),this.modalityChanged=this.modalityDetected.pipe((0,h.x)()),ce.isBrowser&&fe.runOutsideAngular(()=>{Ue.addEventListener("keydown",this._onKeydown,oe),Ue.addEventListener("mousedown",this._onMousedown,oe),Ue.addEventListener("touchstart",this._onTouchstart,oe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,oe),document.removeEventListener("mousedown",this._onMousedown,oe),document.removeEventListener("touchstart",this._onTouchstart,oe))}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(c.DOCUMENT),n.\u0275\u0275inject(Se,8))},re.\u0275prov=n.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"}),ne})();const Oe=new n.InjectionToken("cdk-focus-monitor-default-options"),et=(0,E.i$)({passive:!0,capture:!0});let dt=(()=>{var re;class ne{constructor(ce,fe,Ue,tt,at){this._ngZone=ce,this._platform=fe,this._inputModalityDetector=Ue,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new l.x,this._rootNodeFocusAndBlurListener=vt=>{for(let ct=(0,E.sA)(vt);ct;ct=ct.parentElement)"focus"===vt.type?this._onFocus(vt,ct):this._onBlur(vt,ct)},this._document=tt,this._detectionMode=at?.detectionMode||0}monitor(ce,fe=!1){const Ue=(0,v.fI)(ce);if(!this._platform.isBrowser||1!==Ue.nodeType)return(0,C.of)();const tt=(0,E.kV)(Ue)||this._getDocument(),at=this._elementInfo.get(Ue);if(at)return fe&&(at.checkChildren=!0),at.subject;const vt={checkChildren:fe,subject:new l.x,rootNode:tt};return this._elementInfo.set(Ue,vt),this._registerGlobalListeners(vt),vt.subject}stopMonitoring(ce){const fe=(0,v.fI)(ce),Ue=this._elementInfo.get(fe);Ue&&(Ue.subject.complete(),this._setClasses(fe),this._elementInfo.delete(fe),this._removeGlobalListeners(Ue))}focusVia(ce,fe,Ue){const tt=(0,v.fI)(ce);tt===this._getDocument().activeElement?this._getClosestElementsInfo(tt).forEach(([vt,St])=>this._originChanged(vt,fe,St)):(this._setOrigin(fe),"function"==typeof tt.focus&&tt.focus(Ue))}ngOnDestroy(){this._elementInfo.forEach((ce,fe)=>this.stopMonitoring(fe))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(ce){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(ce)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:ce&&this._isLastInteractionFromInputLabel(ce)?"mouse":"program"}_shouldBeAttributedToTouch(ce){return 1===this._detectionMode||!!ce?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(ce,fe){ce.classList.toggle("cdk-focused",!!fe),ce.classList.toggle("cdk-touch-focused","touch"===fe),ce.classList.toggle("cdk-keyboard-focused","keyboard"===fe),ce.classList.toggle("cdk-mouse-focused","mouse"===fe),ce.classList.toggle("cdk-program-focused","program"===fe)}_setOrigin(ce,fe=!1){this._ngZone.runOutsideAngular(()=>{this._origin=ce,this._originFromTouchInteraction="touch"===ce&&fe,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(ce,fe){const Ue=this._elementInfo.get(fe),tt=(0,E.sA)(ce);!Ue||!Ue.checkChildren&&fe!==tt||this._originChanged(fe,this._getFocusOrigin(tt),Ue)}_onBlur(ce,fe){const Ue=this._elementInfo.get(fe);!Ue||Ue.checkChildren&&ce.relatedTarget instanceof Node&&fe.contains(ce.relatedTarget)||(this._setClasses(fe),this._emitOrigin(Ue,null))}_emitOrigin(ce,fe){ce.subject.observers.length&&this._ngZone.run(()=>ce.subject.next(fe))}_registerGlobalListeners(ce){if(!this._platform.isBrowser)return;const fe=ce.rootNode,Ue=this._rootNodeFocusListenerCount.get(fe)||0;Ue||this._ngZone.runOutsideAngular(()=>{fe.addEventListener("focus",this._rootNodeFocusAndBlurListener,et),fe.addEventListener("blur",this._rootNodeFocusAndBlurListener,et)}),this._rootNodeFocusListenerCount.set(fe,Ue+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,m.R)(this._stopInputModalityDetector)).subscribe(tt=>{this._setOrigin(tt,!0)}))}_removeGlobalListeners(ce){const fe=ce.rootNode;if(this._rootNodeFocusListenerCount.has(fe)){const Ue=this._rootNodeFocusListenerCount.get(fe);Ue>1?this._rootNodeFocusListenerCount.set(fe,Ue-1):(fe.removeEventListener("focus",this._rootNodeFocusAndBlurListener,et),fe.removeEventListener("blur",this._rootNodeFocusAndBlurListener,et),this._rootNodeFocusListenerCount.delete(fe))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(ce,fe,Ue){this._setClasses(ce,fe),this._emitOrigin(Ue,fe),this._lastFocusOrigin=fe}_getClosestElementsInfo(ce){const fe=[];return this._elementInfo.forEach((Ue,tt)=>{(tt===ce||Ue.checkChildren&&tt.contains(ce))&&fe.push([tt,Ue])}),fe}_isLastInteractionFromInputLabel(ce){const{_mostRecentTarget:fe,mostRecentModality:Ue}=this._inputModalityDetector;if("mouse"!==Ue||!fe||fe===ce||"INPUT"!==ce.nodeName&&"TEXTAREA"!==ce.nodeName||ce.disabled)return!1;const tt=ce.labels;if(tt)for(let at=0;at<tt.length;at++)if(tt[at].contains(fe))return!0;return!1}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(ye),n.\u0275\u0275inject(c.DOCUMENT,8),n.\u0275\u0275inject(Oe,8))},re.\u0275prov=n.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"}),ne})();const K="cdk-high-contrast-black-on-white",V="cdk-high-contrast-white-on-black",G="cdk-high-contrast-active";let Z=(()=>{var re;class ne{constructor(ce,fe){this._platform=ce,this._document=fe,this._breakpointSubscription=(0,n.inject)(Be).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const ce=this._document.createElement("div");ce.style.backgroundColor="rgb(1,2,3)",ce.style.position="absolute",this._document.body.appendChild(ce);const fe=this._document.defaultView||window,Ue=fe&&fe.getComputedStyle?fe.getComputedStyle(ce):null,tt=(Ue&&Ue.backgroundColor||"").replace(/ /g,"");switch(ce.remove(),tt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const ce=this._document.body.classList;ce.remove(G,K,V),this._hasCheckedHighContrastMode=!0;const fe=this.getHighContrastMode();1===fe?ce.add(G,K):2===fe&&ce.add(G,V)}}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(c.DOCUMENT))},re.\u0275prov=n.\u0275\u0275defineInjectable({token:re,factory:re.\u0275fac,providedIn:"root"}),ne})(),pe=(()=>{var re;class ne{constructor(ce){ce._applyBodyHighContrastModeCssClasses()}}return(re=ne).\u0275fac=function(ce){return new(ce||re)(n.\u0275\u0275inject(Z))},re.\u0275mod=n.\u0275\u0275defineNgModule({type:re}),re.\u0275inj=n.\u0275\u0275defineInjector({imports:[k.Q8]}),ne})()},9388:(Qe,ke,M)=>{M.d(ke,{Is:()=>C,vT:()=>y});var c=M(7970),n=M(3595);const E=new c.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function l(){return(0,c.inject)(n.DOCUMENT)}}),d=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let C=(()=>{var x;class w{constructor(o){this.value="ltr",this.change=new c.EventEmitter,o&&(this.value=function g(x){const w=x?.toLowerCase()||"";return"auto"===w&&typeof navigator<"u"&&navigator?.language?d.test(navigator.language)?"rtl":"ltr":"rtl"===w?"rtl":"ltr"}((o.body?o.body.dir:null)||(o.documentElement?o.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(x=w).\u0275fac=function(o){return new(o||x)(c.\u0275\u0275inject(E,8))},x.\u0275prov=c.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"}),w})(),y=(()=>{var x;class w{}return(x=w).\u0275fac=function(o){return new(o||x)},x.\u0275mod=c.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=c.\u0275\u0275defineInjector({}),w})()},2495:(Qe,ke,M)=>{M.d(ke,{Eq:()=>d,HM:()=>g,Ig:()=>n,fI:()=>C,su:()=>E});var c=M(7970);function n(y){return null!=y&&"false"!=`${y}`}function E(y,x=0){return function l(y){return!isNaN(parseFloat(y))&&!isNaN(Number(y))}(y)?Number(y):x}function d(y){return Array.isArray(y)?y:[y]}function g(y){return null==y?"":"string"==typeof y?y:`${y}px`}function C(y){return y instanceof c.ElementRef?y.nativeElement:y}},6028:(Qe,ke,M)=>{M.d(ke,{A:()=>j,JH:()=>O,JU:()=>g,K5:()=>d,Ku:()=>o,LH:()=>k,L_:()=>b,MW:()=>be,Mf:()=>E,SV:()=>T,Sd:()=>m,VM:()=>u,Vb:()=>ii,Z:()=>$e,ZH:()=>n,aO:()=>Ve,b2:()=>Vt,hY:()=>w,jx:()=>C,oh:()=>v,uR:()=>h,xE:()=>Q,yY:()=>ee,zL:()=>p});const n=8,E=9,d=13,g=16,C=17,p=18,w=27,b=32,o=33,u=34,h=35,m=36,v=37,k=38,T=39,O=40,ee=46,Q=48,Ve=57,j=65,$e=90,be=91,Vt=224;function ii($t,...ci){return ci.length?ci.some(ni=>$t[ni]):$t.altKey||$t.shiftKey||$t.ctrlKey||$t.metaKey}},7131:(Qe,ke,M)=>{M.d(ke,{Q8:()=>y,wD:()=>p});var c=M(2495),n=M(7970),E=M(5592),l=M(8645),d=M(3620);let g=(()=>{var x;class w{create(o){return typeof MutationObserver>"u"?null:new MutationObserver(o)}}return(x=w).\u0275fac=function(o){return new(o||x)},x.\u0275prov=n.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"}),w})(),C=(()=>{var x;class w{constructor(o){this._mutationObserverFactory=o,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((o,u)=>this._cleanupObserver(u))}observe(o){const u=(0,c.fI)(o);return new E.y(h=>{const v=this._observeElement(u).subscribe(h);return()=>{v.unsubscribe(),this._unobserveElement(u)}})}_observeElement(o){if(this._observedElements.has(o))this._observedElements.get(o).count++;else{const u=new l.x,h=this._mutationObserverFactory.create(m=>u.next(m));h&&h.observe(o,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(o,{observer:h,stream:u,count:1})}return this._observedElements.get(o).stream}_unobserveElement(o){this._observedElements.has(o)&&(this._observedElements.get(o).count--,this._observedElements.get(o).count||this._cleanupObserver(o))}_cleanupObserver(o){if(this._observedElements.has(o)){const{observer:u,stream:h}=this._observedElements.get(o);u&&u.disconnect(),h.complete(),this._observedElements.delete(o)}}}return(x=w).\u0275fac=function(o){return new(o||x)(n.\u0275\u0275inject(g))},x.\u0275prov=n.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"}),w})(),p=(()=>{var x;class w{get disabled(){return this._disabled}set disabled(o){this._disabled=(0,c.Ig)(o),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(o){this._debounce=(0,c.su)(o),this._subscribe()}constructor(o,u,h){this._contentObserver=o,this._elementRef=u,this._ngZone=h,this.event=new n.EventEmitter,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const o=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?o.pipe((0,d.b)(this.debounce)):o).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return(x=w).\u0275fac=function(o){return new(o||x)(n.\u0275\u0275directiveInject(C),n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.NgZone))},x.\u0275dir=n.\u0275\u0275defineDirective({type:x,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),w})(),y=(()=>{var x;class w{}return(x=w).\u0275fac=function(o){return new(o||x)},x.\u0275mod=n.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=n.\u0275\u0275defineInjector({providers:[g]}),w})()},2831:(Qe,ke,M)=>{M.d(ke,{Mq:()=>u,Oy:()=>f,_i:()=>h,ht:()=>T,i$:()=>w,kV:()=>k,sA:()=>O,t4:()=>l});var c=M(7970),n=M(3595);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let y,b,o,m,l=(()=>{var S;class N{constructor(Q){this._platformId=Q,this.isBrowser=this._platformId?(0,n.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(S=N).\u0275fac=function(Q){return new(Q||S)(c.\u0275\u0275inject(c.PLATFORM_ID))},S.\u0275prov=c.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),N})();function w(S){return function x(){if(null==y&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>y=!0}))}finally{y=y||!1}return y}()?S:!!S.capture}function u(){if(null==o){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return o=!1,o;if("scrollBehavior"in document.documentElement.style)o=!0;else{const S=Element.prototype.scrollTo;o=!!S&&!/\{\s*\[native code\]\s*\}/.test(S.toString())}}return o}function h(){if("object"!=typeof document||!document)return 0;if(null==b){const S=document.createElement("div"),N=S.style;S.dir="rtl",N.width="1px",N.overflow="auto",N.visibility="hidden",N.pointerEvents="none",N.position="absolute";const ee=document.createElement("div"),Q=ee.style;Q.width="2px",Q.height="1px",S.appendChild(ee),document.body.appendChild(S),b=0,0===S.scrollLeft&&(S.scrollLeft=1,b=0===S.scrollLeft?1:2),S.remove()}return b}function k(S){if(function v(){if(null==m){const S=typeof document<"u"?document.head:null;m=!(!S||!S.createShadowRoot&&!S.attachShadow)}return m}()){const N=S.getRootNode?S.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&N instanceof ShadowRoot)return N}return null}function T(){let S=typeof document<"u"&&document?document.activeElement:null;for(;S&&S.shadowRoot;){const N=S.shadowRoot.activeElement;if(N===S)break;S=N}return S}function O(S){return S.composedPath?S.composedPath()[0]:S.target}function f(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},799:(Qe,ke,M)=>{M.d(ke,{PQ:()=>ie,ZD:()=>It,mF:()=>Te,Cl:()=>At,rL:()=>Ze});var c=M(2495),n=M(7970),E=M(8645),l=M(2096),d=M(5592),g=M(2438),C=M(1954),p=M(7394);const y={schedule(Xe){let je=requestAnimationFrame,$e=cancelAnimationFrame;const{delegate:be}=y;be&&(je=be.requestAnimationFrame,$e=be.cancelAnimationFrame);const He=je(Je=>{$e=void 0,Xe(Je)});return new p.w0(()=>$e?.(He))},requestAnimationFrame(...Xe){const{delegate:je}=y;return(je?.requestAnimationFrame||requestAnimationFrame)(...Xe)},cancelAnimationFrame(...Xe){const{delegate:je}=y;return(je?.cancelAnimationFrame||cancelAnimationFrame)(...Xe)},delegate:void 0};var w=M(9931);new class b extends w.v{flush(je){this._active=!0;const $e=this._scheduled;this._scheduled=void 0;const{actions:be}=this;let He;je=je||be.shift();do{if(He=je.execute(je.state,je.delay))break}while((je=be[0])&&je.id===$e&&be.shift());if(this._active=!1,He){for(;(je=be[0])&&je.id===$e&&be.shift();)je.unsubscribe();throw He}}}(class x extends C.o{constructor(je,$e){super(je,$e),this.scheduler=je,this.work=$e}requestAsyncId(je,$e,be=0){return null!==be&&be>0?super.requestAsyncId(je,$e,be):(je.actions.push(this),je._scheduled||(je._scheduled=y.requestAnimationFrame(()=>je.flush(void 0))))}recycleAsyncId(je,$e,be=0){var He;if(null!=be?be>0:this.delay>0)return super.recycleAsyncId(je,$e,be);const{actions:Je}=je;null!=$e&&(null===(He=Je[Je.length-1])||void 0===He?void 0:He.id)!==$e&&(y.cancelAnimationFrame($e),je._scheduled=void 0)}});let m,h=1;const v={};function k(Xe){return Xe in v&&(delete v[Xe],!0)}const T={setImmediate(Xe){const je=h++;return v[je]=!0,m||(m=Promise.resolve()),m.then(()=>k(je)&&Xe()),je},clearImmediate(Xe){k(Xe)}},{setImmediate:f,clearImmediate:S}=T,N={setImmediate(...Xe){const{delegate:je}=N;return(je?.setImmediate||f)(...Xe)},clearImmediate(Xe){const{delegate:je}=N;return(je?.clearImmediate||S)(Xe)},delegate:void 0};new class Q extends w.v{flush(je){this._active=!0;const $e=this._scheduled;this._scheduled=void 0;const{actions:be}=this;let He;je=je||be.shift();do{if(He=je.execute(je.state,je.delay))break}while((je=be[0])&&je.id===$e&&be.shift());if(this._active=!1,He){for(;(je=be[0])&&je.id===$e&&be.shift();)je.unsubscribe();throw He}}}(class ee extends C.o{constructor(je,$e){super(je,$e),this.scheduler=je,this.work=$e}requestAsyncId(je,$e,be=0){return null!==be&&be>0?super.requestAsyncId(je,$e,be):(je.actions.push(this),je._scheduled||(je._scheduled=N.setImmediate(je.flush.bind(je,void 0))))}recycleAsyncId(je,$e,be=0){var He;if(null!=be?be>0:this.delay>0)return super.recycleAsyncId(je,$e,be);const{actions:Je}=je;null!=$e&&(null===(He=Je[Je.length-1])||void 0===He?void 0:He.id)!==$e&&(N.clearImmediate($e),je._scheduled===$e&&(je._scheduled=void 0))}});var ze=M(6321),Be=M(9360),U=M(4829),te=M(8251),_e=M(4825);function Ve(Xe,je=ze.z){return function ue(Xe){return(0,Be.e)((je,$e)=>{let be=!1,He=null,Je=null,it=!1;const pt=()=>{if(Je?.unsubscribe(),Je=null,be){be=!1;const Le=He;He=null,$e.next(Le)}it&&$e.complete()},Se=()=>{Je=null,it&&$e.complete()};je.subscribe((0,te.x)($e,Le=>{be=!0,He=Le,Je||(0,U.Xf)(Xe(Le)).subscribe(Je=(0,te.x)($e,pt,Se))},()=>{it=!0,(!be||!Je||Je.closed)&&$e.complete()}))})}(()=>(0,_e.H)(Xe,je))}var Ke=M(2181),ve=M(9773),le=M(2831),de=M(3595),j=M(9388);let Te=(()=>{var Xe;class je{constructor(be,He,Je){this._ngZone=be,this._platform=He,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Je}register(be){this.scrollContainers.has(be)||this.scrollContainers.set(be,be.elementScrolled().subscribe(()=>this._scrolled.next(be)))}deregister(be){const He=this.scrollContainers.get(be);He&&(He.unsubscribe(),this.scrollContainers.delete(be))}scrolled(be=20){return this._platform.isBrowser?new d.y(He=>{this._globalSubscription||this._addGlobalListener();const Je=be>0?this._scrolled.pipe(Ve(be)).subscribe(He):this._scrolled.subscribe(He);return this._scrolledCount++,()=>{Je.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,l.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((be,He)=>this.deregister(He)),this._scrolled.complete()}ancestorScrolled(be,He){const Je=this.getAncestorScrollContainers(be);return this.scrolled(He).pipe((0,Ke.h)(it=>!it||Je.indexOf(it)>-1))}getAncestorScrollContainers(be){const He=[];return this.scrollContainers.forEach((Je,it)=>{this._scrollableContainsElement(it,be)&&He.push(it)}),He}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(be,He){let Je=(0,c.fI)(He),it=be.getElementRef().nativeElement;do{if(Je==it)return!0}while(Je=Je.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const be=this._getWindow();return(0,g.R)(be.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(Xe=je).\u0275fac=function(be){return new(be||Xe)(n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(le.t4),n.\u0275\u0275inject(de.DOCUMENT,8))},Xe.\u0275prov=n.\u0275\u0275defineInjectable({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),je})(),ie=(()=>{var Xe;class je{constructor(be,He,Je,it){this.elementRef=be,this.scrollDispatcher=He,this.ngZone=Je,this.dir=it,this._destroyed=new E.x,this._elementScrolled=new d.y(pt=>this.ngZone.runOutsideAngular(()=>(0,g.R)(this.elementRef.nativeElement,"scroll").pipe((0,ve.R)(this._destroyed)).subscribe(pt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(be){const He=this.elementRef.nativeElement,Je=this.dir&&"rtl"==this.dir.value;null==be.left&&(be.left=Je?be.end:be.start),null==be.right&&(be.right=Je?be.start:be.end),null!=be.bottom&&(be.top=He.scrollHeight-He.clientHeight-be.bottom),Je&&0!=(0,le._i)()?(null!=be.left&&(be.right=He.scrollWidth-He.clientWidth-be.left),2==(0,le._i)()?be.left=be.right:1==(0,le._i)()&&(be.left=be.right?-be.right:be.right)):null!=be.right&&(be.left=He.scrollWidth-He.clientWidth-be.right),this._applyScrollToOptions(be)}_applyScrollToOptions(be){const He=this.elementRef.nativeElement;(0,le.Mq)()?He.scrollTo(be):(null!=be.top&&(He.scrollTop=be.top),null!=be.left&&(He.scrollLeft=be.left))}measureScrollOffset(be){const He="left",it=this.elementRef.nativeElement;if("top"==be)return it.scrollTop;if("bottom"==be)return it.scrollHeight-it.clientHeight-it.scrollTop;const pt=this.dir&&"rtl"==this.dir.value;return"start"==be?be=pt?"right":He:"end"==be&&(be=pt?He:"right"),pt&&2==(0,le._i)()?be==He?it.scrollWidth-it.clientWidth-it.scrollLeft:it.scrollLeft:pt&&1==(0,le._i)()?be==He?it.scrollLeft+it.scrollWidth-it.clientWidth:-it.scrollLeft:be==He?it.scrollLeft:it.scrollWidth-it.clientWidth-it.scrollLeft}}return(Xe=je).\u0275fac=function(be){return new(be||Xe)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(Te),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(j.Is,8))},Xe.\u0275dir=n.\u0275\u0275defineDirective({type:Xe,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),je})(),Ze=(()=>{var Xe;class je{constructor(be,He,Je){this._platform=be,this._change=new E.x,this._changeListener=it=>{this._change.next(it)},this._document=Je,He.runOutsideAngular(()=>{if(be.isBrowser){const it=this._getWindow();it.addEventListener("resize",this._changeListener),it.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const be=this._getWindow();be.removeEventListener("resize",this._changeListener),be.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const be={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),be}getViewportRect(){const be=this.getViewportScrollPosition(),{width:He,height:Je}=this.getViewportSize();return{top:be.top,left:be.left,bottom:be.top+Je,right:be.left+He,height:Je,width:He}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const be=this._document,He=this._getWindow(),Je=be.documentElement,it=Je.getBoundingClientRect();return{top:-it.top||be.body.scrollTop||He.scrollY||Je.scrollTop||0,left:-it.left||be.body.scrollLeft||He.scrollX||Je.scrollLeft||0}}change(be=20){return be>0?this._change.pipe(Ve(be)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const be=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:be.innerWidth,height:be.innerHeight}:{width:0,height:0}}}return(Xe=je).\u0275fac=function(be){return new(be||Xe)(n.\u0275\u0275inject(le.t4),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(de.DOCUMENT,8))},Xe.\u0275prov=n.\u0275\u0275defineInjectable({token:Xe,factory:Xe.\u0275fac,providedIn:"root"}),je})(),It=(()=>{var Xe;class je{}return(Xe=je).\u0275fac=function(be){return new(be||Xe)},Xe.\u0275mod=n.\u0275\u0275defineNgModule({type:Xe}),Xe.\u0275inj=n.\u0275\u0275defineInjector({}),je})(),At=(()=>{var Xe;class je{}return(Xe=je).\u0275fac=function(be){return new(be||Xe)},Xe.\u0275mod=n.\u0275\u0275defineNgModule({type:Xe}),Xe.\u0275inj=n.\u0275\u0275defineInjector({imports:[j.vT,It,j.vT,It]}),je})()},5766:(Qe,ke,M)=>{function c(x){for(let w in x){let b=x[w]??"";switch(w){case"display":x.display="flex"===b?["-webkit-flex","flex"]:"inline-flex"===b?["-webkit-inline-flex","inline-flex"]:b;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":x["-webkit-"+w]=b;break;case"flex-direction":x["-webkit-flex-direction"]=b,x["flex-direction"]=b;break;case"order":x.order=x["-webkit-"+w]=isNaN(+b)?"0":b}}return x}M.d(ke,{Ar:()=>l,GK:()=>c,iQ:()=>E,kt:()=>y,tj:()=>g});const n="inline",E=["row","column","row-reverse","column-reverse"];function l(x){let[w,b,o]=d(x);return function p(x,w=null,b=!1){return{display:b?"inline-flex":"flex","box-sizing":"border-box","flex-direction":x,"flex-wrap":w||null}}(w,b,o)}function d(x){x=x?.toLowerCase()??"";let[w,b,o]=x.split(" ");return E.find(u=>u===w)||(w=E[0]),b===n&&(b=o!==n?o:"",o=n),[w,C(b),!!o]}function g(x){let[w]=d(x);return w.indexOf("row")>-1}function C(x){if(x)switch(x.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":x="wrap-reverse";break;case"no":case"none":case"nowrap":x="nowrap";break;default:x="wrap"}return x}function y(x,...w){if(null==x)throw TypeError("Cannot convert undefined or null to object");for(let b of w)if(null!=b)for(let o in b)b.hasOwnProperty(o)&&(x[o]=b[o]);return x}},1462:(Qe,ke,M)=>{M.d(ke,{Bs:()=>T,FL:()=>pt,IR:()=>o,Ot:()=>He,QI:()=>f,RK:()=>S,WU:()=>v,g5:()=>m,iR:()=>ut,wY:()=>k,yB:()=>kt});var c=M(7970),n=M(3595),E=M(5619),l=M(5592),d=M(3019),g=M(8645),C=M(5766),p=M(2181),y=M(9397);const w={provide:c.APP_BOOTSTRAP_LISTENER,useFactory:function x(Se,Le){return()=>{if((0,n.isPlatformBrowser)(Le)){const W=Array.from(Se.querySelectorAll(`[class*=${b}]`)),oe=/\bflex-layout-.+?\b/g;W.forEach(ye=>{ye.classList.contains(`${b}ssr`)&&ye.parentNode?ye.parentNode.removeChild(ye):ye.className.replace(oe,"")})}}},deps:[n.DOCUMENT,c.PLATFORM_ID],multi:!0},b="flex-layout-";let o=(()=>{class Se{}return Se.\u0275fac=function(W){return new(W||Se)},Se.\u0275mod=c.\u0275\u0275defineNgModule({type:Se}),Se.\u0275inj=c.\u0275\u0275defineInjector({providers:[w]}),Se})();class u{constructor(Le=!1,W="all",oe="",ye="",Me=0){this.matches=Le,this.mediaQuery=W,this.mqAlias=oe,this.suffix=ye,this.priority=Me,this.property=""}clone(){return new u(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let h=(()=>{class Se{constructor(){this.stylesheet=new Map}addStyleToElement(W,oe,ye){const Me=this.stylesheet.get(W);Me?Me.set(oe,ye):this.stylesheet.set(W,new Map([[oe,ye]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(W,oe){const ye=this.stylesheet.get(W);let Me="";if(ye){const X=ye.get(oe);("number"==typeof X||"string"==typeof X)&&(Me=X+"")}return Me}}return Se.\u0275fac=function(W){return new(W||Se)},Se.\u0275prov=c.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();const m={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},v=new c.InjectionToken("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>m}),k=new c.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),T=new c.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function O(Se,Le){return Se=Se?.clone()??new u,Le&&(Se.mqAlias=Le.alias,Se.mediaQuery=Le.mediaQuery,Se.suffix=Le.suffix,Se.priority=Le.priority),Se}class f{constructor(){this.shouldCache=!0}sideEffect(Le,W,oe){}}let S=(()=>{class Se{constructor(W,oe,ye,Me){this._serverStylesheet=W,this._serverModuleLoaded=oe,this._platformId=ye,this.layoutConfig=Me}applyStyleToElement(W,oe,ye=null){let Me={};"string"==typeof oe&&(Me[oe]=ye,oe=Me),Me=this.layoutConfig.disableVendorPrefixes?oe:(0,C.GK)(oe),this._applyMultiValueStyleToElement(Me,W)}applyStyleToElements(W,oe=[]){const ye=this.layoutConfig.disableVendorPrefixes?W:(0,C.GK)(W);oe.forEach(Me=>{this._applyMultiValueStyleToElement(ye,Me)})}getFlowDirection(W){const oe="flex-direction";let ye=this.lookupStyle(W,oe);return[ye||"row",this.lookupInlineStyle(W,oe)||(0,n.isPlatformServer)(this._platformId)&&this._serverModuleLoaded?ye:""]}hasWrap(W){return"wrap"===this.lookupStyle(W,"flex-wrap")}lookupAttributeValue(W,oe){return W.getAttribute(oe)??""}lookupInlineStyle(W,oe){return(0,n.isPlatformBrowser)(this._platformId)?W.style.getPropertyValue(oe):function N(Se,Le){return se(Se)[Le]??""}(W,oe)}lookupStyle(W,oe,ye=!1){let Me="";return W&&((Me=this.lookupInlineStyle(W,oe))||((0,n.isPlatformBrowser)(this._platformId)?ye||(Me=getComputedStyle(W).getPropertyValue(oe)):this._serverModuleLoaded&&(Me=this._serverStylesheet.getStyleForElement(W,oe)))),Me?Me.trim():""}_applyMultiValueStyleToElement(W,oe){Object.keys(W).sort().forEach(ye=>{const Me=W[ye],X=Array.isArray(Me)?Me:[Me];X.sort();for(let he of X)he=he?he+"":"",(0,n.isPlatformBrowser)(this._platformId)||!this._serverModuleLoaded?(0,n.isPlatformBrowser)(this._platformId)?oe.style.setProperty(ye,he):ee(oe,ye,he):this._serverStylesheet.addStyleToElement(oe,ye,he)})}}return Se.\u0275fac=function(W){return new(W||Se)(c.\u0275\u0275inject(h),c.\u0275\u0275inject(k),c.\u0275\u0275inject(c.PLATFORM_ID),c.\u0275\u0275inject(v))},Se.\u0275prov=c.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();function ee(Se,Le,W){Le=Le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const oe=se(Se);oe[Le]=W??"",function Q(Se,Le){let W="";for(const oe in Le)Le[oe]&&(W+=`${oe}:${Le[oe]};`);Se.setAttribute("style",W)}(Se,oe)}function se(Se){const Le={},W=Se.getAttribute("style");if(W){const oe=W.split(/;+/g);for(let ye=0;ye<oe.length;ye++){const Me=oe[ye].trim();if(Me.length>0){const X=Me.indexOf(":");if(-1===X)throw new Error(`Invalid CSS style: ${Me}`);Le[Me.substr(0,X).trim()]=Me.substr(X+1).trim()}}}return Le}function Re(Se,Le){return(Le&&Le.priority||0)-(Se&&Se.priority||0)}function ze(Se,Le){return(Se.priority||0)-(Le.priority||0)}let Be=(()=>{class Se{constructor(W,oe,ye){this._zone=W,this._platformId=oe,this._document=ye,this.source=new E.X(new u(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const W=[];return this.registry.forEach((oe,ye)=>{oe.matches&&W.push(ye)}),W}isActive(W){return this.registry.get(W)?.matches??this.registerQuery(W).some(ye=>ye.matches)}observe(W,oe=!1){if(W&&W.length){const ye=this._observable$.pipe((0,p.h)(X=>!oe||W.indexOf(X.mediaQuery)>-1)),Me=new l.y(X=>{const he=this.registerQuery(W);if(he.length){const Ge=he.pop();he.forEach(De=>{X.next(De)}),this.source.next(Ge)}X.complete()});return(0,d.T)(Me,ye)}return this._observable$}registerQuery(W){const oe=Array.isArray(W)?W:[W],ye=[];return function te(Se,Le){const W=Se.filter(oe=>!U[oe]);if(W.length>0){const oe=W.join(", ");try{const ye=Le.createElement("style");ye.setAttribute("type","text/css"),ye.styleSheet||ye.appendChild(Le.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${oe} {.fx-query-test{ }}\n`)),Le.head.appendChild(ye),W.forEach(Me=>U[Me]=ye)}catch(ye){console.error(ye)}}}(oe,this._document),oe.forEach(Me=>{const X=Ge=>{this._zone.run(()=>this.source.next(new u(Ge.matches,Me)))};let he=this.registry.get(Me);he||(he=this.buildMQL(Me),he.addListener(X),this.pendingRemoveListenerFns.push(()=>he.removeListener(X)),this.registry.set(Me,he)),he.matches&&ye.push(new u(!0,Me))}),ye}ngOnDestroy(){let W;for(;W=this.pendingRemoveListenerFns.pop();)W()}buildMQL(W){return function _e(Se,Le){return Le&&window.matchMedia("all").addListener?window.matchMedia(Se):function ue(Se){const Le=new EventTarget;return Le.matches="all"===Se||""===Se,Le.media=Se,Le.addListener=()=>{},Le.removeListener=()=>{},Le.addEventListener=()=>{},Le.dispatchEvent=()=>!1,Le.onchange=null,Le}(Se)}(W,(0,n.isPlatformBrowser)(this._platformId))}}return Se.\u0275fac=function(W){return new(W||Se)(c.\u0275\u0275inject(c.NgZone),c.\u0275\u0275inject(c.PLATFORM_ID),c.\u0275\u0275inject(n.DOCUMENT))},Se.\u0275prov=c.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();const U={},Ve=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Ke="(orientation: portrait) and (max-width: 599.98px)",ve="(orientation: landscape) and (max-width: 959.98px)",le="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",de="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",j="(orientation: portrait) and (min-width: 840px)",Y="(orientation: landscape) and (min-width: 1280px)",B={HANDSET:`${Ke}, ${ve}`,TABLET:`${le} , ${de}`,WEB:`${j}, ${Y} `,HANDSET_PORTRAIT:`${Ke}`,TABLET_PORTRAIT:`${le} `,WEB_PORTRAIT:`${j}`,HANDSET_LANDSCAPE:`${ve}`,TABLET_LANDSCAPE:`${de}`,WEB_LANDSCAPE:`${Y}`},me=[{alias:"handset",priority:2e3,mediaQuery:B.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:B.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:B.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:B.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:B.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:B.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:B.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:B.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:B.WEB_PORTRAIT,overlapping:!0}],Fe=/(\.|-|_)/g;function ge(Se){let Le=Se.length>0?Se.charAt(0):"",W=Se.length>1?Se.slice(1):"";return Le.toUpperCase()+W}const ie=new c.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const Se=(0,c.inject)(T),Le=(0,c.inject)(v),W=[].concat.apply([],(Se||[]).map(ye=>Array.isArray(ye)?ye:[ye]));return function Te(Se,Le=[]){const W={};return Se.forEach(oe=>{W[oe.alias]=oe}),Le.forEach(oe=>{W[oe.alias]?(0,C.kt)(W[oe.alias],oe):W[oe.alias]=oe}),function Pe(Se){return Se.forEach(Le=>{Le.suffix||(Le.suffix=function q(Se){return Se.replace(Fe,"|").split("|").map(ge).join("")}(Le.alias),Le.overlapping=!!Le.overlapping)}),Se}(Object.keys(W).map(oe=>W[oe]))}((Le.disableDefaultBps?[]:Ve).concat(Le.addOrientationBps?me:[]),W)}});let Ee=(()=>{class Se{constructor(W){this.findByMap=new Map,this.items=[...W].sort(ze)}findByAlias(W){return W?this.findWithPredicate(W,oe=>oe.alias===W):null}findByQuery(W){return this.findWithPredicate(W,oe=>oe.mediaQuery===W)}get overlappings(){return this.items.filter(W=>W.overlapping)}get aliases(){return this.items.map(W=>W.alias)}get suffixes(){return this.items.map(W=>W?.suffix??"")}findWithPredicate(W,oe){let ye=this.findByMap.get(W);return ye||(ye=this.items.find(oe)??null,this.findByMap.set(W,ye)),ye??null}}return Se.\u0275fac=function(W){return new(W||Se)(c.\u0275\u0275inject(ie))},Se.\u0275prov=c.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();const Ze="print",ot={alias:Ze,mediaQuery:Ze,priority:1e3};let mt=(()=>{class Se{constructor(W,oe,ye){this.breakpoints=W,this.layoutConfig=oe,this._document=ye,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new yt,this.deactivations=[]}withPrintQuery(W){return[...W,Ze]}isPrintEvent(W){return W.mediaQuery.startsWith(Ze)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(W=>this.breakpoints.findByAlias(W)).filter(W=>null!==W)}getEventBreakpoints({mediaQuery:W}){const oe=this.breakpoints.findByQuery(W);return(oe?[...this.printBreakPoints,oe]:this.printBreakPoints).sort(Re)}updateEvent(W){let oe=this.breakpoints.findByQuery(W.mediaQuery);return this.isPrintEvent(W)&&(oe=this.getEventBreakpoints(W)[0],W.mediaQuery=oe?.mediaQuery??""),O(W,oe)}registerBeforeAfterPrintHooks(W){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const oe=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(W,this.getEventBreakpoints(new u(!0,Ze))),W.updateStyles())},ye=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(W),W.updateStyles())};this._document.defaultView.addEventListener("beforeprint",oe),this._document.defaultView.addEventListener("afterprint",ye),this.beforePrintEventListeners.push(oe),this.afterPrintEventListeners.push(ye)}interceptEvents(W){return oe=>{this.isPrintEvent(oe)?oe.matches&&!this.isPrinting?(this.startPrinting(W,this.getEventBreakpoints(oe)),W.updateStyles()):!oe.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(W),W.updateStyles()):this.collectActivations(W,oe)}}blockPropagation(){return W=>!(this.isPrinting||this.isPrintEvent(W))}startPrinting(W,oe){this.isPrinting=!0,this.formerActivations=W.activatedBreakpoints,W.activatedBreakpoints=this.queue.addPrintBreakpoints(oe)}stopPrinting(W){W.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(W,oe){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!oe.matches){const ye=this.breakpoints.findByQuery(oe.mediaQuery);if(ye){const Me=this.formerActivations&&this.formerActivations.includes(ye),X=!this.formerActivations&&W.activatedBreakpoints.includes(ye);(Me||X)&&(this.deactivations.push(ye),this.deactivations.sort(Re))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(W=>this._document.defaultView.removeEventListener("beforeprint",W)),this.afterPrintEventListeners.forEach(W=>this._document.defaultView.removeEventListener("afterprint",W)))}}return Se.\u0275fac=function(W){return new(W||Se)(c.\u0275\u0275inject(Ee),c.\u0275\u0275inject(v),c.\u0275\u0275inject(n.DOCUMENT))},Se.\u0275prov=c.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();class yt{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(Le){return Le.push(ot),Le.sort(Re),Le.forEach(W=>this.addBreakpoint(W)),this.printBreakpoints}addBreakpoint(Le){Le&&void 0===this.printBreakpoints.find(oe=>oe.mediaQuery===Le.mediaQuery)&&(this.printBreakpoints=function wt(Se){return Se?.mediaQuery.startsWith(Ze)??!1}(Le)?[Le,...this.printBreakpoints]:[...this.printBreakpoints,Le])}clear(){this.printBreakpoints=[]}}let kt=(()=>{class Se{constructor(W,oe,ye){this.matchMedia=W,this.breakpoints=oe,this.hook=ye,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new g.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(W){this._activatedBreakpoints=[...W]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(W){this._useFallbacks=W}onMediaChange(W){const oe=this.findByQuery(W.mediaQuery);if(oe){W=O(W,oe);const ye=this.activatedBreakpoints.indexOf(oe);W.matches&&-1===ye?(this._activatedBreakpoints.push(oe),this._activatedBreakpoints.sort(Re),this.updateStyles()):!W.matches&&-1!==ye&&(this._activatedBreakpoints.splice(ye,1),this._activatedBreakpoints.sort(Re),this.updateStyles())}}init(W,oe,ye,Me,X=[]){lt(this.updateMap,W,oe,ye),lt(this.clearMap,W,oe,Me),this.buildElementKeyMap(W,oe),this.watchExtraTriggers(W,oe,X)}getValue(W,oe,ye){const Me=this.elementMap.get(W);if(Me){const X=void 0!==ye?Me.get(ye):this.getActivatedValues(Me,oe);if(X)return X.get(oe)}}hasValue(W,oe){const ye=this.elementMap.get(W);if(ye){const Me=this.getActivatedValues(ye,oe);if(Me)return void 0!==Me.get(oe)||!1}return!1}setValue(W,oe,ye,Me){let X=this.elementMap.get(W);if(X){const Ge=(X.get(Me)??new Map).set(oe,ye);X.set(Me,Ge),this.elementMap.set(W,X)}else X=(new Map).set(Me,(new Map).set(oe,ye)),this.elementMap.set(W,X);const he=this.getValue(W,oe);void 0!==he&&this.updateElement(W,oe,he)}trackValue(W,oe){return this.subject.asObservable().pipe((0,p.h)(ye=>ye.element===W&&ye.key===oe))}updateStyles(){this.elementMap.forEach((W,oe)=>{const ye=new Set(this.elementKeyMap.get(oe));let Me=this.getActivatedValues(W);Me&&Me.forEach((X,he)=>{this.updateElement(oe,he,X),ye.delete(he)}),ye.forEach(X=>{if(Me=this.getActivatedValues(W,X),Me){const he=Me.get(X);this.updateElement(oe,X,he)}else this.clearElement(oe,X)})})}clearElement(W,oe){const ye=this.clearMap.get(W);if(ye){const Me=ye.get(oe);Me&&(Me(),this.subject.next({element:W,key:oe,value:""}))}}updateElement(W,oe,ye){const Me=this.updateMap.get(W);if(Me){const X=Me.get(oe);X&&(X(ye),this.subject.next({element:W,key:oe,value:ye}))}}releaseElement(W){const oe=this.watcherMap.get(W);oe&&(oe.forEach(Me=>Me.unsubscribe()),this.watcherMap.delete(W));const ye=this.elementMap.get(W);ye&&(ye.forEach((Me,X)=>ye.delete(X)),this.elementMap.delete(W))}triggerUpdate(W,oe){const ye=this.elementMap.get(W);if(ye){const Me=this.getActivatedValues(ye,oe);Me&&(oe?this.updateElement(W,oe,Me.get(oe)):Me.forEach((X,he)=>this.updateElement(W,he,X)))}}buildElementKeyMap(W,oe){let ye=this.elementKeyMap.get(W);ye||(ye=new Set,this.elementKeyMap.set(W,ye)),ye.add(oe)}watchExtraTriggers(W,oe,ye){if(ye&&ye.length){let Me=this.watcherMap.get(W);if(Me||(Me=new Map,this.watcherMap.set(W,Me)),!Me.get(oe)){const he=(0,d.T)(...ye).subscribe(()=>{const Ge=this.getValue(W,oe);this.updateElement(W,oe,Ge)});Me.set(oe,he)}}}findByQuery(W){return this.breakpoints.findByQuery(W)}getActivatedValues(W,oe){for(let Me=0;Me<this.activatedBreakpoints.length;Me++){const he=W.get(this.activatedBreakpoints[Me].alias);if(he&&(void 0===oe||he.has(oe)&&null!=he.get(oe)))return he}if(!this._useFallbacks)return;const ye=W.get("");return void 0===oe||ye&&ye.has(oe)?ye:void 0}observeActivations(){const W=this.breakpoints.items.map(oe=>oe.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(W)).pipe((0,y.b)(this.hook.interceptEvents(this)),(0,p.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return Se.\u0275fac=function(W){return new(W||Se)(c.\u0275\u0275inject(Be),c.\u0275\u0275inject(Ee),c.\u0275\u0275inject(mt))},Se.\u0275prov=c.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})();function lt(Se,Le,W,oe){if(void 0!==oe){const ye=Se.get(Le)??new Map;ye.set(W,oe),Se.set(Le,ye)}}let ut=(()=>{class Se{constructor(W,oe,ye,Me){this.elementRef=W,this.styleBuilder=oe,this.styler=ye,this.marshal=Me,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new g.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(W){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,W,this.marshal.activatedAlias)}ngOnChanges(W){Object.keys(W).forEach(oe=>{if(-1!==this.inputs.indexOf(oe)){const ye=oe.split(".").slice(1).join(".");this.setValue(W[oe].currentValue,ye)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(W=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),W)}addStyles(W,oe){const ye=this.styleBuilder,Me=ye.shouldCache;let X=this.styleCache.get(W);(!X||!Me)&&(X=ye.buildStyles(W,oe),Me&&this.styleCache.set(W,X)),this.mru={...X},this.applyStyleToElement(X),ye.sideEffect(W,X,oe)}clearStyles(){Object.keys(this.mru).forEach(W=>{this.mru[W]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(W,oe=!1){if(W){const[ye,Me]=this.styler.getFlowDirection(W);if(!Me&&oe){const X=(0,C.Ar)(ye);this.styler.applyStyleToElements(X,[W])}return ye.trim()}return"row"}hasWrap(W){return this.styler.hasWrap(W)}applyStyleToElement(W,oe,ye=this.nativeElement){this.styler.applyStyleToElement(ye,W,oe)}setValue(W,oe){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,W,oe)}updateWithValue(W){this.currentValue!==W&&(this.addStyles(W),this.currentValue=W)}}return Se.\u0275fac=function(W){return new(W||Se)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(f),c.\u0275\u0275directiveInject(S),c.\u0275\u0275directiveInject(kt))},Se.\u0275dir=c.\u0275\u0275defineDirective({type:Se,features:[c.\u0275\u0275NgOnChangesFeature]}),Se})();function He(Se,Le="1",W="1"){let oe=[Le,W,Se],ye=Se.indexOf("calc");if(ye>0){oe[2]=Je(Se.substring(ye).trim());let Me=Se.substr(0,ye).trim().split(" ");2==Me.length&&(oe[0]=Me[0],oe[1]=Me[1])}else if(0==ye)oe[2]=Je(Se.trim());else{let Me=Se.split(" ");oe=3===Me.length?Me:[Le,W,Se]}return oe}function Je(Se){return Se.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;const it="x";function pt(Se,Le){if(void 0===Le)return Se;const W=oe=>{const ye=+oe.slice(0,-it.length);return Se.endsWith(it)&&!isNaN(ye)?`${ye*Le.value}${Le.unit}`:Se};return Se.includes(" ")?Se.split(" ").map(W).join(" "):W(Se)}},3814:(Qe,ke,M)=>{M.d(ke,{SQ:()=>k,Wh:()=>He,ae:()=>X,xw:()=>w,yH:()=>ue});var c=M(7970),n=M(9388),E=M(1462),l=M(5766),d=M(8645),g=M(9773);let C=(()=>{class he extends E.QI{buildStyles(De,{display:Ie}){const Oe=(0,l.Ar)(De);return{...Oe,display:"none"===Ie?Ie:Oe.display}}}return he.\u0275fac=function(){let Ge;return function(Ie){return(Ge||(Ge=c.\u0275\u0275getInheritedFactory(he)))(Ie||he)}}(),he.\u0275prov=c.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const p=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let x=(()=>{class he extends E.iR{constructor(De,Ie,Oe,et,dt){super(De,Oe,Ie,et),this._config=dt,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(De){const Oe=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=b.get(Oe)??new Map,b.set(Oe,this.styleCache),this.currentValue!==De&&(this.addStyles(De,{display:Oe}),this.currentValue=De)}}return he.\u0275fac=function(De){return new(De||he)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(E.RK),c.\u0275\u0275directiveInject(C),c.\u0275\u0275directiveInject(E.yB),c.\u0275\u0275directiveInject(E.WU))},he.\u0275dir=c.\u0275\u0275defineDirective({type:he,features:[c.\u0275\u0275InheritDefinitionFeature]}),he})(),w=(()=>{class he extends x{constructor(){super(...arguments),this.inputs=p}}return he.\u0275fac=function(){let Ge;return function(Ie){return(Ge||(Ge=c.\u0275\u0275getInheritedFactory(he)))(Ie||he)}}(),he.\u0275dir=c.\u0275\u0275defineDirective({type:he,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[c.\u0275\u0275InheritDefinitionFeature]}),he})();const b=new Map,o={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let u=(()=>{class he extends E.QI{constructor(De,Ie){super(),this._styler=De,this._config=Ie}buildStyles(De,Ie){return De.endsWith(N)?(De=De.slice(0,De.indexOf(N)),function Q(he,Ge){const[De,Ie]=he.split(" "),et=V=>`-${V}`;let dt="0px",xe=et(Ie??De),K="0px";return"rtl"===Ge?K=et(De):dt=et(De),{margin:`0px ${dt} ${xe} ${K}`}}(De=(0,E.FL)(De,this._config.multiplier),Ie.directionality)):{}}sideEffect(De,Ie,Oe){const et=Oe.items;if(De.endsWith(N)){De=De.slice(0,De.indexOf(N));const dt=function ee(he,Ge){const[De,Ie]=he.split(" ");let et="0px",xe="0px";return"rtl"===Ge?xe=De:et=De,{padding:`0px ${et} ${Ie??De} ${xe}`}}(De=(0,E.FL)(De,this._config.multiplier),Oe.directionality);this._styler.applyStyleToElements(dt,Oe.items)}else{De=(0,E.FL)(De,this._config.multiplier),De=this.addFallbackUnit(De);const dt=et.pop(),xe=function Re(he,Ge){const De=se(Ge.directionality,Ge.layout),Ie={...o};return Ie[De]=he,Ie}(De,Oe);this._styler.applyStyleToElements(xe,et),this._styler.applyStyleToElements(o,[dt])}}addFallbackUnit(De){return isNaN(+De)?De:`${De}${this._config.defaultUnit}`}}return he.\u0275fac=function(De){return new(De||he)(c.\u0275\u0275inject(E.RK),c.\u0275\u0275inject(E.WU))},he.\u0275prov=c.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const h=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let v=(()=>{class he extends E.iR{constructor(De,Ie,Oe,et,dt,xe){super(De,dt,et,xe),this.zone=Ie,this.directionality=Oe,this.styleUtils=et,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new d.x;const K=[this.directionality.change,this.observerSubject.asObservable()];this.init(K),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,g.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const De=this.nativeElement.children,Ie=[];for(let Oe=De.length;Oe--;)Ie[Oe]=De[Oe];return Ie}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(De){const Oe=De.value.split(" ");this.layout=Oe[0],l.iQ.find(et=>et===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(De){const Ie=this.childrenNodes.filter(Oe=>1===Oe.nodeType&&this.willDisplay(Oe)).sort((Oe,et)=>{const dt=+this.styler.lookupStyle(Oe,"order"),xe=+this.styler.lookupStyle(et,"order");return isNaN(dt)||isNaN(xe)||dt===xe?0:dt>xe?1:-1});if(Ie.length>0){const Oe=this.directionality.value,et=this.layout;"row"===et&&"rtl"===Oe?this.styleCache=T:"row"===et&&"rtl"!==Oe?this.styleCache=f:"column"===et&&"rtl"===Oe?this.styleCache=O:"column"===et&&"rtl"!==Oe&&(this.styleCache=S),this.addStyles(De,{directionality:Oe,items:Ie,layout:et})}}clearStyles(){const De=Object.keys(this.mru).length>0,Ie=De?"padding":se(this.directionality.value,this.layout);De&&super.clearStyles(),this.styleUtils.applyStyleToElements({[Ie]:""},this.childrenNodes)}willDisplay(De){const Ie=this.marshal.getValue(De,"show-hide");return!0===Ie||void 0===Ie&&"none"!==this.styleUtils.lookupStyle(De,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(De=>{De.some(Oe=>Oe.addedNodes&&Oe.addedNodes.length>0||Oe.removedNodes&&Oe.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return he.\u0275fac=function(De){return new(De||he)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.NgZone),c.\u0275\u0275directiveInject(n.Is),c.\u0275\u0275directiveInject(E.RK),c.\u0275\u0275directiveInject(u),c.\u0275\u0275directiveInject(E.yB))},he.\u0275dir=c.\u0275\u0275defineDirective({type:he,features:[c.\u0275\u0275InheritDefinitionFeature]}),he})(),k=(()=>{class he extends v{constructor(){super(...arguments),this.inputs=h}}return he.\u0275fac=function(){let Ge;return function(Ie){return(Ge||(Ge=c.\u0275\u0275getInheritedFactory(he)))(Ie||he)}}(),he.\u0275dir=c.\u0275\u0275defineDirective({type:he,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[c.\u0275\u0275InheritDefinitionFeature]}),he})();const T=new Map,O=new Map,f=new Map,S=new Map,N=" grid";function se(he,Ge){switch(Ge){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===he?"margin-left":"margin-right";case"row-reverse":return"rtl"===he?"margin-right":"margin-left"}}let ze=(()=>{class he extends E.QI{constructor(De){super(),this.layoutConfig=De}buildStyles(De,Ie){let[Oe,et,...dt]=De.split(" "),xe=dt.join(" ");const K=Ie.direction.indexOf("column")>-1?"column":"row",V=(0,l.tj)(K)?"max-width":"max-height",G=(0,l.tj)(K)?"min-width":"min-height",Z=String(xe).indexOf("calc")>-1,pe=Z||"auto"===xe,re=String(xe).indexOf("%")>-1&&!Z,ne=String(xe).indexOf("px")>-1||String(xe).indexOf("rem")>-1||String(xe).indexOf("em")>-1||String(xe).indexOf("vw")>-1||String(xe).indexOf("vh")>-1;let we=Z||ne;Oe="0"==Oe?0:Oe,et="0"==et?0:et;const ce=!Oe&&!et;let fe={};const Ue={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(xe||""){case"":xe="row"===K?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":Oe=0,xe="auto";break;case"grow":xe="100%";break;case"noshrink":et=0,xe="auto";break;case"auto":break;case"none":Oe=0,et=0,xe="auto";break;default:!we&&!re&&!isNaN(xe)&&(xe+="%"),"0%"===xe&&(we=!0),"0px"===xe&&(xe="0%"),fe=(0,l.kt)(Ue,Z?{"flex-grow":Oe,"flex-shrink":et,"flex-basis":we?xe:"100%"}:{flex:`${Oe} ${et} ${we?xe:"100%"}`})}return fe.flex||fe["flex-grow"]||(fe=(0,l.kt)(Ue,Z?{"flex-grow":Oe,"flex-shrink":et,"flex-basis":xe}:{flex:`${Oe} ${et} ${xe}`})),"0%"!==xe&&"0px"!==xe&&"0.000000001px"!==xe&&"auto"!==xe&&(fe[G]=ce||we&&Oe?xe:null,fe[V]=ce||!pe&&et?xe:null),fe[G]||fe[V]?Ie.hasWrap&&(fe[Z?"flex-basis":"flex"]=fe[V]?Z?fe[V]:`${Oe} ${et} ${fe[V]}`:Z?fe[G]:`${Oe} ${et} ${fe[G]}`):fe=(0,l.kt)(Ue,Z?{"flex-grow":Oe,"flex-shrink":et,"flex-basis":xe}:{flex:`${Oe} ${et} ${xe}`}),(0,l.kt)(fe,{"box-sizing":"border-box"})}}return he.\u0275fac=function(De){return new(De||he)(c.\u0275\u0275inject(E.WU))},he.\u0275prov=c.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const Be=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let te=(()=>{class he extends E.iR{constructor(De,Ie,Oe,et,dt){super(De,et,Ie,dt),this.layoutConfig=Oe,this.marshal=dt,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(De){this.flexShrink=De||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(De){this.flexGrow=De||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,g.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,g.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(De){const Oe=De.value.split(" ");this.direction=Oe[0],this.wrap=void 0!==Oe[1]&&"wrap"===Oe[1],this.triggerUpdate()}updateWithValue(De){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const Oe=this.direction,et=Oe.startsWith("row"),dt=this.wrap;et&&dt?this.styleCache=Ke:et&&!dt?this.styleCache=_e:!et&&dt?this.styleCache=ve:!et&&!dt&&(this.styleCache=Ve);const xe=String(De).replace(";",""),K=(0,E.Ot)(xe,this.flexGrow,this.flexShrink);this.addStyles(K.join(" "),{direction:Oe,hasWrap:dt})}triggerReflow(){const De=this.activatedValue;if(void 0!==De){const Ie=(0,E.Ot)(De+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,Ie.join(" "))}}}return he.\u0275fac=function(De){return new(De||he)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(E.RK),c.\u0275\u0275directiveInject(E.WU),c.\u0275\u0275directiveInject(ze),c.\u0275\u0275directiveInject(E.yB))},he.\u0275dir=c.\u0275\u0275defineDirective({type:he,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[c.\u0275\u0275InheritDefinitionFeature]}),he})(),ue=(()=>{class he extends te{constructor(){super(...arguments),this.inputs=Be}}return he.\u0275fac=function(){let Ge;return function(Ie){return(Ge||(Ge=c.\u0275\u0275getInheritedFactory(he)))(Ie||he)}}(),he.\u0275dir=c.\u0275\u0275defineDirective({type:he,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[c.\u0275\u0275InheritDefinitionFeature]}),he})();const _e=new Map,Ve=new Map,Ke=new Map,ve=new Map;let Xe=(()=>{class he extends E.QI{buildStyles(De,Ie){const Oe={},[et,dt]=De.split(" ");switch(et){case"center":Oe["justify-content"]="center";break;case"space-around":Oe["justify-content"]="space-around";break;case"space-between":Oe["justify-content"]="space-between";break;case"space-evenly":Oe["justify-content"]="space-evenly";break;case"end":case"flex-end":Oe["justify-content"]="flex-end";break;default:Oe["justify-content"]="flex-start"}switch(dt){case"start":case"flex-start":Oe["align-items"]=Oe["align-content"]="flex-start";break;case"center":Oe["align-items"]=Oe["align-content"]="center";break;case"end":case"flex-end":Oe["align-items"]=Oe["align-content"]="flex-end";break;case"space-between":Oe["align-content"]="space-between",Oe["align-items"]="stretch";break;case"space-around":Oe["align-content"]="space-around",Oe["align-items"]="stretch";break;case"baseline":Oe["align-content"]="stretch",Oe["align-items"]="baseline";break;default:Oe["align-items"]=Oe["align-content"]="stretch"}return(0,l.kt)(Oe,{display:Ie.inline?"inline-flex":"flex","flex-direction":Ie.layout,"box-sizing":"border-box","max-width":"stretch"===dt?(0,l.tj)(Ie.layout)?null:"100%":null,"max-height":"stretch"===dt&&(0,l.tj)(Ie.layout)?"100%":null})}}return he.\u0275fac=function(){let Ge;return function(Ie){return(Ge||(Ge=c.\u0275\u0275getInheritedFactory(he)))(Ie||he)}}(),he.\u0275prov=c.\u0275\u0275defineInjectable({token:he,factory:he.\u0275fac,providedIn:"root"}),he})();const je=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let be=(()=>{class he extends E.iR{constructor(De,Ie,Oe,et){super(De,Oe,Ie,et),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,g.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(De){const Ie=this.layout||"row",Oe=this.inline;"row"===Ie&&Oe?this.styleCache=Le:"row"!==Ie||Oe?"row-reverse"===Ie&&Oe?this.styleCache=oe:"row-reverse"!==Ie||Oe?"column"===Ie&&Oe?this.styleCache=W:"column"!==Ie||Oe?"column-reverse"===Ie&&Oe?this.styleCache=ye:"column-reverse"===Ie&&!Oe&&(this.styleCache=Se):this.styleCache=it:this.styleCache=pt:this.styleCache=Je,this.addStyles(De,{layout:Ie,inline:Oe})}onLayoutChange(De){const Ie=De.value.split(" ");this.layout=Ie[0],this.inline=De.value.includes("inline"),l.iQ.find(Oe=>Oe===this.layout)||(this.layout="row"),this.triggerUpdate()}}return he.\u0275fac=function(De){return new(De||he)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(E.RK),c.\u0275\u0275directiveInject(Xe),c.\u0275\u0275directiveInject(E.yB))},he.\u0275dir=c.\u0275\u0275defineDirective({type:he,features:[c.\u0275\u0275InheritDefinitionFeature]}),he})(),He=(()=>{class he extends be{constructor(){super(...arguments),this.inputs=je}}return he.\u0275fac=function(){let Ge;return function(Ie){return(Ge||(Ge=c.\u0275\u0275getInheritedFactory(he)))(Ie||he)}}(),he.\u0275dir=c.\u0275\u0275defineDirective({type:he,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[c.\u0275\u0275InheritDefinitionFeature]}),he})();const Je=new Map,it=new Map,pt=new Map,Se=new Map,Le=new Map,W=new Map,oe=new Map,ye=new Map;let X=(()=>{class he{}return he.\u0275fac=function(De){return new(De||he)},he.\u0275mod=c.\u0275\u0275defineNgModule({type:he}),he.\u0275inj=c.\u0275\u0275defineInjector({imports:[E.IR,n.vT]}),he})()},6223:(Qe,ke,M)=>{M.d(ke,{Cf:()=>v,F:()=>qt,JU:()=>p,Zs:()=>Wi,a5:()=>Ee,kI:()=>O,sg:()=>di,u5:()=>Mr});var c=M(7970),E=(M(3595),M(7715)),l=M(9315),d=M(7398);const p=new c.InjectionToken("NgValueAccessor");function h(R){return null==R||("string"==typeof R||Array.isArray(R))&&0===R.length}function m(R){return null!=R&&"number"==typeof R.length}const v=new c.InjectionToken("NgValidators"),k=new c.InjectionToken("NgAsyncValidators"),T=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class O{static min(D){return function f(R){return D=>{if(h(D.value)||h(R))return null;const $=parseFloat(D.value);return!isNaN($)&&$<R?{min:{min:R,actual:D.value}}:null}}(D)}static max(D){return function S(R){return D=>{if(h(D.value)||h(R))return null;const $=parseFloat(D.value);return!isNaN($)&&$>R?{max:{max:R,actual:D.value}}:null}}(D)}static required(D){return N(D)}static requiredTrue(D){return ee(D)}static email(D){return function Q(R){return h(R.value)||T.test(R.value)?null:{email:!0}}(D)}static minLength(D){return function se(R){return D=>h(D.value)||!m(D.value)?null:D.value.length<R?{minlength:{requiredLength:R,actualLength:D.value.length}}:null}(D)}static maxLength(D){return function Re(R){return D=>m(D.value)&&D.value.length>R?{maxlength:{requiredLength:R,actualLength:D.value.length}}:null}(D)}static pattern(D){return function ze(R){if(!R)return Be;let D,$;return"string"==typeof R?($="","^"!==R.charAt(0)&&($+="^"),$+=R,"$"!==R.charAt(R.length-1)&&($+="$"),D=new RegExp($)):($=R.toString(),D=R),F=>{if(h(F.value))return null;const J=F.value;return D.test(J)?null:{pattern:{requiredPattern:$,actualValue:J}}}}(D)}static nullValidator(D){return null}static compose(D){return ve(D)}static composeAsync(D){return de(D)}}function N(R){return h(R.value)?{required:!0}:null}function ee(R){return!0===R.value?null:{required:!0}}function Be(R){return null}function U(R){return null!=R}function te(R){return(0,c.\u0275isPromise)(R)?(0,E.D)(R):R}function ue(R){let D={};return R.forEach($=>{D=null!=$?{...D,...$}:D}),0===Object.keys(D).length?null:D}function _e(R,D){return D.map($=>$(R))}function Ke(R){return R.map(D=>function Ve(R){return!R.validate}(D)?D:$=>D.validate($))}function ve(R){if(!R)return null;const D=R.filter(U);return 0==D.length?null:function($){return ue(_e($,D))}}function le(R){return null!=R?ve(Ke(R)):null}function de(R){if(!R)return null;const D=R.filter(U);return 0==D.length?null:function($){const F=_e($,D).map(te);return(0,l.D)(F).pipe((0,d.U)(ue))}}function j(R){return null!=R?de(Ke(R)):null}function Y(R,D){return null===R?[D]:Array.isArray(R)?[...R,D]:[R,D]}function B(R){return R._rawValidators}function me(R){return R._rawAsyncValidators}function Fe(R){return R?Array.isArray(R)?R:[R]:[]}function ge(R,D){return Array.isArray(R)?R.includes(D):R===D}function q(R,D){const $=Fe(D);return Fe(R).forEach(J=>{ge($,J)||$.push(J)}),$}function Pe(R,D){return Fe(D).filter($=>!ge(R,$))}class Te{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(D){this._rawValidators=D||[],this._composedValidatorFn=le(this._rawValidators)}_setAsyncValidators(D){this._rawAsyncValidators=D||[],this._composedAsyncValidatorFn=j(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(D){this._onDestroyCallbacks.push(D)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(D=>D()),this._onDestroyCallbacks=[]}reset(D=void 0){this.control&&this.control.reset(D)}hasError(D,$){return!!this.control&&this.control.hasError(D,$)}getError(D,$){return this.control?this.control.getError(D,$):null}}class ie extends Te{get formDirective(){return null}get path(){return null}}class Ee extends Te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const W="VALID",oe="INVALID",ye="PENDING",Me="DISABLED";function X(R){return(Ie(R)?R.validators:R)||null}function Ge(R,D){return(Ie(D)?D.asyncValidators:R)||null}function Ie(R){return null!=R&&!Array.isArray(R)&&"object"==typeof R}class dt{constructor(D,$){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(D),this._assignAsyncValidators($)}get validator(){return this._composedValidatorFn}set validator(D){this._rawValidators=this._composedValidatorFn=D}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(D){this._rawAsyncValidators=this._composedAsyncValidatorFn=D}get parent(){return this._parent}get valid(){return this.status===W}get invalid(){return this.status===oe}get pending(){return this.status==ye}get disabled(){return this.status===Me}get enabled(){return this.status!==Me}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(D){this._assignValidators(D)}setAsyncValidators(D){this._assignAsyncValidators(D)}addValidators(D){this.setValidators(q(D,this._rawValidators))}addAsyncValidators(D){this.setAsyncValidators(q(D,this._rawAsyncValidators))}removeValidators(D){this.setValidators(Pe(D,this._rawValidators))}removeAsyncValidators(D){this.setAsyncValidators(Pe(D,this._rawAsyncValidators))}hasValidator(D){return ge(this._rawValidators,D)}hasAsyncValidator(D){return ge(this._rawAsyncValidators,D)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(D={}){this.touched=!0,this._parent&&!D.onlySelf&&this._parent.markAsTouched(D)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(D=>D.markAllAsTouched())}markAsUntouched(D={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild($=>{$.markAsUntouched({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}markAsDirty(D={}){this.pristine=!1,this._parent&&!D.onlySelf&&this._parent.markAsDirty(D)}markAsPristine(D={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild($=>{$.markAsPristine({onlySelf:!0})}),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}markAsPending(D={}){this.status=ye,!1!==D.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!D.onlySelf&&this._parent.markAsPending(D)}disable(D={}){const $=this._parentMarkedDirty(D.onlySelf);this.status=Me,this.errors=null,this._forEachChild(F=>{F.disable({...D,onlySelf:!0})}),this._updateValue(),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...D,skipPristineCheck:$}),this._onDisabledChange.forEach(F=>F(!0))}enable(D={}){const $=this._parentMarkedDirty(D.onlySelf);this.status=W,this._forEachChild(F=>{F.enable({...D,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent}),this._updateAncestors({...D,skipPristineCheck:$}),this._onDisabledChange.forEach(F=>F(!1))}_updateAncestors(D){this._parent&&!D.onlySelf&&(this._parent.updateValueAndValidity(D),D.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(D){this._parent=D}getRawValue(){return this.value}updateValueAndValidity(D={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===W||this.status===ye)&&this._runAsyncValidator(D.emitEvent)),!1!==D.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!D.onlySelf&&this._parent.updateValueAndValidity(D)}_updateTreeValidity(D={emitEvent:!0}){this._forEachChild($=>$._updateTreeValidity(D)),this.updateValueAndValidity({onlySelf:!0,emitEvent:D.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Me:W}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(D){if(this.asyncValidator){this.status=ye,this._hasOwnPendingAsyncValidator=!0;const $=te(this.asyncValidator(this));this._asyncValidationSubscription=$.subscribe(F=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(F,{emitEvent:D})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(D,$={}){this.errors=D,this._updateControlsErrors(!1!==$.emitEvent)}get(D){let $=D;return null==$||(Array.isArray($)||($=$.split(".")),0===$.length)?null:$.reduce((F,J)=>F&&F._find(J),this)}getError(D,$){const F=$?this.get($):this;return F&&F.errors?F.errors[D]:null}hasError(D,$){return!!this.getError(D,$)}get root(){let D=this;for(;D._parent;)D=D._parent;return D}_updateControlsErrors(D){this.status=this._calculateStatus(),D&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(D)}_initObservables(){this.valueChanges=new c.EventEmitter,this.statusChanges=new c.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Me:this.errors?oe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ye)?ye:this._anyControlsHaveStatus(oe)?oe:W}_anyControlsHaveStatus(D){return this._anyControls($=>$.status===D)}_anyControlsDirty(){return this._anyControls(D=>D.dirty)}_anyControlsTouched(){return this._anyControls(D=>D.touched)}_updatePristine(D={}){this.pristine=!this._anyControlsDirty(),this._parent&&!D.onlySelf&&this._parent._updatePristine(D)}_updateTouched(D={}){this.touched=this._anyControlsTouched(),this._parent&&!D.onlySelf&&this._parent._updateTouched(D)}_registerOnCollectionChange(D){this._onCollectionChange=D}_setUpdateStrategy(D){Ie(D)&&null!=D.updateOn&&(this._updateOn=D.updateOn)}_parentMarkedDirty(D){return!D&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(D){return null}_assignValidators(D){this._rawValidators=Array.isArray(D)?D.slice():D,this._composedValidatorFn=function he(R){return Array.isArray(R)?le(R):R||null}(this._rawValidators)}_assignAsyncValidators(D){this._rawAsyncValidators=Array.isArray(D)?D.slice():D,this._composedAsyncValidatorFn=function De(R){return Array.isArray(R)?j(R):R||null}(this._rawAsyncValidators)}}class xe extends dt{constructor(D,$,F){super(X($),Ge(F,$)),this.controls=D,this._initObservables(),this._setUpdateStrategy($),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(D,$){return this.controls[D]?this.controls[D]:(this.controls[D]=$,$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange),$)}addControl(D,$,F={}){this.registerControl(D,$),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}removeControl(D,$={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}setControl(D,$,F={}){this.controls[D]&&this.controls[D]._registerOnCollectionChange(()=>{}),delete this.controls[D],$&&this.registerControl(D,$),this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}contains(D){return this.controls.hasOwnProperty(D)&&this.controls[D].enabled}setValue(D,$={}){(function et(R,D,$){R._forEachChild((F,J)=>{if(void 0===$[J])throw new c.\u0275RuntimeError(1002,"")})})(this,0,D),Object.keys(D).forEach(F=>{(function Oe(R,D,$){const F=R.controls;if(!(D?Object.keys(F):F).length)throw new c.\u0275RuntimeError(1e3,"");if(!F[$])throw new c.\u0275RuntimeError(1001,"")})(this,!0,F),this.controls[F].setValue(D[F],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($)}patchValue(D,$={}){null!=D&&(Object.keys(D).forEach(F=>{const J=this.controls[F];J&&J.patchValue(D[F],{onlySelf:!0,emitEvent:$.emitEvent})}),this.updateValueAndValidity($))}reset(D={},$={}){this._forEachChild((F,J)=>{F.reset(D[J],{onlySelf:!0,emitEvent:$.emitEvent})}),this._updatePristine($),this._updateTouched($),this.updateValueAndValidity($)}getRawValue(){return this._reduceChildren({},(D,$,F)=>(D[F]=$.getRawValue(),D))}_syncPendingControls(){let D=this._reduceChildren(!1,($,F)=>!!F._syncPendingControls()||$);return D&&this.updateValueAndValidity({onlySelf:!0}),D}_forEachChild(D){Object.keys(this.controls).forEach($=>{const F=this.controls[$];F&&D(F,$)})}_setUpControls(){this._forEachChild(D=>{D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(D){for(const[$,F]of Object.entries(this.controls))if(this.contains($)&&D(F))return!0;return!1}_reduceValue(){return this._reduceChildren({},($,F,J)=>((F.enabled||this.disabled)&&($[J]=F.value),$))}_reduceChildren(D,$){let F=D;return this._forEachChild((J,Ye)=>{F=$(F,J,Ye)}),F}_allControlsDisabled(){for(const D of Object.keys(this.controls))if(this.controls[D].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(D){return this.controls.hasOwnProperty(D)?this.controls[D]:null}}const pe=new c.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>re}),re="always";function we(R,D,$=re){tt(R,D),D.valueAccessor.writeValue(R.value),(R.disabled||"always"===$)&&D.valueAccessor.setDisabledState?.(R.disabled),function vt(R,D){D.valueAccessor.registerOnChange($=>{R._pendingValue=$,R._pendingChange=!0,R._pendingDirty=!0,"change"===R.updateOn&&ct(R,D)})}(R,D),function Zt(R,D){const $=(F,J)=>{D.valueAccessor.writeValue(F),J&&D.viewToModelUpdate(F)};R.registerOnChange($),D._registerOnDestroy(()=>{R._unregisterOnChange($)})}(R,D),function St(R,D){D.valueAccessor.registerOnTouched(()=>{R._pendingTouched=!0,"blur"===R.updateOn&&R._pendingChange&&ct(R,D),"submit"!==R.updateOn&&R.markAsTouched()})}(R,D),function Ue(R,D){if(D.valueAccessor.setDisabledState){const $=F=>{D.valueAccessor.setDisabledState(F)};R.registerOnDisabledChange($),D._registerOnDestroy(()=>{R._unregisterOnDisabledChange($)})}}(R,D)}function ce(R,D,$=!0){const F=()=>{};D.valueAccessor&&(D.valueAccessor.registerOnChange(F),D.valueAccessor.registerOnTouched(F)),at(R,D),R&&(D._invokeOnDestroyCallbacks(),R._registerOnCollectionChange(()=>{}))}function fe(R,D){R.forEach($=>{$.registerOnValidatorChange&&$.registerOnValidatorChange(D)})}function tt(R,D){const $=B(R);null!==D.validator?R.setValidators(Y($,D.validator)):"function"==typeof $&&R.setValidators([$]);const F=me(R);null!==D.asyncValidator?R.setAsyncValidators(Y(F,D.asyncValidator)):"function"==typeof F&&R.setAsyncValidators([F]);const J=()=>R.updateValueAndValidity();fe(D._rawValidators,J),fe(D._rawAsyncValidators,J)}function at(R,D){let $=!1;if(null!==R){if(null!==D.validator){const J=B(R);if(Array.isArray(J)&&J.length>0){const Ye=J.filter(ht=>ht!==D.validator);Ye.length!==J.length&&($=!0,R.setValidators(Ye))}}if(null!==D.asyncValidator){const J=me(R);if(Array.isArray(J)&&J.length>0){const Ye=J.filter(ht=>ht!==D.asyncValidator);Ye.length!==J.length&&($=!0,R.setAsyncValidators(Ye))}}}const F=()=>{};return fe(D._rawValidators,F),fe(D._rawAsyncValidators,F),$}function ct(R,D){R._pendingDirty&&R.markAsDirty(),R.setValue(R._pendingValue,{emitModelToViewChange:!1}),D.viewToModelUpdate(R._pendingValue),R._pendingChange=!1}function Bt(R,D){tt(R,D)}function Pt(R,D){R._syncPendingControls(),D.forEach($=>{const F=$.control;"submit"===F.updateOn&&F._pendingChange&&($.viewToModelUpdate(F._pendingValue),F._pendingChange=!1)})}const Ci={provide:ie,useExisting:(0,c.forwardRef)(()=>qt)},jt=(()=>Promise.resolve())();let qt=(()=>{var R;class D extends ie{constructor(F,J,Ye){super(),this.callSetDisabledState=Ye,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.EventEmitter,this.form=new xe({},le(F),j(J))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){jt.then(()=>{const J=this._findContainer(F.path);F.control=J.registerControl(F.name,F.control),we(F.control,F,this.callSetDisabledState),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){jt.then(()=>{const J=this._findContainer(F.path);J&&J.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){jt.then(()=>{const J=this._findContainer(F.path),Ye=new xe({});Bt(Ye,F),J.registerControl(F.name,Ye),Ye.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){jt.then(()=>{const J=this._findContainer(F.path);J&&J.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,J){jt.then(()=>{this.form.get(F.path).setValue(J)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,Pt(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return(R=D).\u0275fac=function(F){return new(F||R)(c.\u0275\u0275directiveInject(v,10),c.\u0275\u0275directiveInject(k,10),c.\u0275\u0275directiveInject(pe,8))},R.\u0275dir=c.\u0275\u0275defineDirective({type:R,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,J){1&F&&c.\u0275\u0275listener("submit",function(ht){return J.onSubmit(ht)})("reset",function(){return J.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.\u0275\u0275ProvidersFeature([Ci]),c.\u0275\u0275InheritDefinitionFeature]}),D})();function oi(R,D){const $=R.indexOf(D);$>-1&&R.splice($,1)}function Vt(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}const ii=class extends dt{constructor(D=null,$,F){super(X($),Ge(F,$)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(D),this._setUpdateStrategy($),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ie($)&&($.nonNullable||$.initialValueIsDefault)&&(this.defaultValue=Vt(D)?D.value:D)}setValue(D,$={}){this.value=this._pendingValue=D,this._onChange.length&&!1!==$.emitModelToViewChange&&this._onChange.forEach(F=>F(this.value,!1!==$.emitViewToModelChange)),this.updateValueAndValidity($)}patchValue(D,$={}){this.setValue(D,$)}reset(D=this.defaultValue,$={}){this._applyFormState(D),this.markAsPristine($),this.markAsUntouched($),this.setValue(this.value,$),this._pendingChange=!1}_updateValue(){}_anyControls(D){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(D){this._onChange.push(D)}_unregisterOnChange(D){oi(this._onChange,D)}registerOnDisabledChange(D){this._onDisabledChange.push(D)}_unregisterOnDisabledChange(D){oi(this._onDisabledChange,D)}_forEachChild(D){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(D){Vt(D)?(this.value=this._pendingValue=D.value,D.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=D}};let _t=(()=>{var R;class D{}return(R=D).\u0275fac=function(F){return new(F||R)},R.\u0275mod=c.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=c.\u0275\u0275defineInjector({}),D})();const _n={provide:ie,useExisting:(0,c.forwardRef)(()=>di)};let di=(()=>{var R;class D extends ie{constructor(F,J,Ye){super(),this.callSetDisabledState=Ye,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.EventEmitter,this._setValidators(F),this._setAsyncValidators(J)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(at(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const J=this.form.get(F.path);return we(J,F,this.callSetDisabledState),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),J}getControl(F){return this.form.get(F.path)}removeControl(F){ce(F.control||null,F,!1),function xi(R,D){const $=R.indexOf(D);$>-1&&R.splice($,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,J){this.form.get(F.path).setValue(J)}onSubmit(F){return this.submitted=!0,Pt(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F=void 0){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const J=F.control,Ye=this.form.get(F.path);J!==Ye&&(ce(J||null,F),(R=>R instanceof ii)(Ye)&&(we(Ye,F,this.callSetDisabledState),F.control=Ye))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const J=this.form.get(F.path);Bt(J,F),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const J=this.form.get(F.path);J&&function ei(R,D){return at(R,D)}(J,F)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tt(this.form,this),this._oldForm&&at(this._oldForm,this)}_checkFormPresent(){}}return(R=D).\u0275fac=function(F){return new(F||R)(c.\u0275\u0275directiveInject(v,10),c.\u0275\u0275directiveInject(k,10),c.\u0275\u0275directiveInject(pe,8))},R.\u0275dir=c.\u0275\u0275defineDirective({type:R,selectors:[["","formGroup",""]],hostBindings:function(F,J){1&F&&c.\u0275\u0275listener("submit",function(ht){return J.onSubmit(ht)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.\u0275\u0275ProvidersFeature([_n]),c.\u0275\u0275InheritDefinitionFeature,c.\u0275\u0275NgOnChangesFeature]}),D})(),Yt=(()=>{var R;class D{constructor(){this._validator=Be}ngOnChanges(F){if(this.inputName in F){const J=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(J),this._validator=this._enabled?this.createValidator(J):Be,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}}return(R=D).\u0275fac=function(F){return new(F||R)},R.\u0275dir=c.\u0275\u0275defineDirective({type:R,features:[c.\u0275\u0275NgOnChangesFeature]}),D})();const Sn={provide:v,useExisting:(0,c.forwardRef)(()=>hi),multi:!0},Dn={provide:v,useExisting:(0,c.forwardRef)(()=>Wi),multi:!0};let hi=(()=>{var R;class D extends Yt{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.booleanAttribute,this.createValidator=F=>N}enabled(F){return F}}return(R=D).\u0275fac=function(){let $;return function(J){return($||($=c.\u0275\u0275getInheritedFactory(R)))(J||R)}}(),R.\u0275dir=c.\u0275\u0275defineDirective({type:R,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,J){2&F&&c.\u0275\u0275attribute("required",J._enabled?"":null)},inputs:{required:"required"},features:[c.\u0275\u0275ProvidersFeature([Sn]),c.\u0275\u0275InheritDefinitionFeature]}),D})(),Wi=(()=>{var R;class D extends hi{constructor(){super(...arguments),this.createValidator=F=>ee}}return(R=D).\u0275fac=function(){let $;return function(J){return($||($=c.\u0275\u0275getInheritedFactory(R)))(J||R)}}(),R.\u0275dir=c.\u0275\u0275defineDirective({type:R,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(F,J){2&F&&c.\u0275\u0275attribute("required",J._enabled?"":null)},features:[c.\u0275\u0275ProvidersFeature([Dn]),c.\u0275\u0275InheritDefinitionFeature]}),D})(),An=(()=>{var R;class D{}return(R=D).\u0275fac=function(F){return new(F||R)},R.\u0275mod=c.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=c.\u0275\u0275defineInjector({imports:[_t]}),D})(),Mr=(()=>{var R;class D{static withConfig(F){return{ngModule:D,providers:[{provide:pe,useValue:F.callSetDisabledState??re}]}}}return(R=D).\u0275fac=function(F){return new(F||R)},R.\u0275mod=c.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=c.\u0275\u0275defineInjector({imports:[An]}),D})()},2296:(Qe,ke,M)=>{M.d(ke,{RK:()=>Ke,lW:()=>Q,ot:()=>le});var c=M(2831),n=M(7970),E=M(7849),l=M(2495),d=M(3680);const g=["mat-button",""],C=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],p=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],u=["mat-icon-button",""],h=["*"],T=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],O=(0,d.pj)((0,d.Id)((0,d.Kr)(class{constructor(de){this._elementRef=de}})));let f=(()=>{var de;class j extends O{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(B){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,B)}get disableRipple(){return this._disableRipple}set disableRipple(B){this._disableRipple=(0,l.Ig)(B),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(B){this._disabled=(0,l.Ig)(B),this._updateRippleDisabled()}constructor(B,me,Fe,ge){super(B),this._platform=me,this._ngZone=Fe,this._animationMode=ge,this._focusMonitor=(0,n.inject)(E.tE),this._rippleLoader=(0,n.inject)(d.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const q=B.nativeElement.classList;for(const Pe of T)this._hasHostAttributes(Pe.selector)&&Pe.mdcClasses.forEach(Te=>{q.add(Te)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(B="program",me){B?this._focusMonitor.focusVia(this._elementRef.nativeElement,B,me):this._elementRef.nativeElement.focus(me)}_hasHostAttributes(...B){return B.some(me=>this._elementRef.nativeElement.hasAttribute(me))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(de=j).\u0275fac=function(B){n.\u0275\u0275invalidFactory()},de.\u0275dir=n.\u0275\u0275defineDirective({type:de,features:[n.\u0275\u0275InheritDefinitionFeature]}),j})(),Q=(()=>{var de;class j extends f{constructor(B,me,Fe,ge){super(B,me,Fe,ge)}}return(de=j).\u0275fac=function(B){return new(B||de)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(c.t4),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.ANIMATION_MODULE_TYPE,8))},de.\u0275cmp=n.\u0275\u0275defineComponent({type:de,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(B,me){2&B&&(n.\u0275\u0275attribute("disabled",me.disabled||null),n.\u0275\u0275classProp("_mat-animation-noopable","NoopAnimations"===me._animationMode)("mat-unthemed",!me.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.\u0275\u0275InheritDefinitionFeature],attrs:g,ngContentSelectors:p,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(B,me){1&B&&(n.\u0275\u0275projectionDef(C),n.\u0275\u0275element(0,"span",0),n.\u0275\u0275projection(1),n.\u0275\u0275elementStart(2,"span",1),n.\u0275\u0275projection(3,1),n.\u0275\u0275elementEnd(),n.\u0275\u0275projection(4,2),n.\u0275\u0275element(5,"span",2)(6,"span",3)),2&B&&n.\u0275\u0275classProp("mdc-button__ripple",!me._isFab)("mdc-fab__ripple",me._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),j})(),Ke=(()=>{var de;class j extends f{constructor(B,me,Fe,ge){super(B,me,Fe,ge),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(de=j).\u0275fac=function(B){return new(B||de)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(c.t4),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.ANIMATION_MODULE_TYPE,8))},de.\u0275cmp=n.\u0275\u0275defineComponent({type:de,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(B,me){2&B&&(n.\u0275\u0275attribute("disabled",me.disabled||null),n.\u0275\u0275classProp("_mat-animation-noopable","NoopAnimations"===me._animationMode)("mat-unthemed",!me.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.\u0275\u0275InheritDefinitionFeature],attrs:u,ngContentSelectors:h,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(B,me){1&B&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275element(0,"span",0),n.\u0275\u0275projection(1),n.\u0275\u0275element(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),j})(),le=(()=>{var de;class j{}return(de=j).\u0275fac=function(B){return new(B||de)},de.\u0275mod=n.\u0275\u0275defineNgModule({type:de}),de.\u0275inj=n.\u0275\u0275defineInjector({imports:[d.BQ,d.si,d.BQ]}),j})()},3680:(Qe,ke,M)=>{M.d(ke,{yN:()=>T,mZ:()=>O,_A:()=>Ke,rD:()=>ge,sG:()=>ve,Y2:()=>xt,BQ:()=>N,uc:()=>ie,Ng:()=>X,rN:()=>Le,us:()=>je,wG:()=>It,Fq:()=>dt,si:()=>At,IR:()=>ut,CB:()=>ye,jH:()=>Me,pj:()=>ze,Kr:()=>Be,Id:()=>Re,FD:()=>te,sb:()=>U});var c=M(7970),n=M(7849),E=M(9388),d=M(3595),g=M(2831),C=M(2495),p=M(8645);let T=(()=>{var xe;class K{}return(xe=K).STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",xe.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",xe.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",xe.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",K})(),O=(()=>{var xe;class K{}return(xe=K).COMPLEX="375ms",xe.ENTERING="225ms",xe.EXITING="195ms",K})();const S=new c.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function f(){return!0}});let N=(()=>{var xe;class K{constructor(G,Z,pe){this._sanityChecks=Z,this._document=pe,this._hasDoneGlobalChecks=!1,G._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(G){return!(0,g.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[G])}}return(xe=K).\u0275fac=function(G){return new(G||xe)(c.\u0275\u0275inject(n.qm),c.\u0275\u0275inject(S,8),c.\u0275\u0275inject(d.DOCUMENT))},xe.\u0275mod=c.\u0275\u0275defineNgModule({type:xe}),xe.\u0275inj=c.\u0275\u0275defineInjector({imports:[E.vT,E.vT]}),K})();function Re(xe){return class extends xe{get disabled(){return this._disabled}set disabled(K){this._disabled=(0,C.Ig)(K)}constructor(...K){super(...K),this._disabled=!1}}}function ze(xe,K){return class extends xe{get color(){return this._color}set color(V){const G=V||this.defaultColor;G!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),G&&this._elementRef.nativeElement.classList.add(`mat-${G}`),this._color=G)}constructor(...V){super(...V),this.defaultColor=K,this.color=K}}}function Be(xe){return class extends xe{get disableRipple(){return this._disableRipple}set disableRipple(K){this._disableRipple=(0,C.Ig)(K)}constructor(...K){super(...K),this._disableRipple=!1}}}function U(xe,K=0){return class extends xe{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(V){this._tabIndex=null!=V?(0,C.su)(V):this.defaultTabIndex}constructor(...V){super(...V),this._tabIndex=K,this.defaultTabIndex=K}}}function te(xe){return class extends xe{updateErrorState(){const K=this.errorState,pe=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);pe!==K&&(this.errorState=pe,this.stateChanges.next())}constructor(...K){super(...K),this.errorState=!1}}}class Ke{constructor(){this._localeChanges=new p.x,this.localeChanges=this._localeChanges}getValidDateOrNull(K){return this.isDateInstance(K)&&this.isValid(K)?K:null}deserialize(K){return null==K||this.isDateInstance(K)&&this.isValid(K)?K:this.invalid()}setLocale(K){this.locale=K,this._localeChanges.next()}compareDate(K,V){return this.getYear(K)-this.getYear(V)||this.getMonth(K)-this.getMonth(V)||this.getDate(K)-this.getDate(V)}sameDate(K,V){if(K&&V){let G=this.isValid(K),Z=this.isValid(V);return G&&Z?!this.compareDate(K,V):G==Z}return K==V}clampDate(K,V,G){return V&&this.compareDate(K,V)<0?V:G&&this.compareDate(K,G)>0?G:K}}const ve=new c.InjectionToken("mat-date-formats");let ge=(()=>{var xe;class K{isErrorState(G,Z){return!!(G&&G.invalid&&(G.touched||Z&&Z.submitted))}}return(xe=K).\u0275fac=function(G){return new(G||xe)},xe.\u0275prov=c.\u0275\u0275defineInjectable({token:xe,factory:xe.\u0275fac,providedIn:"root"}),K})(),ie=(()=>{var xe;class K{}return(xe=K).\u0275fac=function(G){return new(G||xe)},xe.\u0275mod=c.\u0275\u0275defineNgModule({type:xe}),xe.\u0275inj=c.\u0275\u0275defineInjector({imports:[N,N]}),K})();class Ee{constructor(K,V,G,Z=!1){this._renderer=K,this.element=V,this.config=G,this._animationForciblyDisabledThroughCss=Z,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ze=(0,g.i$)({passive:!0,capture:!0});class ot{constructor(){this._events=new Map,this._delegateEventHandler=K=>{const V=(0,g.sA)(K);V&&this._events.get(K.type)?.forEach((G,Z)=>{(Z===V||Z.contains(V))&&G.forEach(pe=>pe.handleEvent(K))})}}addHandler(K,V,G,Z){const pe=this._events.get(V);if(pe){const re=pe.get(G);re?re.add(Z):pe.set(G,new Set([Z]))}else this._events.set(V,new Map([[G,new Set([Z])]])),K.runOutsideAngular(()=>{document.addEventListener(V,this._delegateEventHandler,Ze)})}removeHandler(K,V,G){const Z=this._events.get(K);if(!Z)return;const pe=Z.get(V);pe&&(pe.delete(G),0===pe.size&&Z.delete(V),0===Z.size&&(this._events.delete(K),document.removeEventListener(K,this._delegateEventHandler,Ze)))}}const mt={enterDuration:225,exitDuration:150},wt=(0,g.i$)({passive:!0,capture:!0}),kt=["mousedown","touchstart"],lt=["mouseup","mouseleave","touchend","touchcancel"];class ut{constructor(K,V,G,Z){this._target=K,this._ngZone=V,this._platform=Z,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Z.isBrowser&&(this._containerElement=(0,C.fI)(G))}fadeInRipple(K,V,G={}){const Z=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),pe={...mt,...G.animation};G.centered&&(K=Z.left+Z.width/2,V=Z.top+Z.height/2);const re=G.radius||function Ct(xe,K,V){const G=Math.max(Math.abs(xe-V.left),Math.abs(xe-V.right)),Z=Math.max(Math.abs(K-V.top),Math.abs(K-V.bottom));return Math.sqrt(G*G+Z*Z)}(K,V,Z),ne=K-Z.left,we=V-Z.top,ce=pe.enterDuration,fe=document.createElement("div");fe.classList.add("mat-ripple-element"),fe.style.left=ne-re+"px",fe.style.top=we-re+"px",fe.style.height=2*re+"px",fe.style.width=2*re+"px",null!=G.color&&(fe.style.backgroundColor=G.color),fe.style.transitionDuration=`${ce}ms`,this._containerElement.appendChild(fe);const Ue=window.getComputedStyle(fe),at=Ue.transitionDuration,vt="none"===Ue.transitionProperty||"0s"===at||"0s, 0s"===at||0===Z.width&&0===Z.height,St=new Ee(this,fe,G,vt);fe.style.transform="scale3d(1, 1, 1)",St.state=0,G.persistent||(this._mostRecentTransientRipple=St);let ct=null;return!vt&&(ce||pe.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Zt=()=>this._finishRippleTransition(St),Bt=()=>this._destroyRipple(St);fe.addEventListener("transitionend",Zt),fe.addEventListener("transitioncancel",Bt),ct={onTransitionEnd:Zt,onTransitionCancel:Bt}}),this._activeRipples.set(St,ct),(vt||!ce)&&this._finishRippleTransition(St),St}fadeOutRipple(K){if(2===K.state||3===K.state)return;const V=K.element,G={...mt,...K.config.animation};V.style.transitionDuration=`${G.exitDuration}ms`,V.style.opacity="0",K.state=2,(K._animationForciblyDisabledThroughCss||!G.exitDuration)&&this._finishRippleTransition(K)}fadeOutAll(){this._getActiveRipples().forEach(K=>K.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(K=>{K.config.persistent||K.fadeOut()})}setupTriggerEvents(K){const V=(0,C.fI)(K);!this._platform.isBrowser||!V||V===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=V,kt.forEach(G=>{ut._eventManager.addHandler(this._ngZone,G,V,this)}))}handleEvent(K){"mousedown"===K.type?this._onMousedown(K):"touchstart"===K.type?this._onTouchStart(K):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lt.forEach(V=>{this._triggerElement.addEventListener(V,this,wt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(K){0===K.state?this._startFadeOutTransition(K):2===K.state&&this._destroyRipple(K)}_startFadeOutTransition(K){const V=K===this._mostRecentTransientRipple,{persistent:G}=K.config;K.state=1,!G&&(!V||!this._isPointerDown)&&K.fadeOut()}_destroyRipple(K){const V=this._activeRipples.get(K)??null;this._activeRipples.delete(K),this._activeRipples.size||(this._containerRect=null),K===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),K.state=3,null!==V&&(K.element.removeEventListener("transitionend",V.onTransitionEnd),K.element.removeEventListener("transitioncancel",V.onTransitionCancel)),K.element.remove()}_onMousedown(K){const V=(0,n.X6)(K),G=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!V&&!G&&(this._isPointerDown=!0,this.fadeInRipple(K.clientX,K.clientY,this._target.rippleConfig))}_onTouchStart(K){if(!this._target.rippleDisabled&&!(0,n.yG)(K)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const V=K.changedTouches;if(V)for(let G=0;G<V.length;G++)this.fadeInRipple(V[G].clientX,V[G].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(K=>{!K.config.persistent&&(1===K.state||K.config.terminateOnPointerUp&&0===K.state)&&K.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const K=this._triggerElement;K&&(kt.forEach(V=>ut._eventManager.removeHandler(V,K,this)),this._pointerUpEventsRegistered&&lt.forEach(V=>K.removeEventListener(V,this,wt)))}}ut._eventManager=new ot;const xt=new c.InjectionToken("mat-ripple-global-options");let It=(()=>{var xe;class K{get disabled(){return this._disabled}set disabled(G){G&&this.fadeOutAllNonPersistent(),this._disabled=G,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(G){this._trigger=G,this._setupTriggerEventsIfEnabled()}constructor(G,Z,pe,re,ne){this._elementRef=G,this._animationMode=ne,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=re||{},this._rippleRenderer=new ut(this,Z,G,pe)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(G,Z=0,pe){return"number"==typeof G?this._rippleRenderer.fadeInRipple(G,Z,{...this.rippleConfig,...pe}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...G})}}return(xe=K).\u0275fac=function(G){return new(G||xe)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.NgZone),c.\u0275\u0275directiveInject(g.t4),c.\u0275\u0275directiveInject(xt,8),c.\u0275\u0275directiveInject(c.ANIMATION_MODULE_TYPE,8))},xe.\u0275dir=c.\u0275\u0275defineDirective({type:xe,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(G,Z){2&G&&c.\u0275\u0275classProp("mat-ripple-unbounded",Z.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),K})(),At=(()=>{var xe;class K{}return(xe=K).\u0275fac=function(G){return new(G||xe)},xe.\u0275mod=c.\u0275\u0275defineNgModule({type:xe}),xe.\u0275inj=c.\u0275\u0275defineInjector({imports:[N,N]}),K})(),je=(()=>{var xe;class K{}return(xe=K).\u0275fac=function(G){return new(G||xe)},xe.\u0275mod=c.\u0275\u0275defineNgModule({type:xe}),xe.\u0275inj=c.\u0275\u0275defineInjector({imports:[N]}),K})();class Le{constructor(K,V=!1){this.source=K,this.isUserInput=V}}function ye(xe,K,V){if(V.length){let G=K.toArray(),Z=V.toArray(),pe=0;for(let re=0;re<xe+1;re++)G[re].group&&G[re].group===Z[pe]&&pe++;return pe}return 0}function Me(xe,K,V,G){return xe<V?xe:xe+K>V+G?Math.max(0,xe-G+K):V}let X=(()=>{var xe;class K{}return(xe=K).\u0275fac=function(G){return new(G||xe)},xe.\u0275mod=c.\u0275\u0275defineNgModule({type:xe}),xe.\u0275inj=c.\u0275\u0275defineInjector({imports:[At,d.CommonModule,N,je]}),K})();const he={capture:!0},Ge=["focus","click","mouseenter","touchstart"],De="mat-ripple-loader-uninitialized",Ie="mat-ripple-loader-class-name",Oe="mat-ripple-loader-centered",et="mat-ripple-loader-disabled";let dt=(()=>{var xe;class K{constructor(){this._document=(0,c.inject)(d.DOCUMENT,{optional:!0}),this._animationMode=(0,c.inject)(c.ANIMATION_MODULE_TYPE,{optional:!0}),this._globalRippleOptions=(0,c.inject)(xt,{optional:!0}),this._platform=(0,c.inject)(g.t4),this._ngZone=(0,c.inject)(c.NgZone),this._onInteraction=G=>{if(!(G.target instanceof HTMLElement))return;const pe=G.target.closest(`[${De}]`);pe&&this.createRipple(pe)},this._ngZone.runOutsideAngular(()=>{for(const G of Ge)this._document?.addEventListener(G,this._onInteraction,he)})}ngOnDestroy(){for(const G of Ge)this._document?.removeEventListener(G,this._onInteraction,he)}configureRipple(G,Z){G.setAttribute(De,""),(Z.className||!G.hasAttribute(Ie))&&G.setAttribute(Ie,Z.className||""),Z.centered&&G.setAttribute(Oe,""),Z.disabled&&G.setAttribute(et,"")}getRipple(G){return G.matRipple?G.matRipple:this.createRipple(G)}setDisabled(G,Z){const pe=G.matRipple;pe?pe.disabled=Z:Z?G.setAttribute(et,""):G.removeAttribute(et)}createRipple(G){if(!this._document)return;G.querySelector(".mat-ripple")?.remove();const Z=this._document.createElement("span");Z.classList.add("mat-ripple",G.getAttribute(Ie)),G.append(Z);const pe=new It(new c.ElementRef(Z),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return pe._isInitialized=!0,pe.trigger=G,pe.centered=G.hasAttribute(Oe),pe.disabled=G.hasAttribute(et),this.attachRipple(G,pe),pe}attachRipple(G,Z){G.removeAttribute(De),G.matRipple=Z}}return(xe=K).\u0275fac=function(G){return new(G||xe)},xe.\u0275prov=c.\u0275\u0275defineInjectable({token:xe,factory:xe.\u0275fac,providedIn:"root"}),K})()},617:(Qe,ke,M)=>{M.d(ke,{Hw:()=>j,Ps:()=>Y});var c=M(7970),n=M(3680),E=M(2495),l=M(3595),d=M(2096),g=M(8504),C=M(9315),p=M(7394),y=M(9397),x=M(7398),w=M(6306),b=M(4716),o=M(3020),u=M(8180),h=M(567),m=M(6593);const v=["*"];let k;function O(B){return function T(){if(void 0===k&&(k=null,typeof window<"u")){const B=window;void 0!==B.trustedTypes&&(k=B.trustedTypes.createPolicy("angular#components",{createHTML:me=>me}))}return k}()?.createHTML(B)||B}function f(B){return Error(`Unable to find icon with the name "${B}"`)}function N(B){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${B}".`)}function ee(B){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${B}".`)}class Q{constructor(me,Fe,ge){this.url=me,this.svgText=Fe,this.options=ge}}let se=(()=>{var B;class me{constructor(ge,q,Pe,Te){this._httpClient=ge,this._sanitizer=q,this._errorHandler=Te,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Pe}addSvgIcon(ge,q,Pe){return this.addSvgIconInNamespace("",ge,q,Pe)}addSvgIconLiteral(ge,q,Pe){return this.addSvgIconLiteralInNamespace("",ge,q,Pe)}addSvgIconInNamespace(ge,q,Pe,Te){return this._addSvgIconConfig(ge,q,new Q(Pe,null,Te))}addSvgIconResolver(ge){return this._resolvers.push(ge),this}addSvgIconLiteralInNamespace(ge,q,Pe,Te){const ie=this._sanitizer.sanitize(c.SecurityContext.HTML,Pe);if(!ie)throw ee(Pe);const Ee=O(ie);return this._addSvgIconConfig(ge,q,new Q("",Ee,Te))}addSvgIconSet(ge,q){return this.addSvgIconSetInNamespace("",ge,q)}addSvgIconSetLiteral(ge,q){return this.addSvgIconSetLiteralInNamespace("",ge,q)}addSvgIconSetInNamespace(ge,q,Pe){return this._addSvgIconSetConfig(ge,new Q(q,null,Pe))}addSvgIconSetLiteralInNamespace(ge,q,Pe){const Te=this._sanitizer.sanitize(c.SecurityContext.HTML,q);if(!Te)throw ee(q);const ie=O(Te);return this._addSvgIconSetConfig(ge,new Q("",ie,Pe))}registerFontClassAlias(ge,q=ge){return this._fontCssClassesByAlias.set(ge,q),this}classNameForFontAlias(ge){return this._fontCssClassesByAlias.get(ge)||ge}setDefaultFontSetClass(...ge){return this._defaultFontSetClass=ge,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ge){const q=this._sanitizer.sanitize(c.SecurityContext.RESOURCE_URL,ge);if(!q)throw N(ge);const Pe=this._cachedIconsByUrl.get(q);return Pe?(0,d.of)(Be(Pe)):this._loadSvgIconFromConfig(new Q(ge,null)).pipe((0,y.b)(Te=>this._cachedIconsByUrl.set(q,Te)),(0,x.U)(Te=>Be(Te)))}getNamedSvgIcon(ge,q=""){const Pe=U(q,ge);let Te=this._svgIconConfigs.get(Pe);if(Te)return this._getSvgFromConfig(Te);if(Te=this._getIconConfigFromResolvers(q,ge),Te)return this._svgIconConfigs.set(Pe,Te),this._getSvgFromConfig(Te);const ie=this._iconSetConfigs.get(q);return ie?this._getSvgFromIconSetConfigs(ge,ie):(0,g._)(f(Pe))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ge){return ge.svgText?(0,d.of)(Be(this._svgElementFromConfig(ge))):this._loadSvgIconFromConfig(ge).pipe((0,x.U)(q=>Be(q)))}_getSvgFromIconSetConfigs(ge,q){const Pe=this._extractIconWithNameFromAnySet(ge,q);if(Pe)return(0,d.of)(Pe);const Te=q.filter(ie=>!ie.svgText).map(ie=>this._loadSvgIconSetFromConfig(ie).pipe((0,w.K)(Ee=>{const ot=`Loading icon set URL: ${this._sanitizer.sanitize(c.SecurityContext.RESOURCE_URL,ie.url)} failed: ${Ee.message}`;return this._errorHandler.handleError(new Error(ot)),(0,d.of)(null)})));return(0,C.D)(Te).pipe((0,x.U)(()=>{const ie=this._extractIconWithNameFromAnySet(ge,q);if(!ie)throw f(ge);return ie}))}_extractIconWithNameFromAnySet(ge,q){for(let Pe=q.length-1;Pe>=0;Pe--){const Te=q[Pe];if(Te.svgText&&Te.svgText.toString().indexOf(ge)>-1){const ie=this._svgElementFromConfig(Te),Ee=this._extractSvgIconFromSet(ie,ge,Te.options);if(Ee)return Ee}}return null}_loadSvgIconFromConfig(ge){return this._fetchIcon(ge).pipe((0,y.b)(q=>ge.svgText=q),(0,x.U)(()=>this._svgElementFromConfig(ge)))}_loadSvgIconSetFromConfig(ge){return ge.svgText?(0,d.of)(null):this._fetchIcon(ge).pipe((0,y.b)(q=>ge.svgText=q))}_extractSvgIconFromSet(ge,q,Pe){const Te=ge.querySelector(`[id="${q}"]`);if(!Te)return null;const ie=Te.cloneNode(!0);if(ie.removeAttribute("id"),"svg"===ie.nodeName.toLowerCase())return this._setSvgAttributes(ie,Pe);if("symbol"===ie.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(ie),Pe);const Ee=this._svgElementFromString(O("<svg></svg>"));return Ee.appendChild(ie),this._setSvgAttributes(Ee,Pe)}_svgElementFromString(ge){const q=this._document.createElement("DIV");q.innerHTML=ge;const Pe=q.querySelector("svg");if(!Pe)throw Error("<svg> tag not found");return Pe}_toSvgElement(ge){const q=this._svgElementFromString(O("<svg></svg>")),Pe=ge.attributes;for(let Te=0;Te<Pe.length;Te++){const{name:ie,value:Ee}=Pe[Te];"id"!==ie&&q.setAttribute(ie,Ee)}for(let Te=0;Te<ge.childNodes.length;Te++)ge.childNodes[Te].nodeType===this._document.ELEMENT_NODE&&q.appendChild(ge.childNodes[Te].cloneNode(!0));return q}_setSvgAttributes(ge,q){return ge.setAttribute("fit",""),ge.setAttribute("height","100%"),ge.setAttribute("width","100%"),ge.setAttribute("preserveAspectRatio","xMidYMid meet"),ge.setAttribute("focusable","false"),q&&q.viewBox&&ge.setAttribute("viewBox",q.viewBox),ge}_fetchIcon(ge){const{url:q,options:Pe}=ge,Te=Pe?.withCredentials??!1;if(!this._httpClient)throw function S(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==q)throw Error(`Cannot fetch icon from URL "${q}".`);const ie=this._sanitizer.sanitize(c.SecurityContext.RESOURCE_URL,q);if(!ie)throw N(q);const Ee=this._inProgressUrlFetches.get(ie);if(Ee)return Ee;const Ze=this._httpClient.get(ie,{responseType:"text",withCredentials:Te}).pipe((0,x.U)(ot=>O(ot)),(0,b.x)(()=>this._inProgressUrlFetches.delete(ie)),(0,o.B)());return this._inProgressUrlFetches.set(ie,Ze),Ze}_addSvgIconConfig(ge,q,Pe){return this._svgIconConfigs.set(U(ge,q),Pe),this}_addSvgIconSetConfig(ge,q){const Pe=this._iconSetConfigs.get(ge);return Pe?Pe.push(q):this._iconSetConfigs.set(ge,[q]),this}_svgElementFromConfig(ge){if(!ge.svgElement){const q=this._svgElementFromString(ge.svgText);this._setSvgAttributes(q,ge.options),ge.svgElement=q}return ge.svgElement}_getIconConfigFromResolvers(ge,q){for(let Pe=0;Pe<this._resolvers.length;Pe++){const Te=this._resolvers[Pe](q,ge);if(Te)return te(Te)?new Q(Te.url,null,Te.options):new Q(Te,null)}}}return(B=me).\u0275fac=function(ge){return new(ge||B)(c.\u0275\u0275inject(h.HttpClient,8),c.\u0275\u0275inject(m.H7),c.\u0275\u0275inject(l.DOCUMENT,8),c.\u0275\u0275inject(c.ErrorHandler))},B.\u0275prov=c.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),me})();function Be(B){return B.cloneNode(!0)}function U(B,me){return B+":"+me}function te(B){return!(!B.url||!B.options)}const ue=(0,n.pj)(class{constructor(B){this._elementRef=B}}),_e=new c.InjectionToken("MAT_ICON_DEFAULT_OPTIONS"),Ve=new c.InjectionToken("mat-icon-location",{providedIn:"root",factory:function Ke(){const B=(0,c.inject)(l.DOCUMENT),me=B?B.location:null;return{getPathname:()=>me?me.pathname+me.search:""}}}),ve=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],le=ve.map(B=>`[${B}]`).join(", "),de=/^url\(['"]?#(.*?)['"]?\)$/;let j=(()=>{var B;class me extends ue{get inline(){return this._inline}set inline(ge){this._inline=(0,E.Ig)(ge)}get svgIcon(){return this._svgIcon}set svgIcon(ge){ge!==this._svgIcon&&(ge?this._updateSvgIcon(ge):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ge)}get fontSet(){return this._fontSet}set fontSet(ge){const q=this._cleanupFontValue(ge);q!==this._fontSet&&(this._fontSet=q,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ge){const q=this._cleanupFontValue(ge);q!==this._fontIcon&&(this._fontIcon=q,this._updateFontIconClasses())}constructor(ge,q,Pe,Te,ie,Ee){super(ge),this._iconRegistry=q,this._location=Te,this._errorHandler=ie,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=p.w0.EMPTY,Ee&&(Ee.color&&(this.color=this.defaultColor=Ee.color),Ee.fontSet&&(this.fontSet=Ee.fontSet)),Pe||ge.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(ge){if(!ge)return["",""];const q=ge.split(":");switch(q.length){case 1:return["",q[0]];case 2:return q;default:throw Error(`Invalid icon name: "${ge}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ge=this._elementsWithExternalReferences;if(ge&&ge.size){const q=this._location.getPathname();q!==this._previousPath&&(this._previousPath=q,this._prependPathToReferences(q))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ge){this._clearSvgElement();const q=this._location.getPathname();this._previousPath=q,this._cacheChildrenWithExternalReferences(ge),this._prependPathToReferences(q),this._elementRef.nativeElement.appendChild(ge)}_clearSvgElement(){const ge=this._elementRef.nativeElement;let q=ge.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();q--;){const Pe=ge.childNodes[q];(1!==Pe.nodeType||"svg"===Pe.nodeName.toLowerCase())&&Pe.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ge=this._elementRef.nativeElement,q=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Pe=>Pe.length>0);this._previousFontSetClass.forEach(Pe=>ge.classList.remove(Pe)),q.forEach(Pe=>ge.classList.add(Pe)),this._previousFontSetClass=q,this.fontIcon!==this._previousFontIconClass&&!q.includes("mat-ligature-font")&&(this._previousFontIconClass&&ge.classList.remove(this._previousFontIconClass),this.fontIcon&&ge.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ge){return"string"==typeof ge?ge.trim().split(" ")[0]:ge}_prependPathToReferences(ge){const q=this._elementsWithExternalReferences;q&&q.forEach((Pe,Te)=>{Pe.forEach(ie=>{Te.setAttribute(ie.name,`url('${ge}#${ie.value}')`)})})}_cacheChildrenWithExternalReferences(ge){const q=ge.querySelectorAll(le),Pe=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Te=0;Te<q.length;Te++)ve.forEach(ie=>{const Ee=q[Te],Ze=Ee.getAttribute(ie),ot=Ze?Ze.match(de):null;if(ot){let mt=Pe.get(Ee);mt||(mt=[],Pe.set(Ee,mt)),mt.push({name:ie,value:ot[1]})}})}_updateSvgIcon(ge){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ge){const[q,Pe]=this._splitIconName(ge);q&&(this._svgNamespace=q),Pe&&(this._svgName=Pe),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Pe,q).pipe((0,u.q)(1)).subscribe(Te=>this._setSvgElement(Te),Te=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${q}:${Pe}! ${Te.message}`))})}}}return(B=me).\u0275fac=function(ge){return new(ge||B)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(se),c.\u0275\u0275injectAttribute("aria-hidden"),c.\u0275\u0275directiveInject(Ve),c.\u0275\u0275directiveInject(c.ErrorHandler),c.\u0275\u0275directiveInject(_e,8))},B.\u0275cmp=c.\u0275\u0275defineComponent({type:B,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(ge,q){2&ge&&(c.\u0275\u0275attribute("data-mat-icon-type",q._usingFontIcon()?"font":"svg")("data-mat-icon-name",q._svgName||q.fontIcon)("data-mat-icon-namespace",q._svgNamespace||q.fontSet)("fontIcon",q._usingFontIcon()?q.fontIcon:null),c.\u0275\u0275classProp("mat-icon-inline",q.inline)("mat-icon-no-color","primary"!==q.color&&"accent"!==q.color&&"warn"!==q.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:v,decls:1,vars:0,template:function(ge,q){1&ge&&(c.\u0275\u0275projectionDef(),c.\u0275\u0275projection(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),me})(),Y=(()=>{var B;class me{}return(B=me).\u0275fac=function(ge){return new(ge||B)},B.\u0275mod=c.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=c.\u0275\u0275defineInjector({imports:[n.BQ,n.BQ]}),me})()},5940:(Qe,ke,M)=>{M.d(ke,{Cq:()=>u,Ou:()=>b});var c=M(7970),n=M(3680),E=M(2495),l=M(3595);const d=["determinateSpinner"];function g(h,m){if(1&h&&(c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(0,"svg",11),c.\u0275\u0275element(1,"circle",12),c.\u0275\u0275elementEnd()),2&h){const v=c.\u0275\u0275nextContext();c.\u0275\u0275attribute("viewBox",v._viewBox()),c.\u0275\u0275advance(1),c.\u0275\u0275styleProp("stroke-dasharray",v._strokeCircumference(),"px")("stroke-dashoffset",v._strokeCircumference()/2,"px")("stroke-width",v._circleStrokeWidth(),"%"),c.\u0275\u0275attribute("r",v._circleRadius())}}const C=(0,n.pj)(class{constructor(h){this._elementRef=h}},"primary"),p=new c.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:function y(){return{diameter:x}}}),x=100;let b=(()=>{var h;class m extends C{constructor(k,T,O){super(k),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=x,this._noopAnimations="NoopAnimations"===T&&!!O&&!O._forceAnimations,O&&(O.color&&(this.color=this.defaultColor=O.color),O.diameter&&(this.diameter=O.diameter),O.strokeWidth&&(this.strokeWidth=O.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(k){this._value=Math.max(0,Math.min(100,(0,E.su)(k)))}get diameter(){return this._diameter}set diameter(k){this._diameter=(0,E.su)(k)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(k){this._strokeWidth=(0,E.su)(k)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const k=2*this._circleRadius()+this.strokeWidth;return`0 0 ${k} ${k}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return(h=m).\u0275fac=function(k){return new(k||h)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.ANIMATION_MODULE_TYPE,8),c.\u0275\u0275directiveInject(p))},h.\u0275cmp=c.\u0275\u0275defineComponent({type:h,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(k,T){if(1&k&&c.\u0275\u0275viewQuery(d,5),2&k){let O;c.\u0275\u0275queryRefresh(O=c.\u0275\u0275loadQuery())&&(T._determinateCircle=O.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(k,T){2&k&&(c.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===T.mode?T.value:null)("mode",T.mode),c.\u0275\u0275styleProp("width",T.diameter,"px")("height",T.diameter,"px")("--mdc-circular-progress-size",T.diameter+"px")("--mdc-circular-progress-active-indicator-width",T.diameter+"px"),c.\u0275\u0275classProp("_mat-animation-noopable",T._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===T.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[c.\u0275\u0275InheritDefinitionFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(k,T){if(1&k&&(c.\u0275\u0275template(0,g,2,8,"ng-template",null,0,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementStart(2,"div",1,2),c.\u0275\u0275namespaceSVG(),c.\u0275\u0275elementStart(4,"svg",3),c.\u0275\u0275element(5,"circle",4),c.\u0275\u0275elementEnd()(),c.\u0275\u0275namespaceHTML(),c.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),c.\u0275\u0275elementContainer(9,8),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"div",9),c.\u0275\u0275elementContainer(11,8),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(12,"div",10),c.\u0275\u0275elementContainer(13,8),c.\u0275\u0275elementEnd()()()),2&k){const O=c.\u0275\u0275reference(1);c.\u0275\u0275advance(4),c.\u0275\u0275attribute("viewBox",T._viewBox()),c.\u0275\u0275advance(1),c.\u0275\u0275styleProp("stroke-dasharray",T._strokeCircumference(),"px")("stroke-dashoffset",T._strokeDashOffset(),"px")("stroke-width",T._circleStrokeWidth(),"%"),c.\u0275\u0275attribute("r",T._circleRadius()),c.\u0275\u0275advance(4),c.\u0275\u0275property("ngTemplateOutlet",O),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngTemplateOutlet",O),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngTemplateOutlet",O)}},dependencies:[l.NgTemplateOutlet],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),m})(),u=(()=>{var h;class m{}return(h=m).\u0275fac=function(k){return new(k||h)},h.\u0275mod=c.\u0275\u0275defineNgModule({type:h}),h.\u0275inj=c.\u0275\u0275defineInjector({imports:[l.CommonModule,n.BQ]}),m})()},2651:(Qe,ke,M)=>{M.d(ke,{LW:()=>de,SJ:()=>ge,jA:()=>j,kh:()=>Y});var c=M(799),n=M(3595),E=M(7970),l=M(3680),d=M(7849),g=M(9388),C=M(2495),p=M(6028),y=M(2831),x=M(8645),w=M(2438),b=M(3019),o=M(2181),u=M(7398),h=M(975),m=M(9773),v=M(3997),k=M(8180),T=M(7921),O=M(3620),f=M(6825);const S=["*"],N=["content"];function ee(q,Pe){if(1&q){const Te=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",2),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(Te);const Ee=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(Ee._onBackdropClicked())}),E.\u0275\u0275elementEnd()}if(2&q){const Te=E.\u0275\u0275nextContext();E.\u0275\u0275classProp("mat-drawer-shown",Te._isShowingBackdrop())}}function Q(q,Pe){1&q&&(E.\u0275\u0275elementStart(0,"mat-drawer-content"),E.\u0275\u0275projection(1,2),E.\u0275\u0275elementEnd())}const se=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Re=["mat-drawer","mat-drawer-content","*"],_e={transformDrawer:(0,f.X$)("transform",[(0,f.SB)("open, open-instant",(0,f.oB)({transform:"none",visibility:"visible"})),(0,f.SB)("void",(0,f.oB)({"box-shadow":"none",visibility:"hidden"})),(0,f.eR)("void => open-instant",(0,f.jt)("0ms")),(0,f.eR)("void <=> open, open-instant => void",(0,f.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ke=new E.InjectionToken("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function le(){return!1}}),ve=new E.InjectionToken("MAT_DRAWER_CONTAINER");let de=(()=>{var q;class Pe extends c.PQ{constructor(ie,Ee,Ze,ot,mt){super(Ze,ot,mt),this._changeDetectorRef=ie,this._container=Ee}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return(q=Pe).\u0275fac=function(ie){return new(ie||q)(E.\u0275\u0275directiveInject(E.ChangeDetectorRef),E.\u0275\u0275directiveInject((0,E.forwardRef)(()=>Y)),E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(c.mF),E.\u0275\u0275directiveInject(E.NgZone))},q.\u0275cmp=E.\u0275\u0275defineComponent({type:q,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(ie,Ee){2&ie&&E.\u0275\u0275styleProp("margin-left",Ee._container._contentMargins.left,"px")("margin-right",Ee._container._contentMargins.right,"px")},features:[E.\u0275\u0275ProvidersFeature([{provide:c.PQ,useExisting:q}]),E.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:S,decls:1,vars:0,template:function(ie,Ee){1&ie&&(E.\u0275\u0275projectionDef(),E.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),Pe})(),j=(()=>{var q;class Pe{get position(){return this._position}set position(ie){(ie="end"===ie?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(ie),this._position=ie,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(ie){this._mode=ie,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(ie){this._disableClose=(0,C.Ig)(ie)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(ie){("true"===ie||"false"===ie||null==ie)&&(ie=(0,C.Ig)(ie)),this._autoFocus=ie}get opened(){return this._opened}set opened(ie){this.toggle((0,C.Ig)(ie))}constructor(ie,Ee,Ze,ot,mt,yt,wt,kt){this._elementRef=ie,this._focusTrapFactory=Ee,this._focusMonitor=Ze,this._platform=ot,this._ngZone=mt,this._interactivityChecker=yt,this._doc=wt,this._container=kt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x.x,this._animationEnd=new x.x,this._animationState="void",this.openedChange=new E.EventEmitter(!0),this._openedStream=this.openedChange.pipe((0,o.h)(lt=>lt),(0,u.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,o.h)(lt=>lt.fromState!==lt.toState&&0===lt.toState.indexOf("open")),(0,h.h)(void 0)),this._closedStream=this.openedChange.pipe((0,o.h)(lt=>!lt),(0,u.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,o.h)(lt=>lt.fromState!==lt.toState&&"void"===lt.toState),(0,h.h)(void 0)),this._destroyed=new x.x,this.onPositionChanged=new E.EventEmitter,this._modeChanged=new x.x,this.openedChange.subscribe(lt=>{lt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,w.R)(this._elementRef.nativeElement,"keydown").pipe((0,o.h)(lt=>lt.keyCode===p.hY&&!this.disableClose&&!(0,p.Vb)(lt)),(0,m.R)(this._destroyed)).subscribe(lt=>this._ngZone.run(()=>{this.close(),lt.stopPropagation(),lt.preventDefault()}))}),this._animationEnd.pipe((0,v.x)((lt,ut)=>lt.fromState===ut.fromState&&lt.toState===ut.toState)).subscribe(lt=>{const{fromState:ut,toState:Ct}=lt;(0===Ct.indexOf("open")&&"void"===ut||"void"===Ct&&0===ut.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(ie,Ee){this._interactivityChecker.isFocusable(ie)||(ie.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Ze=()=>{ie.removeEventListener("blur",Ze),ie.removeEventListener("mousedown",Ze),ie.removeAttribute("tabindex")};ie.addEventListener("blur",Ze),ie.addEventListener("mousedown",Ze)})),ie.focus(Ee)}_focusByCssSelector(ie,Ee){let Ze=this._elementRef.nativeElement.querySelector(ie);Ze&&this._forceFocus(Ze,Ee)}_takeFocus(){if(!this._focusTrap)return;const ie=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ee=>{!Ee&&"function"==typeof this._elementRef.nativeElement.focus&&ie.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(ie){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,ie):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const ie=this._doc.activeElement;return!!ie&&this._elementRef.nativeElement.contains(ie)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(ie){return this.toggle(!0,ie)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(ie=!this.opened,Ee){ie&&Ee&&(this._openedVia=Ee);const Ze=this._setOpen(ie,!ie&&this._isFocusWithinDrawer(),this._openedVia||"program");return ie||(this._openedVia=null),Ze}_setOpen(ie,Ee,Ze){return this._opened=ie,ie?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Ee&&this._restoreFocus(Ze)),this._updateFocusTrapState(),new Promise(ot=>{this.openedChange.pipe((0,k.q)(1)).subscribe(mt=>ot(mt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(ie){const Ee=this._elementRef.nativeElement,Ze=Ee.parentNode;"end"===ie?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Ze.insertBefore(this._anchor,Ee)),Ze.appendChild(Ee)):this._anchor&&this._anchor.parentNode.insertBefore(Ee,this._anchor)}}return(q=Pe).\u0275fac=function(ie){return new(ie||q)(E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(d.qV),E.\u0275\u0275directiveInject(d.tE),E.\u0275\u0275directiveInject(y.t4),E.\u0275\u0275directiveInject(E.NgZone),E.\u0275\u0275directiveInject(d.ic),E.\u0275\u0275directiveInject(n.DOCUMENT,8),E.\u0275\u0275directiveInject(ve,8))},q.\u0275cmp=E.\u0275\u0275defineComponent({type:q,selectors:[["mat-drawer"]],viewQuery:function(ie,Ee){if(1&ie&&E.\u0275\u0275viewQuery(N,5),2&ie){let Ze;E.\u0275\u0275queryRefresh(Ze=E.\u0275\u0275loadQuery())&&(Ee._content=Ze.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(ie,Ee){1&ie&&E.\u0275\u0275syntheticHostListener("@transform.start",function(ot){return Ee._animationStarted.next(ot)})("@transform.done",function(ot){return Ee._animationEnd.next(ot)}),2&ie&&(E.\u0275\u0275attribute("align",null),E.\u0275\u0275syntheticHostProperty("@transform",Ee._animationState),E.\u0275\u0275classProp("mat-drawer-end","end"===Ee.position)("mat-drawer-over","over"===Ee.mode)("mat-drawer-push","push"===Ee.mode)("mat-drawer-side","side"===Ee.mode)("mat-drawer-opened",Ee.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:S,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(ie,Ee){1&ie&&(E.\u0275\u0275projectionDef(),E.\u0275\u0275elementStart(0,"div",0,1),E.\u0275\u0275projection(2),E.\u0275\u0275elementEnd())},dependencies:[c.PQ],encapsulation:2,data:{animation:[_e.transformDrawer]},changeDetection:0}),Pe})(),Y=(()=>{var q;class Pe{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(ie){this._autosize=(0,C.Ig)(ie)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(ie){this._backdropOverride=null==ie?null:(0,C.Ig)(ie)}get scrollable(){return this._userContent||this._content}constructor(ie,Ee,Ze,ot,mt,yt=!1,wt){this._dir=ie,this._element=Ee,this._ngZone=Ze,this._changeDetectorRef=ot,this._animationMode=wt,this._drawers=new E.QueryList,this.backdropClick=new E.EventEmitter,this._destroyed=new x.x,this._doCheckSubject=new x.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x.x,ie&&ie.change.pipe((0,m.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),mt.change().pipe((0,m.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=yt}ngAfterContentInit(){this._allDrawers.changes.pipe((0,T.O)(this._allDrawers),(0,m.R)(this._destroyed)).subscribe(ie=>{this._drawers.reset(ie.filter(Ee=>!Ee._container||Ee._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,T.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(ie=>{this._watchDrawerToggle(ie),this._watchDrawerPosition(ie),this._watchDrawerMode(ie)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,O.b)(10),(0,m.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(ie=>ie.open())}close(){this._drawers.forEach(ie=>ie.close())}updateContentMargins(){let ie=0,Ee=0;if(this._left&&this._left.opened)if("side"==this._left.mode)ie+=this._left._getWidth();else if("push"==this._left.mode){const Ze=this._left._getWidth();ie+=Ze,Ee-=Ze}if(this._right&&this._right.opened)if("side"==this._right.mode)Ee+=this._right._getWidth();else if("push"==this._right.mode){const Ze=this._right._getWidth();Ee+=Ze,ie-=Ze}ie=ie||null,Ee=Ee||null,(ie!==this._contentMargins.left||Ee!==this._contentMargins.right)&&(this._contentMargins={left:ie,right:Ee},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(ie){ie._animationStarted.pipe((0,o.h)(Ee=>Ee.fromState!==Ee.toState),(0,m.R)(this._drawers.changes)).subscribe(Ee=>{"open-instant"!==Ee.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==ie.mode&&ie.openedChange.pipe((0,m.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(ie.opened))}_watchDrawerPosition(ie){ie&&ie.onPositionChanged.pipe((0,m.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,k.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(ie){ie&&ie._modeChanged.pipe((0,m.R)((0,b.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(ie){const Ee=this._element.nativeElement.classList,Ze="mat-drawer-container-has-open";ie?Ee.add(Ze):Ee.remove(Ze)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(ie=>{"end"==ie.position?this._end=ie:this._start=ie}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(ie=>ie&&!ie.disableClose&&this._drawerHasBackdrop(ie)).forEach(ie=>ie._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(ie){return null!=ie&&ie.opened}_drawerHasBackdrop(ie){return null==this._backdropOverride?!!ie&&"side"!==ie.mode:this._backdropOverride}}return(q=Pe).\u0275fac=function(ie){return new(ie||q)(E.\u0275\u0275directiveInject(g.Is,8),E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(E.NgZone),E.\u0275\u0275directiveInject(E.ChangeDetectorRef),E.\u0275\u0275directiveInject(c.rL),E.\u0275\u0275directiveInject(Ke),E.\u0275\u0275directiveInject(E.ANIMATION_MODULE_TYPE,8))},q.\u0275cmp=E.\u0275\u0275defineComponent({type:q,selectors:[["mat-drawer-container"]],contentQueries:function(ie,Ee,Ze){if(1&ie&&(E.\u0275\u0275contentQuery(Ze,de,5),E.\u0275\u0275contentQuery(Ze,j,5)),2&ie){let ot;E.\u0275\u0275queryRefresh(ot=E.\u0275\u0275loadQuery())&&(Ee._content=ot.first),E.\u0275\u0275queryRefresh(ot=E.\u0275\u0275loadQuery())&&(Ee._allDrawers=ot)}},viewQuery:function(ie,Ee){if(1&ie&&E.\u0275\u0275viewQuery(de,5),2&ie){let Ze;E.\u0275\u0275queryRefresh(Ze=E.\u0275\u0275loadQuery())&&(Ee._userContent=Ze.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(ie,Ee){2&ie&&E.\u0275\u0275classProp("mat-drawer-container-explicit-backdrop",Ee._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[E.\u0275\u0275ProvidersFeature([{provide:ve,useExisting:q}])],ngContentSelectors:Re,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(ie,Ee){1&ie&&(E.\u0275\u0275projectionDef(se),E.\u0275\u0275template(0,ee,1,2,"div",0),E.\u0275\u0275projection(1),E.\u0275\u0275projection(2,1),E.\u0275\u0275template(3,Q,2,0,"mat-drawer-content",1)),2&ie&&(E.\u0275\u0275property("ngIf",Ee.hasBackdrop),E.\u0275\u0275advance(3),E.\u0275\u0275property("ngIf",!Ee._content))},dependencies:[n.NgIf,de],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),Pe})(),ge=(()=>{var q;class Pe{}return(q=Pe).\u0275fac=function(ie){return new(ie||q)},q.\u0275mod=E.\u0275\u0275defineNgModule({type:q}),q.\u0275inj=E.\u0275\u0275defineInjector({imports:[n.CommonModule,l.BQ,c.ZD,c.ZD,l.BQ]}),Pe})()},6593:(Qe,ke,M)=>{M.d(ke,{Dx:()=>ut,H7:()=>ye});var c=M(7970),n=M(3595);M(567);let ut=(()=>{var K;class V{constructor(Z){this._doc=Z}getTitle(){return this._doc.title}setTitle(Z){this._doc.title=Z||""}}return(K=V).\u0275fac=function(Z){return new(Z||K)(c.\u0275\u0275inject(n.DOCUMENT))},K.\u0275prov=c.\u0275\u0275defineInjectable({token:K,factory:function(Z){let pe=null;return pe=Z?new Z:function lt(){return new ut((0,c.\u0275\u0275inject)(n.DOCUMENT))}(),pe},providedIn:"root"}),V})();typeof window<"u"&&window;let ye=(()=>{var K;class V{}return(K=V).\u0275fac=function(Z){return new(Z||K)},K.\u0275prov=c.\u0275\u0275defineInjectable({token:K,factory:function(Z){let pe=null;return pe=Z?new(Z||K):c.\u0275\u0275inject(X),pe},providedIn:"root"}),V})(),X=(()=>{var K;class V extends ye{constructor(Z){super(),this._doc=Z}sanitize(Z,pe){if(null==pe)return null;switch(Z){case c.SecurityContext.NONE:return pe;case c.SecurityContext.HTML:return(0,c.\u0275allowSanitizationBypassAndThrow)(pe,"HTML")?(0,c.\u0275unwrapSafeValue)(pe):(0,c.\u0275_sanitizeHtml)(this._doc,String(pe)).toString();case c.SecurityContext.STYLE:return(0,c.\u0275allowSanitizationBypassAndThrow)(pe,"Style")?(0,c.\u0275unwrapSafeValue)(pe):pe;case c.SecurityContext.SCRIPT:if((0,c.\u0275allowSanitizationBypassAndThrow)(pe,"Script"))return(0,c.\u0275unwrapSafeValue)(pe);throw new c.\u0275RuntimeError(5200,!1);case c.SecurityContext.URL:return(0,c.\u0275allowSanitizationBypassAndThrow)(pe,"URL")?(0,c.\u0275unwrapSafeValue)(pe):(0,c.\u0275_sanitizeUrl)(String(pe));case c.SecurityContext.RESOURCE_URL:if((0,c.\u0275allowSanitizationBypassAndThrow)(pe,"ResourceURL"))return(0,c.\u0275unwrapSafeValue)(pe);throw new c.\u0275RuntimeError(5201,!1);default:throw new c.\u0275RuntimeError(5202,!1)}}bypassSecurityTrustHtml(Z){return(0,c.\u0275bypassSanitizationTrustHtml)(Z)}bypassSecurityTrustStyle(Z){return(0,c.\u0275bypassSanitizationTrustStyle)(Z)}bypassSecurityTrustScript(Z){return(0,c.\u0275bypassSanitizationTrustScript)(Z)}bypassSecurityTrustUrl(Z){return(0,c.\u0275bypassSanitizationTrustUrl)(Z)}bypassSecurityTrustResourceUrl(Z){return(0,c.\u0275bypassSanitizationTrustResourceUrl)(Z)}}return(K=V).\u0275fac=function(Z){return new(Z||K)(c.\u0275\u0275inject(n.DOCUMENT))},K.\u0275prov=c.\u0275\u0275defineInjectable({token:K,factory:function(Z){let pe=null;return pe=Z?new Z:function Me(K){return new X(K.get(n.DOCUMENT))}(c.\u0275\u0275inject(c.Injector)),pe},providedIn:"root"}),V})()},7582:(Qe,ke,M)=>{function b(ve,le,de,j){return new(de||(de=Promise))(function(B,me){function Fe(Pe){try{q(j.next(Pe))}catch(Te){me(Te)}}function ge(Pe){try{q(j.throw(Pe))}catch(Te){me(Te)}}function q(Pe){Pe.done?B(Pe.value):function Y(B){return B instanceof de?B:new de(function(me){me(B)})}(Pe.value).then(Fe,ge)}q((j=j.apply(ve,le||[])).next())})}function f(ve){return this instanceof f?(this.v=ve,this):new f(ve)}function S(ve,le,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,j=de.apply(ve,le||[]),B=[];return Y={},me("next"),me("throw"),me("return"),Y[Symbol.asyncIterator]=function(){return this},Y;function me(ie){j[ie]&&(Y[ie]=function(Ee){return new Promise(function(Ze,ot){B.push([ie,Ee,Ze,ot])>1||Fe(ie,Ee)})})}function Fe(ie,Ee){try{!function ge(ie){ie.value instanceof f?Promise.resolve(ie.value.v).then(q,Pe):Te(B[0][2],ie)}(j[ie](Ee))}catch(Ze){Te(B[0][3],Ze)}}function q(ie){Fe("next",ie)}function Pe(ie){Fe("throw",ie)}function Te(ie,Ee){ie(Ee),B.shift(),B.length&&Fe(B[0][0],B[0][1])}}function ee(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,le=ve[Symbol.asyncIterator];return le?le.call(ve):(ve=function m(ve){var le="function"==typeof Symbol&&Symbol.iterator,de=le&&ve[le],j=0;if(de)return de.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&j>=ve.length&&(ve=void 0),{value:ve&&ve[j++],done:!ve}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),de={},j("next"),j("throw"),j("return"),de[Symbol.asyncIterator]=function(){return this},de);function j(B){de[B]=ve[B]&&function(me){return new Promise(function(Fe,ge){!function Y(B,me,Fe,ge){Promise.resolve(ge).then(function(q){B({value:q,done:Fe})},me)}(Fe,ge,(me=ve[B](me)).done,me.value)})}}}M.d(ke,{FC:()=>S,KL:()=>ee,mG:()=>b,qq:()=>f}),"function"==typeof SuppressedError&&SuppressedError}}]);