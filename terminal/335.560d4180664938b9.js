(self.webpackChunkterminal=self.webpackChunkterminal||[]).push([[335,513],{8960:(ot,Te,T)=>{T.d(Te,{q:()=>Pm});var l=T(3595),n=T(7970),E=T(3680),d=T(799),h=T(2495),b=T(2831),C=T(2181),f=T(8180),w=T(9773),k=T(9388);class y{attach(s){return this._attachedHost=s,s.attach(this)}detach(){let s=this._attachedHost;null!=s&&(this._attachedHost=null,s.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(s){this._attachedHost=s}}class M extends y{constructor(s,r,e,i,a){super(),this.component=s,this.viewContainerRef=r,this.injector=e,this.componentFactoryResolver=i,this.projectableNodes=a}}class P extends y{constructor(s,r,e,i){super(),this.templateRef=s,this.viewContainerRef=r,this.context=e,this.injector=i}get origin(){return this.templateRef.elementRef}attach(s,r=this.context){return this.context=r,super.attach(s)}detach(){return this.context=void 0,super.detach()}}class B extends y{constructor(s){super(),this.element=s instanceof n.ElementRef?s.nativeElement:s}}class v{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(s){return s instanceof M?(this._attachedPortal=s,this.attachComponentPortal(s)):s instanceof P?(this._attachedPortal=s,this.attachTemplatePortal(s)):this.attachDomPortal&&s instanceof B?(this._attachedPortal=s,this.attachDomPortal(s)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(s){this._disposeFn=s}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class U extends v{constructor(s,r,e,i,a){super(),this.outletElement=s,this._componentFactoryResolver=r,this._appRef=e,this._defaultInjector=i,this.attachDomPortal=g=>{const H=g.element,me=this._document.createComment("dom-portal");H.parentNode.insertBefore(me,H),this.outletElement.appendChild(H),this._attachedPortal=g,super.setDisposeFn(()=>{me.parentNode&&me.parentNode.replaceChild(H,me)})},this._document=a}attachComponentPortal(s){const e=(s.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(s.component);let i;return s.viewContainerRef?(i=s.viewContainerRef.createComponent(e,s.viewContainerRef.length,s.injector||s.viewContainerRef.injector,s.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=e.create(s.injector||this._defaultInjector||n.Injector.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=s,i}attachTemplatePortal(s){let r=s.viewContainerRef,e=r.createEmbeddedView(s.templateRef,s.context,{injector:s.injector});return e.rootNodes.forEach(i=>this.outletElement.appendChild(i)),e.detectChanges(),this.setDisposeFn(()=>{let i=r.indexOf(e);-1!==i&&r.remove(i)}),this._attachedPortal=s,e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(s){return s.hostView.rootNodes[0]}}let je=(()=>{var t;class s extends v{constructor(e,i,a){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new n.EventEmitter,this.attachDomPortal=g=>{const H=g.element,me=this._document.createComment("dom-portal");g.setAttachedHost(this),H.parentNode.insertBefore(me,H),this._getRootNode().appendChild(H),this._attachedPortal=g,super.setDisposeFn(()=>{me.parentNode&&me.parentNode.replaceChild(H,me)})},this._document=a}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,g=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),H=i.createComponent(g,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(H.hostView.rootNodes[0]),super.setDisposeFn(()=>H.destroy()),this._attachedPortal=e,this._attachedRef=H,this.attached.emit(H),H}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ComponentFactoryResolver),n.\u0275\u0275directiveInject(n.ViewContainerRef),n.\u0275\u0275directiveInject(l.DOCUMENT))},t.\u0275dir=n.\u0275\u0275defineDirective({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[n.\u0275\u0275InheritDefinitionFeature]}),s})(),$e=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})();var de=T(8645),xe=T(7394),we=T(3019);const Xe=(0,b.Mq)();class rt{constructor(s,r){this._viewportRuler=s,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=r}attach(){}enable(){if(this._canBeEnabled()){const s=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=s.style.left||"",this._previousHTMLStyles.top=s.style.top||"",s.style.left=(0,h.HM)(-this._previousScrollPosition.left),s.style.top=(0,h.HM)(-this._previousScrollPosition.top),s.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const s=this._document.documentElement,e=s.style,i=this._document.body.style,a=e.scrollBehavior||"",g=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,s.classList.remove("cdk-global-scrollblock"),Xe&&(e.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Xe&&(e.scrollBehavior=a,i.scrollBehavior=g)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const r=this._document.body,e=this._viewportRuler.getViewportSize();return r.scrollHeight>e.height||r.scrollWidth>e.width}}class _e{constructor(s,r,e,i){this._scrollDispatcher=s,this._ngZone=r,this._viewportRuler=e,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(s){this._overlayRef=s}enable(){if(this._scrollSubscription)return;const s=this._scrollDispatcher.scrolled(0).pipe((0,C.h)(r=>!r||!this._overlayRef.overlayElement.contains(r.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=s.subscribe(()=>{const r=this._viewportRuler.getViewportScrollPosition().top;Math.abs(r-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=s.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ge{enable(){}disable(){}attach(){}}function G(t,s){return s.some(r=>t.bottom<r.top||t.top>r.bottom||t.right<r.left||t.left>r.right)}function ee(t,s){return s.some(r=>t.top<r.top||t.bottom>r.bottom||t.left<r.left||t.right>r.right)}class z{constructor(s,r,e,i){this._scrollDispatcher=s,this._viewportRuler=r,this._ngZone=e,this._config=i,this._scrollSubscription=null}attach(s){this._overlayRef=s}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const r=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:i}=this._viewportRuler.getViewportSize();G(r,[{width:e,height:i,bottom:i,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ye=(()=>{var t;class s{constructor(e,i,a,g){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=a,this.noop=()=>new ge,this.close=H=>new _e(this._scrollDispatcher,this._ngZone,this._viewportRuler,H),this.block=()=>new rt(this._viewportRuler,this._document),this.reposition=H=>new z(this._scrollDispatcher,this._viewportRuler,this._ngZone,H),this._document=g}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(d.mF),n.\u0275\u0275inject(d.rL),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(l.DOCUMENT))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();class Ge{constructor(s){if(this.scrollStrategy=new ge,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,s){const r=Object.keys(s);for(const e of r)void 0!==s[e]&&(this[e]=s[e])}}}class Ve{constructor(s,r){this.connectionPair=s,this.scrollableViewProperties=r}}let Pe=(()=>{var t;class s{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(l.DOCUMENT))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),at=(()=>{var t;class s extends Pe{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=a=>{const g=this._attachedOverlays;for(let H=g.length-1;H>-1;H--)if(g[H]._keydownEvents.observers.length>0){const me=g[H]._keydownEvents;this._ngZone?this._ngZone.run(()=>me.next(a)):me.next(a);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(l.DOCUMENT),n.\u0275\u0275inject(n.NgZone,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),gt=(()=>{var t;class s extends Pe{constructor(e,i,a){super(e),this._platform=i,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=g=>{this._pointerDownEventTarget=(0,b.sA)(g)},this._clickListener=g=>{const H=(0,b.sA)(g),me="click"===g.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:H;this._pointerDownEventTarget=null;const ze=this._attachedOverlays.slice();for(let Ke=ze.length-1;Ke>-1;Ke--){const lt=ze[Ke];if(lt._outsidePointerEvents.observers.length<1||!lt.hasAttached())continue;if(lt.overlayElement.contains(H)||lt.overlayElement.contains(me))break;const kt=lt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>kt.next(g)):kt.next(g)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(l.DOCUMENT),n.\u0275\u0275inject(b.t4),n.\u0275\u0275inject(n.NgZone,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),Mt=(()=>{var t;class s{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||(0,b.Oy)()){const a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let g=0;g<a.length;g++)a[g].remove()}const i=this._document.createElement("div");i.classList.add(e),(0,b.Oy)()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(l.DOCUMENT),n.\u0275\u0275inject(b.t4))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();class jt{constructor(s,r,e,i,a,g,H,me,ze,Ke=!1){this._portalOutlet=s,this._host=r,this._pane=e,this._config=i,this._ngZone=a,this._keyboardDispatcher=g,this._document=H,this._location=me,this._outsideClickDispatcher=ze,this._animationsDisabled=Ke,this._backdropElement=null,this._backdropClick=new de.x,this._attachments=new de.x,this._detachments=new de.x,this._locationChanges=xe.w0.EMPTY,this._backdropClickHandler=lt=>this._backdropClick.next(lt),this._backdropTransitionendHandler=lt=>{this._disposeBackdrop(lt.target)},this._keydownEvents=new de.x,this._outsidePointerEvents=new de.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(s){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const r=this._portalOutlet.attach(s);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,f.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof r?.onDestroy&&r.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),r}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const s=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),s}dispose(){const s=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,s&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(s){s!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=s,this.hasAttached()&&(s.attach(this),this.updatePosition()))}updateSize(s){this._config={...this._config,...s},this._updateElementSize()}setDirection(s){this._config={...this._config,direction:s},this._updateElementDirection()}addPanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!0)}removePanelClass(s){this._pane&&this._toggleClasses(this._pane,s,!1)}getDirection(){const s=this._config.direction;return s?"string"==typeof s?s:s.value:"ltr"}updateScrollStrategy(s){s!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=s,this.hasAttached()&&(s.attach(this),s.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const s=this._pane.style;s.width=(0,h.HM)(this._config.width),s.height=(0,h.HM)(this._config.height),s.minWidth=(0,h.HM)(this._config.minWidth),s.minHeight=(0,h.HM)(this._config.minHeight),s.maxWidth=(0,h.HM)(this._config.maxWidth),s.maxHeight=(0,h.HM)(this._config.maxHeight)}_togglePointerEvents(s){this._pane.style.pointerEvents=s?"":"none"}_attachBackdrop(){const s="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(s)})}):this._backdropElement.classList.add(s)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const s=this._backdropElement;if(s){if(this._animationsDisabled)return void this._disposeBackdrop(s);s.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{s.addEventListener("transitionend",this._backdropTransitionendHandler)}),s.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(s)},500))}}_toggleClasses(s,r,e){const i=(0,h.Eq)(r||[]).filter(a=>!!a);i.length&&(e?s.classList.add(...i):s.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const s=this._ngZone.onStable.pipe((0,w.R)((0,we.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),s.unsubscribe())})})}_disposeScrollStrategy(){const s=this._scrollStrategy;s&&(s.disable(),s.detach&&s.detach())}_disposeBackdrop(s){s&&(s.removeEventListener("click",this._backdropClickHandler),s.removeEventListener("transitionend",this._backdropTransitionendHandler),s.remove(),this._backdropElement===s&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const zt="cdk-overlay-connected-position-bounding-box",$t=/([A-Za-z%]+)$/;class wt{get positions(){return this._preferredPositions}constructor(s,r,e,i,a){this._viewportRuler=r,this._document=e,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new de.x,this._resizeSubscription=xe.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(s)}attach(s){this._validatePositions(),s.hostElement.classList.add(zt),this._overlayRef=s,this._boundingBox=s.hostElement,this._pane=s.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const s=this._originRect,r=this._overlayRect,e=this._viewportRect,i=this._containerRect,a=[];let g;for(let H of this._preferredPositions){let me=this._getOriginPoint(s,i,H),ze=this._getOverlayPoint(me,r,H),Ke=this._getOverlayFit(ze,r,e,H);if(Ke.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(H,me);this._canFitWithFlexibleDimensions(Ke,ze,e)?a.push({position:H,origin:me,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(me,H)}):(!g||g.overlayFit.visibleArea<Ke.visibleArea)&&(g={overlayFit:Ke,overlayPoint:ze,originPoint:me,position:H,overlayRect:r})}if(a.length){let H=null,me=-1;for(const ze of a){const Ke=ze.boundingBoxRect.width*ze.boundingBoxRect.height*(ze.position.weight||1);Ke>me&&(me=Ke,H=ze)}return this._isPushed=!1,void this._applyPosition(H.position,H.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(g.position,g.originPoint);this._applyPosition(g.position,g.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Rt(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const s=this._lastPosition;if(s){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const r=this._getOriginPoint(this._originRect,this._containerRect,s);this._applyPosition(s,r)}else this.apply()}withScrollableContainers(s){return this._scrollables=s,this}withPositions(s){return this._preferredPositions=s,-1===s.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(s){return this._viewportMargin=s,this}withFlexibleDimensions(s=!0){return this._hasFlexibleDimensions=s,this}withGrowAfterOpen(s=!0){return this._growAfterOpen=s,this}withPush(s=!0){return this._canPush=s,this}withLockedPosition(s=!0){return this._positionLocked=s,this}setOrigin(s){return this._origin=s,this}withDefaultOffsetX(s){return this._offsetX=s,this}withDefaultOffsetY(s){return this._offsetY=s,this}withTransformOriginOn(s){return this._transformOriginSelector=s,this}_getOriginPoint(s,r,e){let i,a;if("center"==e.originX)i=s.left+s.width/2;else{const g=this._isRtl()?s.right:s.left,H=this._isRtl()?s.left:s.right;i="start"==e.originX?g:H}return r.left<0&&(i-=r.left),a="center"==e.originY?s.top+s.height/2:"top"==e.originY?s.top:s.bottom,r.top<0&&(a-=r.top),{x:i,y:a}}_getOverlayPoint(s,r,e){let i,a;return i="center"==e.overlayX?-r.width/2:"start"===e.overlayX?this._isRtl()?-r.width:0:this._isRtl()?0:-r.width,a="center"==e.overlayY?-r.height/2:"top"==e.overlayY?0:-r.height,{x:s.x+i,y:s.y+a}}_getOverlayFit(s,r,e,i){const a=Ut(r);let{x:g,y:H}=s,me=this._getOffset(i,"x"),ze=this._getOffset(i,"y");me&&(g+=me),ze&&(H+=ze);let kt=0-H,Vt=H+a.height-e.height,Bt=this._subtractOverflows(a.width,0-g,g+a.width-e.width),Jt=this._subtractOverflows(a.height,kt,Vt),li=Bt*Jt;return{visibleArea:li,isCompletelyWithinViewport:a.width*a.height===li,fitsInViewportVertically:Jt===a.height,fitsInViewportHorizontally:Bt==a.width}}_canFitWithFlexibleDimensions(s,r,e){if(this._hasFlexibleDimensions){const i=e.bottom-r.y,a=e.right-r.x,g=Gt(this._overlayRef.getConfig().minHeight),H=Gt(this._overlayRef.getConfig().minWidth);return(s.fitsInViewportVertically||null!=g&&g<=i)&&(s.fitsInViewportHorizontally||null!=H&&H<=a)}return!1}_pushOverlayOnScreen(s,r,e){if(this._previousPushAmount&&this._positionLocked)return{x:s.x+this._previousPushAmount.x,y:s.y+this._previousPushAmount.y};const i=Ut(r),a=this._viewportRect,g=Math.max(s.x+i.width-a.width,0),H=Math.max(s.y+i.height-a.height,0),me=Math.max(a.top-e.top-s.y,0),ze=Math.max(a.left-e.left-s.x,0);let Ke=0,lt=0;return Ke=i.width<=a.width?ze||-g:s.x<this._viewportMargin?a.left-e.left-s.x:0,lt=i.height<=a.height?me||-H:s.y<this._viewportMargin?a.top-e.top-s.y:0,this._previousPushAmount={x:Ke,y:lt},{x:s.x+Ke,y:s.y+lt}}_applyPosition(s,r){if(this._setTransformOrigin(s),this._setOverlayElementStyles(r,s),this._setBoundingBoxStyles(r,s),s.panelClass&&this._addPanelClasses(s.panelClass),this._lastPosition=s,this._positionChanges.observers.length){const e=this._getScrollVisibility(),i=new Ve(s,e);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(s){if(!this._transformOriginSelector)return;const r=this._boundingBox.querySelectorAll(this._transformOriginSelector);let e,i=s.overlayY;e="center"===s.overlayX?"center":this._isRtl()?"start"===s.overlayX?"right":"left":"start"===s.overlayX?"left":"right";for(let a=0;a<r.length;a++)r[a].style.transformOrigin=`${e} ${i}`}_calculateBoundingBoxRect(s,r){const e=this._viewportRect,i=this._isRtl();let a,g,H,Ke,lt,kt;if("top"===r.overlayY)g=s.y,a=e.height-g+this._viewportMargin;else if("bottom"===r.overlayY)H=e.height-s.y+2*this._viewportMargin,a=e.height-H+this._viewportMargin;else{const Vt=Math.min(e.bottom-s.y+e.top,s.y),Bt=this._lastBoundingBoxSize.height;a=2*Vt,g=s.y-Vt,a>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(g=s.y-Bt/2)}if("end"===r.overlayX&&!i||"start"===r.overlayX&&i)kt=e.width-s.x+this._viewportMargin,Ke=s.x-this._viewportMargin;else if("start"===r.overlayX&&!i||"end"===r.overlayX&&i)lt=s.x,Ke=e.right-s.x;else{const Vt=Math.min(e.right-s.x+e.left,s.x),Bt=this._lastBoundingBoxSize.width;Ke=2*Vt,lt=s.x-Vt,Ke>Bt&&!this._isInitialRender&&!this._growAfterOpen&&(lt=s.x-Bt/2)}return{top:g,left:lt,bottom:H,right:kt,width:Ke,height:a}}_setBoundingBoxStyles(s,r){const e=this._calculateBoundingBoxRect(s,r);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,g=this._overlayRef.getConfig().maxWidth;i.height=(0,h.HM)(e.height),i.top=(0,h.HM)(e.top),i.bottom=(0,h.HM)(e.bottom),i.width=(0,h.HM)(e.width),i.left=(0,h.HM)(e.left),i.right=(0,h.HM)(e.right),i.alignItems="center"===r.overlayX?"center":"end"===r.overlayX?"flex-end":"flex-start",i.justifyContent="center"===r.overlayY?"center":"bottom"===r.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=(0,h.HM)(a)),g&&(i.maxWidth=(0,h.HM)(g))}this._lastBoundingBoxSize=e,Rt(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Rt(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Rt(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(s,r){const e={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,g=this._overlayRef.getConfig();if(i){const Ke=this._viewportRuler.getViewportScrollPosition();Rt(e,this._getExactOverlayY(r,s,Ke)),Rt(e,this._getExactOverlayX(r,s,Ke))}else e.position="static";let H="",me=this._getOffset(r,"x"),ze=this._getOffset(r,"y");me&&(H+=`translateX(${me}px) `),ze&&(H+=`translateY(${ze}px)`),e.transform=H.trim(),g.maxHeight&&(i?e.maxHeight=(0,h.HM)(g.maxHeight):a&&(e.maxHeight="")),g.maxWidth&&(i?e.maxWidth=(0,h.HM)(g.maxWidth):a&&(e.maxWidth="")),Rt(this._pane.style,e)}_getExactOverlayY(s,r,e){let i={top:"",bottom:""},a=this._getOverlayPoint(r,this._overlayRect,s);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,e)),"bottom"===s.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=(0,h.HM)(a.y),i}_getExactOverlayX(s,r,e){let g,i={left:"",right:""},a=this._getOverlayPoint(r,this._overlayRect,s);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,e)),g=this._isRtl()?"end"===s.overlayX?"left":"right":"end"===s.overlayX?"right":"left","right"===g?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=(0,h.HM)(a.x),i}_getScrollVisibility(){const s=this._getOriginRect(),r=this._pane.getBoundingClientRect(),e=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ee(s,e),isOriginOutsideView:G(s,e),isOverlayClipped:ee(r,e),isOverlayOutsideView:G(r,e)}}_subtractOverflows(s,...r){return r.reduce((e,i)=>e-Math.max(i,0),s)}_getNarrowedViewportRect(){const s=this._document.documentElement.clientWidth,r=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+s-this._viewportMargin,bottom:e.top+r-this._viewportMargin,width:s-2*this._viewportMargin,height:r-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(s,r){return"x"===r?null==s.offsetX?this._offsetX:s.offsetX:null==s.offsetY?this._offsetY:s.offsetY}_validatePositions(){}_addPanelClasses(s){this._pane&&(0,h.Eq)(s).forEach(r=>{""!==r&&-1===this._appliedPanelClasses.indexOf(r)&&(this._appliedPanelClasses.push(r),this._pane.classList.add(r))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(s=>{this._pane.classList.remove(s)}),this._appliedPanelClasses=[])}_getOriginRect(){const s=this._origin;if(s instanceof n.ElementRef)return s.nativeElement.getBoundingClientRect();if(s instanceof Element)return s.getBoundingClientRect();const r=s.width||0,e=s.height||0;return{top:s.y,bottom:s.y+e,left:s.x,right:s.x+r,height:e,width:r}}}function Rt(t,s){for(let r in s)s.hasOwnProperty(r)&&(t[r]=s[r]);return t}function Gt(t){if("number"!=typeof t&&null!=t){const[s,r]=t.split($t);return r&&"px"!==r?null:parseFloat(s)}return t||null}function Ut(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const st="cdk-global-overlay-wrapper";class Qe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(s){const r=s.getConfig();this._overlayRef=s,this._width&&!r.width&&s.updateSize({width:this._width}),this._height&&!r.height&&s.updateSize({height:this._height}),s.hostElement.classList.add(st),this._isDisposed=!1}top(s=""){return this._bottomOffset="",this._topOffset=s,this._alignItems="flex-start",this}left(s=""){return this._xOffset=s,this._xPosition="left",this}bottom(s=""){return this._topOffset="",this._bottomOffset=s,this._alignItems="flex-end",this}right(s=""){return this._xOffset=s,this._xPosition="right",this}start(s=""){return this._xOffset=s,this._xPosition="start",this}end(s=""){return this._xOffset=s,this._xPosition="end",this}width(s=""){return this._overlayRef?this._overlayRef.updateSize({width:s}):this._width=s,this}height(s=""){return this._overlayRef?this._overlayRef.updateSize({height:s}):this._height=s,this}centerHorizontally(s=""){return this.left(s),this._xPosition="center",this}centerVertically(s=""){return this.top(s),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const s=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:g,maxHeight:H}=e,me=!("100%"!==i&&"100vw"!==i||g&&"100%"!==g&&"100vw"!==g),ze=!("100%"!==a&&"100vh"!==a||H&&"100%"!==H&&"100vh"!==H),Ke=this._xPosition,lt=this._xOffset,kt="rtl"===this._overlayRef.getConfig().direction;let Vt="",Bt="",Jt="";me?Jt="flex-start":"center"===Ke?(Jt="center",kt?Bt=lt:Vt=lt):kt?"left"===Ke||"end"===Ke?(Jt="flex-end",Vt=lt):("right"===Ke||"start"===Ke)&&(Jt="flex-start",Bt=lt):"left"===Ke||"start"===Ke?(Jt="flex-start",Vt=lt):("right"===Ke||"end"===Ke)&&(Jt="flex-end",Bt=lt),s.position=this._cssPosition,s.marginLeft=me?"0":Vt,s.marginTop=ze?"0":this._topOffset,s.marginBottom=this._bottomOffset,s.marginRight=me?"0":Bt,r.justifyContent=Jt,r.alignItems=ze?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const s=this._overlayRef.overlayElement.style,r=this._overlayRef.hostElement,e=r.style;r.classList.remove(st),e.justifyContent=e.alignItems=s.marginTop=s.marginBottom=s.marginLeft=s.marginRight=s.position="",this._overlayRef=null,this._isDisposed=!0}}let it=(()=>{var t;class s{constructor(e,i,a,g){this._viewportRuler=e,this._document=i,this._platform=a,this._overlayContainer=g}global(){return new Qe}flexibleConnectedTo(e){return new wt(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(d.rL),n.\u0275\u0275inject(l.DOCUMENT),n.\u0275\u0275inject(b.t4),n.\u0275\u0275inject(Mt))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})(),Ee=0,qe=(()=>{var t;class s{constructor(e,i,a,g,H,me,ze,Ke,lt,kt,Vt,Bt){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=a,this._positionBuilder=g,this._keyboardDispatcher=H,this._injector=me,this._ngZone=ze,this._document=Ke,this._directionality=lt,this._location=kt,this._outsideClickDispatcher=Vt,this._animationsModuleType=Bt}create(e){const i=this._createHostElement(),a=this._createPaneElement(i),g=this._createPortalOutlet(a),H=new Ge(e);return H.direction=H.direction||this._directionality.value,new jt(g,i,a,H,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Ee++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(n.ApplicationRef)),new U(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(ye),n.\u0275\u0275inject(Mt),n.\u0275\u0275inject(n.ComponentFactoryResolver),n.\u0275\u0275inject(it),n.\u0275\u0275inject(at),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(l.DOCUMENT),n.\u0275\u0275inject(k.Is),n.\u0275\u0275inject(l.Location),n.\u0275\u0275inject(gt),n.\u0275\u0275inject(n.ANIMATION_MODULE_TYPE,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const X={provide:new n.InjectionToken("cdk-connected-overlay-scroll-strategy"),deps:[qe],useFactory:function We(t){return()=>t.scrollStrategies.reposition()}};let ue=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[qe,X],imports:[k.vT,$e,d.Cl,d.Cl]}),s})();var Le=T(7849),ve=(T(6825),T(4911)),tt=T(2096),Ne=(T(2438),T(6028)),dt=(T(6223),T(7131));let Ft=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,l.CommonModule,dt.Q8,E.BQ]}),s})();var ri=T(7921);T(4664),T(7398),T(9397),T(6321),T(5211),T(9360),T(8251),T(2420),T(975),T(1631),T(4829),T(4825);const rn={provide:new n.InjectionToken("mat-autocomplete-scroll-strategy"),deps:[qe],useFactory:function rr(t){return()=>t.scrollStrategies.reposition()}};let Ri=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[rn],imports:[ue,E.Ng,E.BQ,l.CommonModule,d.ZD,E.Ng,E.BQ]}),s})(),ai=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[Le.rt,E.BQ,E.BQ]}),s})();function Bi(t,s){}class Wi{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let sn=(()=>{var t;class s extends v{constructor(e,i,a,g,H,me,ze,Ke){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=g,this._interactivityChecker=H,this._ngZone=me,this._overlayRef=ze,this._focusMonitor=Ke,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=lt=>{this._portalOutlet.hasAttached();const kt=this._portalOutlet.attachDomPortal(lt);return this._contentAttached(),kt},this._document=a,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{e.removeEventListener("blur",a),e.removeEventListener("mousedown",a),e.removeAttribute("tabindex")};e.addEventListener("blur",a),e.addEventListener("mousedown",a)})),e.focus(i)}_focusByCssSelector(e,i){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const a=(0,b.ht)(),g=this._elementRef.nativeElement;(!a||a===this._document.body||a===g||g.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,b.ht)();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,b.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(Le.qV),n.\u0275\u0275directiveInject(l.DOCUMENT,8),n.\u0275\u0275directiveInject(Wi),n.\u0275\u0275directiveInject(Le.ic),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(jt),n.\u0275\u0275directiveInject(Le.tE))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&n.\u0275\u0275viewQuery(je,7),2&e){let a;n.\u0275\u0275queryRefresh(a=n.\u0275\u0275loadQuery())&&(i._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&n.\u0275\u0275attribute("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[n.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&n.\u0275\u0275template(0,Bi,0,0,"ng-template",0)},dependencies:[je],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),s})();class Fn{constructor(s,r){this.overlayRef=s,this.config=r,this.closed=new de.x,this.disableClose=r.disableClose,this.backdropClick=s.backdropClick(),this.keydownEvents=s.keydownEvents(),this.outsidePointerEvents=s.outsidePointerEvents(),this.id=r.id,this.keydownEvents.subscribe(e=>{e.keyCode===Ne.hY&&!this.disableClose&&!(0,Ne.Vb)(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=s.detachments().subscribe(()=>{!1!==r.closeOnOverlayDetachments&&this.close()})}close(s,r){if(this.containerInstance){const e=this.closed;this.containerInstance._closeInteractionType=r?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(s),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(s="",r=""){return this.overlayRef.updateSize({width:s,height:r}),this}addPanelClass(s){return this.overlayRef.addPanelClass(s),this}removePanelClass(s){return this.overlayRef.removePanelClass(s),this}}const Pn=new n.InjectionToken("DialogScrollStrategy"),bn=new n.InjectionToken("DialogData"),cr=new n.InjectionToken("DefaultDialogConfig"),Ln={provide:Pn,deps:[qe],useFactory:function dr(t){return()=>t.scrollStrategies.block()}};let yr=0,Bn=(()=>{var t;class s{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,a,g,H,me){this._overlay=e,this._injector=i,this._defaultOptions=a,this._parentDialog=g,this._overlayContainer=H,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new de.x,this._afterOpenedAtThisLevel=new de.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ve.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ri.O)(void 0))),this._scrollStrategy=me}open(e,i){(i={...this._defaultOptions||new Wi,...i}).id=i.id||"cdk-dialog-"+yr++,i.id&&this.getDialogById(i.id);const g=this._getOverlayConfig(i),H=this._overlay.create(g),me=new Fn(H,i),ze=this._attachContainer(H,me,i);return me.containerInstance=ze,this._attachDialogContent(e,me,ze,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(me),me.closed.subscribe(()=>this._removeOpenDialog(me,!0)),this.afterOpened.next(me),me}closeAll(){Nn(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Nn(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Nn(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Ge({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,a){const g=a.injector||a.viewContainerRef?.injector,H=[{provide:Wi,useValue:a},{provide:Fn,useValue:i},{provide:jt,useValue:e}];let me;a.container?"function"==typeof a.container?me=a.container:(me=a.container.type,H.push(...a.container.providers(a))):me=sn;const ze=new M(me,a.viewContainerRef,n.Injector.create({parent:g||this._injector,providers:H}),a.componentFactoryResolver);return e.attach(ze).instance}_attachDialogContent(e,i,a,g){if(e instanceof n.TemplateRef){const H=this._createInjector(g,i,a,void 0);let me={$implicit:g.data,dialogRef:i};g.templateContext&&(me={...me,..."function"==typeof g.templateContext?g.templateContext():g.templateContext}),a.attachTemplatePortal(new P(e,null,me,H))}else{const H=this._createInjector(g,i,a,this._injector),me=a.attachComponentPortal(new M(e,g.viewContainerRef,H,g.componentFactoryResolver));i.componentRef=me,i.componentInstance=me.instance}}_createInjector(e,i,a,g){const H=e.injector||e.viewContainerRef?.injector,me=[{provide:bn,useValue:e.data},{provide:Fn,useValue:i}];return e.providers&&("function"==typeof e.providers?me.push(...e.providers(i,e,a)):me.push(...e.providers)),e.direction&&(!H||!H.get(k.Is,null,{optional:!0}))&&me.push({provide:k.Is,useValue:{value:e.direction,change:(0,tt.of)()}}),n.Injector.create({parent:H||g,providers:me})}_removeOpenDialog(e,i){const a=this.openDialogs.indexOf(e);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((g,H)=>{g?H.setAttribute("aria-hidden",g):H.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let a=i.length-1;a>-1;a--){const g=i[a];g!==e&&"SCRIPT"!==g.nodeName&&"STYLE"!==g.nodeName&&!g.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(g,g.getAttribute("aria-hidden")),g.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(qe),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(cr,8),n.\u0275\u0275inject(t,12),n.\u0275\u0275inject(Mt),n.\u0275\u0275inject(Pn))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),s})();function Nn(t,s){let r=t.length;for(;r--;)s(t[r])}let yn=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Bn,Ln],imports:[ue,$e,Le.rt,$e]}),s})(),jn=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[yn,E.BQ,$e,E.BQ]}),s})();var nt=T(2296);T(3168);let Qr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.si,E.BQ]}),s})(),Sr=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,l.CommonModule,E.BQ]}),s})(),At=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),yt=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.si,At,E.BQ,At]}),s})();const xt=new n.InjectionToken("mat-chips-default-options");let Us=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[E.rD,{provide:xt,useValue:{separatorKeyCodes:[Ne.K5]}}],imports:[E.BQ,l.CommonModule,E.si,E.BQ]}),s})(),Bo=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),Ws=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,Ft,Ft,Bo,E.BQ]}),s})(),Ho=(()=>{var t;class s{constructor(){this.changes=new de.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const qo={provide:new n.InjectionToken("mat-datepicker-scroll-strategy"),deps:[qe],useFactory:function Xo(t){return()=>t.scrollStrategies.reposition()}};let Qs=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Ho,qo],imports:[l.CommonModule,nt.ot,ue,Le.rt,$e,E.BQ,d.ZD]}),s})();function rl(t,s){}class Or{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ts="mdc-dialog--open",Xs="mdc-dialog--opening",qs="mdc-dialog--closing";let ol=(()=>{var t;class s extends sn{constructor(e,i,a,g,H,me,ze,Ke){super(e,i,a,g,H,me,ze,Ke),this._animationStateChanged=new n.EventEmitter}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(Le.qV),n.\u0275\u0275directiveInject(l.DOCUMENT,8),n.\u0275\u0275directiveInject(Or),n.\u0275\u0275directiveInject(Le.ic),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(jt),n.\u0275\u0275directiveInject(Le.tE))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],features:[n.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(e,i){},encapsulation:2}),s})();const Zs="--mat-dialog-transition-duration";function Js(t){return null==t?null:"number"==typeof t?t:t.endsWith("ms")?(0,h.su)(t.substring(0,t.length-2)):t.endsWith("s")?1e3*(0,h.su)(t.substring(0,t.length-1)):"0"===t?0:null}let ll=(()=>{var t;class s extends ol{constructor(e,i,a,g,H,me,ze,Ke,lt){super(e,i,a,g,H,me,ze,lt),this._animationMode=Ke,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Js(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Js(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Zs,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Xs,ts)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ts),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ts),this._animationsEnabled?(this._hostElement.style.setProperty(Zs,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(qs)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Xs,qs)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(Le.qV),n.\u0275\u0275directiveInject(l.DOCUMENT,8),n.\u0275\u0275directiveInject(Or),n.\u0275\u0275directiveInject(Le.ic),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(jt),n.\u0275\u0275directiveInject(n.ANIMATION_MODULE_TYPE,8),n.\u0275\u0275directiveInject(Le.tE))},t.\u0275cmp=n.\u0275\u0275defineComponent({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(n.\u0275\u0275hostProperty("id",i._config.id),n.\u0275\u0275attribute("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),n.\u0275\u0275classProp("_mat-animation-noopable",!i._animationsEnabled))},features:[n.\u0275\u0275InheritDefinitionFeature],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(n.\u0275\u0275elementStart(0,"div",0)(1,"div",1),n.\u0275\u0275template(2,rl,0,0,"ng-template",2),n.\u0275\u0275elementEnd()())},dependencies:[je],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),s})();class cl{constructor(s,r,e){this._ref=s,this._containerInstance=e,this._afterOpened=new de.x,this._beforeClosed=new de.x,this._state=0,this.disableClose=r.disableClose,this.id=s.id,e._animationStateChanged.pipe((0,C.h)(i=>"opened"===i.state),(0,f.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe((0,C.h)(i=>"closed"===i.state),(0,f.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),s.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,we.T)(this.backdropClick(),this.keydownEvents().pipe((0,C.h)(i=>i.keyCode===Ne.hY&&!this.disableClose&&!(0,Ne.Vb)(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),function dl(t,s,r){t._closeInteractionType=s,t.close(r)}(this,"keydown"===i.type?"keyboard":"mouse"))})}close(s){this._result=s,this._containerInstance._animationStateChanged.pipe((0,C.h)(r=>"closing"===r.state),(0,f.q)(1)).subscribe(r=>{this._beforeClosed.next(s),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),r.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(s){let r=this._ref.config.positionStrategy;return s&&(s.left||s.right)?s.left?r.left(s.left):r.right(s.right):r.centerHorizontally(),s&&(s.top||s.bottom)?s.top?r.top(s.top):r.bottom(s.bottom):r.centerVertically(),this._ref.updatePosition(),this}updateSize(s="",r=""){return this._ref.updateSize(s,r),this}addPanelClass(s){return this._ref.addPanelClass(s),this}removePanelClass(s){return this._ref.removePanelClass(s),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const hl=new n.InjectionToken("MatMdcDialogData"),ml=new n.InjectionToken("mat-mdc-dialog-default-options"),ea=new n.InjectionToken("mat-mdc-dialog-scroll-strategy"),pl={provide:ea,deps:[qe],useFactory:function ul(t){return()=>t.scrollStrategies.block()}};let _l=0,fl=(()=>{var t;class s{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,a,g,H,me,ze,Ke,lt,kt){this._overlay=e,this._defaultOptions=a,this._parentDialog=g,this._dialogRefConstructor=ze,this._dialogContainerType=Ke,this._dialogDataToken=lt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new de.x,this._afterOpenedAtThisLevel=new de.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Or,this.afterAllClosed=(0,ve.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ri.O)(void 0))),this._scrollStrategy=me,this._dialog=i.get(Bn)}open(e,i){let a;(i={...this._defaultOptions||new Or,...i}).id=i.id||`${this._idPrefix}${_l++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const g=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Wi,useValue:i}]},templateContext:()=>({dialogRef:a}),providers:(H,me,ze)=>(a=new this._dialogRefConstructor(H,i,ze),a.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:ze},{provide:this._dialogDataToken,useValue:me.data},{provide:this._dialogRefConstructor,useValue:a}])});return a.componentRef=g.componentRef,a.componentInstance=g.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{const H=this.openDialogs.indexOf(a);H>-1&&(this.openDialogs.splice(H,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return(t=s).\u0275fac=function(e){n.\u0275\u0275invalidFactory()},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),s})(),gl=(()=>{var t;class s extends fl{constructor(e,i,a,g,H,me,ze,Ke){super(e,i,g,me,ze,H,cl,ll,hl,Ke),this._idPrefix="mat-mdc-dialog-"}}return(t=s).\u0275fac=function(e){return new(e||t)(n.\u0275\u0275inject(qe),n.\u0275\u0275inject(n.Injector),n.\u0275\u0275inject(l.Location,8),n.\u0275\u0275inject(ml,8),n.\u0275\u0275inject(ea),n.\u0275\u0275inject(t,12),n.\u0275\u0275inject(Mt),n.\u0275\u0275inject(n.ANIMATION_MODULE_TYPE,8))},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac}),s})(),ta=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[gl,pl],imports:[yn,ue,$e,E.BQ,E.BQ]}),s})(),is=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.BQ]}),s})(),vl=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),ra=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[l.CommonModule,E.BQ,vl,$e]}),s})(),aa=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.uc,E.BQ,E.uc,E.BQ]}),s})();var ns=T(617);let ha=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[dt.Q8,l.CommonModule,E.BQ,E.si,E.us,is]}),s})();const Jl={provide:new n.InjectionToken("mat-menu-scroll-strategy"),deps:[qe],useFactory:function Zl(t){return()=>t.scrollStrategies.reposition()}};let ua=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Jl],imports:[l.CommonModule,E.si,E.BQ,ue,d.ZD,E.BQ]}),s})();const rc={provide:new n.InjectionToken("mat-select-scroll-strategy"),deps:[qe],useFactory:function nc(t){return()=>t.scrollStrategies.reposition()}};let ss=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[rc],imports:[l.CommonModule,ue,E.Ng,E.BQ,d.ZD,Ft,E.Ng,E.BQ]}),s})();const lc={provide:new n.InjectionToken("mat-tooltip-scroll-strategy"),deps:[qe],useFactory:function oc(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let as=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[lc],imports:[Le.rt,l.CommonModule,ue,E.BQ,E.BQ,d.ZD]}),s})(),os=(()=>{var t;class s{constructor(){this.changes=new de.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,a)=>{if(0==a||0==i)return`0 of ${a}`;const g=e*i;return`${g+1} \u2013 ${g<(a=Math.max(a,0))?Math.min(g+i,a):g+i} of ${a}`}}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const pc={provide:os,deps:[[new n.Optional,new n.SkipSelf,os]],useFactory:function uc(t){return t||new os}};let pa=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[pc],imports:[l.CommonModule,nt.ot,ss,as]}),s})(),_a=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ]}),s})();var fa=T(5940);let ya=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,l.CommonModule,E.si,E.BQ]}),s})();var xa=T(2651);let Ca=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),ka=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[Ca,E.BQ,E.si,l.CommonModule,Ca,E.BQ]}),s})(),Ea=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,l.CommonModule,E.si]}),s})(),Ma=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[ue,$e,l.CommonModule,nt.ot,E.BQ,E.BQ]}),s})(),ls=(()=>{var t;class s{constructor(){this.changes=new de.x}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const Xc={provide:ls,deps:[[new n.Optional,new n.SkipSelf,ls]],useFactory:function Qc(t){return t||new ls}};let Ia=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[Xc],imports:[l.CommonModule,E.BQ]}),s})(),qc=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[k.vT]}),s})(),cs=(()=>{var t;class s{constructor(){this.changes=new de.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275prov=n.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"}),s})();const ld={provide:cs,deps:[[new n.Optional,new n.SkipSelf,cs]],useFactory:function od(t){return t||new cs}};let Oa=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({providers:[ld,E.rD],imports:[E.BQ,l.CommonModule,$e,qc,ns.Ps,E.si,E.BQ]}),s})();T(7715),T(5619),T(2664);let Sd=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[d.Cl]}),s})(),Ga=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,Sd,E.BQ]}),s})(),Ka=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[l.CommonModule,E.BQ,$e,E.si,dt.Q8,Le.rt,E.BQ]}),s})(),Ya=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[E.BQ,E.BQ]}),s})(),Ud=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({}),s})(),Qa=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[Ud,E.BQ,E.BQ]}),s})();var _t=T(1462);T(6593);let to=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[_t.IR]}),t})();var io=T(3814);let ho=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[_t.IR]}),t})(),mo=(()=>{class t{constructor(r,e){(0,l.isPlatformServer)(e)&&!r&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(r,e=[]){return{ngModule:t,providers:r.serverLoaded?[{provide:_t.WU,useValue:{..._t.g5,...r}},{provide:_t.Bs,useValue:e,multi:!0},{provide:_t.wY,useValue:!0}]:[{provide:_t.WU,useValue:{..._t.g5,...r}},{provide:_t.Bs,useValue:e,multi:!0}]}}}return t.\u0275fac=function(r){return new(r||t)(n.\u0275\u0275inject(_t.wY),n.\u0275\u0275inject(n.PLATFORM_ID))},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[io.ae,to,ho,io.ae,to,ho]}),t})(),Pm=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=n.\u0275\u0275defineInjector({imports:[l.CommonModule,Ri,ai,jn,nt.ot,Qr,Sr,yt,Us,Qs,ta,is,ra,Ft,aa,ns.Ps,Ws,ha,ua,pa,_a,fa.Cq,ya,E.si,ss,xa.SJ,ka,Ea,Ma,Ia,Oa,Ga,Ka,Ya,as,Qa,mo,l.CommonModule,Ri,ai,jn,nt.ot,Qr,Sr,yt,Us,Qs,ta,is,ra,Ft,aa,ns.Ps,Ws,ha,ua,pa,_a,fa.Cq,ya,E.si,ss,xa.SJ,ka,Ea,Ma,Ia,Oa,Ga,Ka,Ya,as,Qa,mo]}),s})()},2513:(ot,Te,T)=>{T.r(Te),T.d(Te,{TerminalModule:()=>cn});var l={};T.r(l),T.d(l,{Decoder:()=>qi,Encoder:()=>Vi,PacketType:()=>Dt,protocol:()=>Kt});var n={};T.r(n),T.d(n,{Manager:()=>mi,Socket:()=>Zi,connect:()=>di,default:()=>di,io:()=>di,protocol:()=>Kt});var E=T(3595),d=T(7413),h=T(6885),b=T(6708),C=T(2651),f=T(7970),w=T(5592),k=T(3020);const S=Object.create(null);S.open="0",S.close="1",S.ping="2",S.pong="3",S.message="4",S.upgrade="5",S.noop="6";const x=Object.create(null);Object.keys(S).forEach(Y=>{x[S[Y]]=Y});const o={type:"error",data:"parser error"},p="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),m="function"==typeof ArrayBuffer,u=Y=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(Y):Y&&Y.buffer instanceof ArrayBuffer,y=({type:Y,data:O},N,K)=>p&&O instanceof Blob?N?K(O):M(O,K):m&&(O instanceof ArrayBuffer||u(O))?N?K(O):M(new Blob([O]),K):K(S[Y]+(O||"")),M=(Y,O)=>{const N=new FileReader;return N.onload=function(){const K=N.result.split(",")[1];O("b"+(K||""))},N.readAsDataURL(Y)};function P(Y){return Y instanceof Uint8Array?Y:Y instanceof ArrayBuffer?new Uint8Array(Y):new Uint8Array(Y.buffer,Y.byteOffset,Y.byteLength)}let B;const U=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let Y=0;Y<64;Y++)U["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Y)]=Y;const he="function"==typeof ArrayBuffer,je=(Y,O)=>{if("string"!=typeof Y)return{type:"message",data:$e(Y,O)};const N=Y.charAt(0);return"b"===N?{type:"message",data:Ze(Y.substring(1),O)}:x[N]?Y.length>1?{type:x[N],data:Y.substring(1)}:{type:x[N]}:o},Ze=(Y,O)=>{if(he){const N=(Y=>{let K,et,bt,Pt,Ft,O=.75*Y.length,N=Y.length,Ae=0;"="===Y[Y.length-1]&&(O--,"="===Y[Y.length-2]&&O--);const ri=new ArrayBuffer(O),qt=new Uint8Array(ri);for(K=0;K<N;K+=4)et=U[Y.charCodeAt(K)],bt=U[Y.charCodeAt(K+1)],Pt=U[Y.charCodeAt(K+2)],Ft=U[Y.charCodeAt(K+3)],qt[Ae++]=et<<2|bt>>4,qt[Ae++]=(15&bt)<<4|Pt>>2,qt[Ae++]=(3&Pt)<<6|63&Ft;return ri})(Y);return $e(N,O)}return{base64:!0,data:Y}},$e=(Y,O)=>"blob"===O?Y instanceof Blob?Y:new Blob([Y]):Y instanceof ArrayBuffer?Y:Y.buffer,Q=String.fromCharCode(30);let Xe;function rt(Y){return Y.reduce((O,N)=>O+N.length,0)}function Me(Y,O){if(Y[0].length===O)return Y.shift();const N=new Uint8Array(O);let K=0;for(let Ae=0;Ae<O;Ae++)N[Ae]=Y[0][K++],K===Y[0].length&&(Y.shift(),K=0);return Y.length&&K<Y[0].length&&(Y[0]=Y[0].slice(K)),N}function G(Y){if(Y)return function ee(Y){for(var O in G.prototype)Y[O]=G.prototype[O];return Y}(Y)}G.prototype.on=G.prototype.addEventListener=function(Y,O){return this._callbacks=this._callbacks||{},(this._callbacks["$"+Y]=this._callbacks["$"+Y]||[]).push(O),this},G.prototype.once=function(Y,O){function N(){this.off(Y,N),O.apply(this,arguments)}return N.fn=O,this.on(Y,N),this},G.prototype.off=G.prototype.removeListener=G.prototype.removeAllListeners=G.prototype.removeEventListener=function(Y,O){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var N=this._callbacks["$"+Y];if(!N)return this;if(1==arguments.length)return delete this._callbacks["$"+Y],this;for(var K,Ae=0;Ae<N.length;Ae++)if((K=N[Ae])===O||K.fn===O){N.splice(Ae,1);break}return 0===N.length&&delete this._callbacks["$"+Y],this},G.prototype.emitReserved=G.prototype.emit=function(Y){this._callbacks=this._callbacks||{};for(var O=new Array(arguments.length-1),N=this._callbacks["$"+Y],K=1;K<arguments.length;K++)O[K-1]=arguments[K];if(N){K=0;for(var Ae=(N=N.slice(0)).length;K<Ae;++K)N[K].apply(this,O)}return this},G.prototype.listeners=function(Y){return this._callbacks=this._callbacks||{},this._callbacks["$"+Y]||[]},G.prototype.hasListeners=function(Y){return!!this.listeners(Y).length};const z=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ye(Y,...O){return O.reduce((N,K)=>(Y.hasOwnProperty(K)&&(N[K]=Y[K]),N),{})}const Ge=z.setTimeout,Se=z.clearTimeout;function re(Y,O){O.useNativeTimers?(Y.setTimeoutFn=Ge.bind(z),Y.clearTimeoutFn=Se.bind(z)):(Y.setTimeoutFn=z.setTimeout.bind(z),Y.clearTimeoutFn=z.clearTimeout.bind(z))}function He(Y){return"string"==typeof Y?function oe(Y){let O=0,N=0;for(let K=0,Ae=Y.length;K<Ae;K++)O=Y.charCodeAt(K),O<128?N+=1:O<2048?N+=2:O<55296||O>=57344?N+=3:(K++,N+=4);return N}(Y):Math.ceil(1.33*(Y.byteLength||Y.size))}class gt extends Error{constructor(O,N,K){super(O),this.description=N,this.context=K,this.type="TransportError"}}class Mt extends G{constructor(O){super(),this.writable=!1,re(this,O),this.opts=O,this.query=O.query,this.socket=O.socket}onError(O,N,K){return super.emitReserved("error",new gt(O,N,K)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(O){"open"===this.readyState&&this.write(O)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(O){const N=je(O,this.socket.binaryType);this.onPacket(N)}onPacket(O){super.emitReserved("packet",O)}onClose(O){this.readyState="closed",super.emitReserved("close",O)}pause(O){}createUri(O,N={}){return O+"://"+this._hostname()+this._port()+this.opts.path+this._query(N)}_hostname(){const O=this.opts.hostname;return-1===O.indexOf(":")?O:"["+O+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(O){const N=function Pe(Y){let O="";for(let N in Y)Y.hasOwnProperty(N)&&(O.length&&(O+="&"),O+=encodeURIComponent(N)+"="+encodeURIComponent(Y[N]));return O}(O);return N.length?"?"+N:""}}const jt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),zt=64,$t={};let Gt,wt=0,Rt=0;function Ut(Y){let O="";do{O=jt[Y%zt]+O,Y=Math.floor(Y/zt)}while(Y>0);return O}function ei(){const Y=Ut(+new Date);return Y!==Gt?(wt=0,Gt=Y):Y+"."+Ut(wt++)}for(;Rt<zt;Rt++)$t[jt[Rt]]=Rt;let st=!1;try{st=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Qe=st;function it(Y){const O=Y.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!O||Qe))return new XMLHttpRequest}catch{}if(!O)try{return new(z[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function qe(){}const ct=null!=new it({xdomain:!1}).responseType;let Ot=(()=>{class Y extends G{constructor(N,K){super(),re(this,K),this.opts=K,this.method=K.method||"GET",this.uri=N,this.data=void 0!==K.data?K.data:null,this.create()}create(){var N;const K=ye(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");K.xdomain=!!this.opts.xd;const Ae=this.xhr=new it(K);try{Ae.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){Ae.setDisableHeaderCheck&&Ae.setDisableHeaderCheck(!0);for(let et in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(et)&&Ae.setRequestHeader(et,this.opts.extraHeaders[et])}}catch{}if("POST"===this.method)try{Ae.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{Ae.setRequestHeader("Accept","*/*")}catch{}null===(N=this.opts.cookieJar)||void 0===N||N.addCookies(Ae),"withCredentials"in Ae&&(Ae.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(Ae.timeout=this.opts.requestTimeout),Ae.onreadystatechange=()=>{var et;3===Ae.readyState&&(null===(et=this.opts.cookieJar)||void 0===et||et.parseCookies(Ae)),4===Ae.readyState&&(200===Ae.status||1223===Ae.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof Ae.status?Ae.status:0)},0))},Ae.send(this.data)}catch(et){return void this.setTimeoutFn(()=>{this.onError(et)},0)}typeof document<"u"&&(this.index=Y.requestsCount++,Y.requests[this.index]=this)}onError(N){this.emitReserved("error",N,this.xhr),this.cleanup(!0)}cleanup(N){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=qe,N)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Y.requests[this.index],this.xhr=null}}onLoad(){const N=this.xhr.responseText;null!==N&&(this.emitReserved("data",N),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return Y.requestsCount=0,Y.requests={},Y})();function Fe(){for(let Y in Ot.requests)Ot.requests.hasOwnProperty(Y)&&Ot.requests[Y].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Fe):"function"==typeof addEventListener&&addEventListener("onpagehide"in z?"pagehide":"unload",Fe,!1));const We="function"==typeof Promise&&"function"==typeof Promise.resolve?O=>Promise.resolve().then(O):(O,N)=>N(O,0),X=z.WebSocket||z.MozWebSocket,Le=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),tt={websocket:class ie extends Mt{constructor(O){super(O),this.supportsBinary=!O.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const O=this.uri(),N=this.opts.protocols,K=Le?{}:ye(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(K.headers=this.opts.extraHeaders);try{this.ws=Le?new X(O,N,K):N?new X(O,N):new X(O)}catch(Ae){return this.emitReserved("error",Ae)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=O=>this.onClose({description:"websocket connection closed",context:O}),this.ws.onmessage=O=>this.onData(O.data),this.ws.onerror=O=>this.onError("websocket error",O)}write(O){this.writable=!1;for(let N=0;N<O.length;N++){const Ae=N===O.length-1;y(O[N],this.supportsBinary,et=>{try{this.ws.send(et)}catch{}Ae&&We(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const O=this.opts.secure?"wss":"ws",N=this.query||{};return this.opts.timestampRequests&&(N[this.opts.timestampParam]=ei()),this.supportsBinary||(N.b64=1),this.createUri(O,N)}check(){return!!X}},webtransport:class ve extends Mt{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(O=>{this.onError("webtransport error",O)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(O=>{const N=function _e(Y,O){Xe||(Xe=new TextDecoder);const N=[];let K=0,Ae=-1,et=!1;return new TransformStream({transform(bt,Pt){for(N.push(bt);;){if(0===K){if(rt(N)<1)break;const Ft=Me(N,1);et=128==(128&Ft[0]),Ae=127&Ft[0],K=Ae<126?3:126===Ae?1:2}else if(1===K){if(rt(N)<2)break;const Ft=Me(N,2);Ae=new DataView(Ft.buffer,Ft.byteOffset,Ft.length).getUint16(0),K=3}else if(2===K){if(rt(N)<8)break;const Ft=Me(N,8),ri=new DataView(Ft.buffer,Ft.byteOffset,Ft.length),qt=ri.getUint32(0);if(qt>Math.pow(2,21)-1){Pt.enqueue(o);break}Ae=qt*Math.pow(2,32)+ri.getUint32(4),K=3}else{if(rt(N)<Ae)break;const Ft=Me(N,Ae);Pt.enqueue(je(et?Ft:Xe.decode(Ft),O)),K=0}if(0===Ae||Ae>Y){Pt.enqueue(o);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),K=O.readable.pipeThrough(N).getReader(),Ae=function we(){return new TransformStream({transform(Y,O){!function v(Y,O){p&&Y.data instanceof Blob?Y.data.arrayBuffer().then(P).then(O):m&&(Y.data instanceof ArrayBuffer||u(Y.data))?O(P(Y.data)):y(Y,!1,N=>{B||(B=new TextEncoder),O(B.encode(N))})}(Y,N=>{const K=N.length;let Ae;if(K<126)Ae=new Uint8Array(1),new DataView(Ae.buffer).setUint8(0,K);else if(K<65536){Ae=new Uint8Array(3);const et=new DataView(Ae.buffer);et.setUint8(0,126),et.setUint16(1,K)}else{Ae=new Uint8Array(9);const et=new DataView(Ae.buffer);et.setUint8(0,127),et.setBigUint64(1,BigInt(K))}Y.data&&"string"!=typeof Y.data&&(Ae[0]|=128),O.enqueue(Ae),O.enqueue(N)})}})}();Ae.readable.pipeTo(O.writable),this.writer=Ae.writable.getWriter();const et=()=>{K.read().then(({done:Pt,value:Ft})=>{Pt||(this.onPacket(Ft),et())}).catch(Pt=>{})};et();const bt={type:"open"};this.query.sid&&(bt.data=`{"sid":"${this.query.sid}"}`),this.writer.write(bt).then(()=>this.onOpen())})}))}write(O){this.writable=!1;for(let N=0;N<O.length;N++){const Ae=N===O.length-1;this.writer.write(O[N]).then(()=>{Ae&&We(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var O;null===(O=this.transport)||void 0===O||O.close()}},polling:class ut extends Mt{constructor(O){if(super(O),this.polling=!1,typeof location<"u"){const K="https:"===location.protocol;let Ae=location.port;Ae||(Ae=K?"443":"80"),this.xd=typeof location<"u"&&O.hostname!==location.hostname||Ae!==O.port}this.supportsBinary=ct&&!(O&&O.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(O){this.readyState="pausing";const N=()=>{this.readyState="paused",O()};if(this.polling||!this.writable){let K=0;this.polling&&(K++,this.once("pollComplete",function(){--K||N()})),this.writable||(K++,this.once("drain",function(){--K||N()}))}else N()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(O){((Y,O)=>{const N=Y.split(Q),K=[];for(let Ae=0;Ae<N.length;Ae++){const et=je(N[Ae],O);if(K.push(et),"error"===et.type)break}return K})(O,this.socket.binaryType).forEach(K=>{if("opening"===this.readyState&&"open"===K.type&&this.onOpen(),"close"===K.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(K)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const O=()=>{this.write([{type:"close"}])};"open"===this.readyState?O():this.once("open",O)}write(O){this.writable=!1,((Y,O)=>{const N=Y.length,K=new Array(N);let Ae=0;Y.forEach((et,bt)=>{y(et,!1,Pt=>{K[bt]=Pt,++Ae===N&&O(K.join(Q))})})})(O,N=>{this.doWrite(N,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const O=this.opts.secure?"https":"http",N=this.query||{};return!1!==this.opts.timestampRequests&&(N[this.opts.timestampParam]=ei()),!this.supportsBinary&&!N.sid&&(N.b64=1),this.createUri(O,N)}request(O={}){return Object.assign(O,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Ot(this.uri(),O)}doWrite(O,N){const K=this.request({method:"POST",data:O});K.on("success",N),K.on("error",(Ae,et)=>{this.onError("xhr post error",Ae,et)})}doPoll(){const O=this.request();O.on("data",this.onData.bind(this)),O.on("error",(N,K)=>{this.onError("xhr poll error",N,K)}),this.pollXhr=O}}},Oe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ne=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ue(Y){const O=Y,N=Y.indexOf("["),K=Y.indexOf("]");-1!=N&&-1!=K&&(Y=Y.substring(0,N)+Y.substring(N,K).replace(/:/g,";")+Y.substring(K,Y.length));let Ae=Oe.exec(Y||""),et={},bt=14;for(;bt--;)et[Ne[bt]]=Ae[bt]||"";return-1!=N&&-1!=K&&(et.source=O,et.host=et.host.substring(1,et.host.length-1).replace(/;/g,":"),et.authority=et.authority.replace("[","").replace("]","").replace(/;/g,":"),et.ipv6uri=!0),et.pathNames=function dt(Y,O){const K=O.replace(/\/{2,9}/g,"/").split("/");return("/"==O.slice(0,1)||0===O.length)&&K.splice(0,1),"/"==O.slice(-1)&&K.splice(K.length-1,1),K}(0,et.path),et.queryKey=function Ct(Y,O){const N={};return O.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(K,Ae,et){Ae&&(N[Ae]=et)}),N}(0,et.query),et}let De=(()=>{class Y extends G{constructor(N,K={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],N&&"object"==typeof N&&(K=N,N=null),N?(N=Ue(N),K.hostname=N.host,K.secure="https"===N.protocol||"wss"===N.protocol,K.port=N.port,N.query&&(K.query=N.query)):K.host&&(K.hostname=Ue(K.host).host),re(this,K),this.secure=null!=K.secure?K.secure:typeof location<"u"&&"https:"===location.protocol,K.hostname&&!K.port&&(K.port=this.secure?"443":"80"),this.hostname=K.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=K.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=K.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},K),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function at(Y){let O={},N=Y.split("&");for(let K=0,Ae=N.length;K<Ae;K++){let et=N[K].split("=");O[decodeURIComponent(et[0])]=decodeURIComponent(et[1])}return O}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(N){const K=Object.assign({},this.opts.query);K.EIO=4,K.transport=N,this.id&&(K.sid=this.id);const Ae=Object.assign({},this.opts,{query:K,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[N]);return new tt[N](Ae)}open(){let N;if(this.opts.rememberUpgrade&&Y.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))N="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);N=this.transports[0]}this.readyState="opening";try{N=this.createTransport(N)}catch{return this.transports.shift(),void this.open()}N.open(),this.setTransport(N)}setTransport(N){this.transport&&this.transport.removeAllListeners(),this.transport=N,N.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",K=>this.onClose("transport close",K))}probe(N){let K=this.createTransport(N),Ae=!1;Y.priorWebsocketSuccess=!1;const et=()=>{Ae||(K.send([{type:"ping",data:"probe"}]),K.once("packet",xi=>{if(!Ae)if("pong"===xi.type&&"probe"===xi.data){if(this.upgrading=!0,this.emitReserved("upgrading",K),!K)return;Y.priorWebsocketSuccess="websocket"===K.name,this.transport.pause(()=>{Ae||"closed"!==this.readyState&&(dn(),this.setTransport(K),K.send([{type:"upgrade"}]),this.emitReserved("upgrade",K),K=null,this.upgrading=!1,this.flush())})}else{const Di=new Error("probe error");Di.transport=K.name,this.emitReserved("upgradeError",Di)}}))};function bt(){Ae||(Ae=!0,dn(),K.close(),K=null)}const Pt=xi=>{const Di=new Error("probe error: "+xi);Di.transport=K.name,bt(),this.emitReserved("upgradeError",Di)};function Ft(){Pt("transport closed")}function ri(){Pt("socket closed")}function qt(xi){K&&xi.name!==K.name&&bt()}const dn=()=>{K.removeListener("open",et),K.removeListener("error",Pt),K.removeListener("close",Ft),this.off("close",ri),this.off("upgrading",qt)};K.once("open",et),K.once("error",Pt),K.once("close",Ft),this.once("close",ri),this.once("upgrading",qt),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==N?this.setTimeoutFn(()=>{Ae||K.open()},200):K.open()}onOpen(){if(this.readyState="open",Y.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let N=0;const K=this.upgrades.length;for(;N<K;N++)this.probe(this.upgrades[N])}}onPacket(N){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",N),this.emitReserved("heartbeat"),this.resetPingTimeout(),N.type){case"open":this.onHandshake(JSON.parse(N.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const K=new Error("server error");K.code=N.data,this.onError(K);break;case"message":this.emitReserved("data",N.data),this.emitReserved("message",N.data)}}onHandshake(N){this.emitReserved("handshake",N),this.id=N.sid,this.transport.query.sid=N.sid,this.upgrades=this.filterUpgrades(N.upgrades),this.pingInterval=N.pingInterval,this.pingTimeout=N.pingTimeout,this.maxPayload=N.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const N=this.getWritablePackets();this.transport.send(N),this.prevBufferLen=N.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let K=1;for(let Ae=0;Ae<this.writeBuffer.length;Ae++){const et=this.writeBuffer[Ae].data;if(et&&(K+=He(et)),Ae>0&&K>this.maxPayload)return this.writeBuffer.slice(0,Ae);K+=2}return this.writeBuffer}write(N,K,Ae){return this.sendPacket("message",N,K,Ae),this}send(N,K,Ae){return this.sendPacket("message",N,K,Ae),this}sendPacket(N,K,Ae,et){if("function"==typeof K&&(et=K,K=void 0),"function"==typeof Ae&&(et=Ae,Ae=null),"closing"===this.readyState||"closed"===this.readyState)return;(Ae=Ae||{}).compress=!1!==Ae.compress;const bt={type:N,data:K,options:Ae};this.emitReserved("packetCreate",bt),this.writeBuffer.push(bt),et&&this.once("flush",et),this.flush()}close(){const N=()=>{this.onClose("forced close"),this.transport.close()},K=()=>{this.off("upgrade",K),this.off("upgradeError",K),N()},Ae=()=>{this.once("upgrade",K),this.once("upgradeError",K)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?Ae():N()}):this.upgrading?Ae():N()),this}onError(N){Y.priorWebsocketSuccess=!1,this.emitReserved("error",N),this.onClose("transport error",N)}onClose(N,K){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",N,K),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(N){const K=[];let Ae=0;const et=N.length;for(;Ae<et;Ae++)~this.transports.indexOf(N[Ae])&&K.push(N[Ae]);return K}}return Y.protocol=4,Y})();const W="function"==typeof ArrayBuffer,Z=Y=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(Y):Y.buffer instanceof ArrayBuffer,be=Object.prototype.toString,le="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===be.call(Blob),ce="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===be.call(File);function Re(Y){return W&&(Y instanceof ArrayBuffer||Z(Y))||le&&Y instanceof Blob||ce&&Y instanceof File}function pe(Y,O){if(!Y||"object"!=typeof Y)return!1;if(Array.isArray(Y)){for(let N=0,K=Y.length;N<K;N++)if(pe(Y[N]))return!0;return!1}if(Re(Y))return!0;if(Y.toJSON&&"function"==typeof Y.toJSON&&1===arguments.length)return pe(Y.toJSON(),!0);for(const N in Y)if(Object.prototype.hasOwnProperty.call(Y,N)&&pe(Y[N]))return!0;return!1}function ke(Y){const O=[],K=Y;return K.data=Je(Y.data,O),K.attachments=O.length,{packet:K,buffers:O}}function Je(Y,O){if(!Y)return Y;if(Re(Y)){const N={_placeholder:!0,num:O.length};return O.push(Y),N}if(Array.isArray(Y)){const N=new Array(Y.length);for(let K=0;K<Y.length;K++)N[K]=Je(Y[K],O);return N}if("object"==typeof Y&&!(Y instanceof Date)){const N={};for(const K in Y)Object.prototype.hasOwnProperty.call(Y,K)&&(N[K]=Je(Y[K],O));return N}return Y}function mt(Y,O){return Y.data=ft(Y.data,O),delete Y.attachments,Y}function ft(Y,O){if(!Y)return Y;if(Y&&!0===Y._placeholder){if("number"==typeof Y.num&&Y.num>=0&&Y.num<O.length)return O[Y.num];throw new Error("illegal attachments")}if(Array.isArray(Y))for(let N=0;N<Y.length;N++)Y[N]=ft(Y[N],O);else if("object"==typeof Y)for(const N in Y)Object.prototype.hasOwnProperty.call(Y,N)&&(Y[N]=ft(Y[N],O));return Y}const Nt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Kt=5;var Dt=function(Y){return Y[Y.CONNECT=0]="CONNECT",Y[Y.DISCONNECT=1]="DISCONNECT",Y[Y.EVENT=2]="EVENT",Y[Y.ACK=3]="ACK",Y[Y.CONNECT_ERROR=4]="CONNECT_ERROR",Y[Y.BINARY_EVENT=5]="BINARY_EVENT",Y[Y.BINARY_ACK=6]="BINARY_ACK",Y}(Dt||{});class Vi{constructor(O){this.replacer=O}encode(O){return O.type!==Dt.EVENT&&O.type!==Dt.ACK||!pe(O)?[this.encodeAsString(O)]:this.encodeAsBinary({type:O.type===Dt.EVENT?Dt.BINARY_EVENT:Dt.BINARY_ACK,nsp:O.nsp,data:O.data,id:O.id})}encodeAsString(O){let N=""+O.type;return(O.type===Dt.BINARY_EVENT||O.type===Dt.BINARY_ACK)&&(N+=O.attachments+"-"),O.nsp&&"/"!==O.nsp&&(N+=O.nsp+","),null!=O.id&&(N+=O.id),null!=O.data&&(N+=JSON.stringify(O.data,this.replacer)),N}encodeAsBinary(O){const N=ke(O),K=this.encodeAsString(N.packet),Ae=N.buffers;return Ae.unshift(K),Ae}}function Ei(Y){return"[object Object]"===Object.prototype.toString.call(Y)}class qi extends G{constructor(O){super(),this.reviver=O}add(O){let N;if("string"==typeof O){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");N=this.decodeString(O);const K=N.type===Dt.BINARY_EVENT;K||N.type===Dt.BINARY_ACK?(N.type=K?Dt.EVENT:Dt.ACK,this.reconstructor=new kn(N),0===N.attachments&&super.emitReserved("decoded",N)):super.emitReserved("decoded",N)}else{if(!Re(O)&&!O.base64)throw new Error("Unknown type: "+O);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");N=this.reconstructor.takeBinaryData(O),N&&(this.reconstructor=null,super.emitReserved("decoded",N))}}decodeString(O){let N=0;const K={type:Number(O.charAt(0))};if(void 0===Dt[K.type])throw new Error("unknown packet type "+K.type);if(K.type===Dt.BINARY_EVENT||K.type===Dt.BINARY_ACK){const et=N+1;for(;"-"!==O.charAt(++N)&&N!=O.length;);const bt=O.substring(et,N);if(bt!=Number(bt)||"-"!==O.charAt(N))throw new Error("Illegal attachments");K.attachments=Number(bt)}if("/"===O.charAt(N+1)){const et=N+1;for(;++N&&","!==O.charAt(N)&&N!==O.length;);K.nsp=O.substring(et,N)}else K.nsp="/";const Ae=O.charAt(N+1);if(""!==Ae&&Number(Ae)==Ae){const et=N+1;for(;++N;){const bt=O.charAt(N);if(null==bt||Number(bt)!=bt){--N;break}if(N===O.length)break}K.id=Number(O.substring(et,N+1))}if(O.charAt(++N)){const et=this.tryParse(O.substr(N));if(!qi.isPayloadValid(K.type,et))throw new Error("invalid payload");K.data=et}return K}tryParse(O){try{return JSON.parse(O,this.reviver)}catch{return!1}}static isPayloadValid(O,N){switch(O){case Dt.CONNECT:return Ei(N);case Dt.DISCONNECT:return void 0===N;case Dt.CONNECT_ERROR:return"string"==typeof N||Ei(N);case Dt.EVENT:case Dt.BINARY_EVENT:return Array.isArray(N)&&("number"==typeof N[0]||"string"==typeof N[0]&&-1===Nt.indexOf(N[0]));case Dt.ACK:case Dt.BINARY_ACK:return Array.isArray(N)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class kn{constructor(O){this.packet=O,this.buffers=[],this.reconPack=O}takeBinaryData(O){if(this.buffers.push(O),this.buffers.length===this.reconPack.attachments){const N=mt(this.reconPack,this.buffers);return this.finishedReconstruction(),N}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ti(Y,O,N){return Y.on(O,N),function(){Y.off(O,N)}}const Hi=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Zi extends G{constructor(O,N,K){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=O,this.nsp=N,K&&K.auth&&(this.auth=K.auth),this._opts=Object.assign({},K),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const O=this.io;this.subs=[ti(O,"open",this.onopen.bind(this)),ti(O,"packet",this.onpacket.bind(this)),ti(O,"error",this.onerror.bind(this)),ti(O,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...O){return O.unshift("message"),this.emit.apply(this,O),this}emit(O,...N){if(Hi.hasOwnProperty(O))throw new Error('"'+O.toString()+'" is a reserved event name');if(N.unshift(O),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(N),this;const K={type:Dt.EVENT,data:N,options:{}};if(K.options.compress=!1!==this.flags.compress,"function"==typeof N[N.length-1]){const bt=this.ids++,Pt=N.pop();this._registerAckCallback(bt,Pt),K.id=bt}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(K),this.packet(K)):this.sendBuffer.push(K)),this.flags={},this}_registerAckCallback(O,N){var K;const Ae=null!==(K=this.flags.timeout)&&void 0!==K?K:this._opts.ackTimeout;if(void 0===Ae)return void(this.acks[O]=N);const et=this.io.setTimeoutFn(()=>{delete this.acks[O];for(let bt=0;bt<this.sendBuffer.length;bt++)this.sendBuffer[bt].id===O&&this.sendBuffer.splice(bt,1);N.call(this,new Error("operation has timed out"))},Ae);this.acks[O]=(...bt)=>{this.io.clearTimeoutFn(et),N.apply(this,[null,...bt])}}emitWithAck(O,...N){const K=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((Ae,et)=>{N.push((bt,Pt)=>K?bt?et(bt):Ae(Pt):Ae(bt)),this.emit(O,...N)})}_addToQueue(O){let N;"function"==typeof O[O.length-1]&&(N=O.pop());const K={id:this._queueSeq++,tryCount:0,pending:!1,args:O,flags:Object.assign({fromQueue:!0},this.flags)};O.push((Ae,...et)=>K!==this._queue[0]?void 0:(null!==Ae?K.tryCount>this._opts.retries&&(this._queue.shift(),N&&N(Ae)):(this._queue.shift(),N&&N(null,...et)),K.pending=!1,this._drainQueue())),this._queue.push(K),this._drainQueue()}_drainQueue(O=!1){if(!this.connected||0===this._queue.length)return;const N=this._queue[0];N.pending&&!O||(N.pending=!0,N.tryCount++,this.flags=N.flags,this.emit.apply(this,N.args))}packet(O){O.nsp=this.nsp,this.io._packet(O)}onopen(){"function"==typeof this.auth?this.auth(O=>{this._sendConnectPacket(O)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(O){this.packet({type:Dt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},O):O})}onerror(O){this.connected||this.emitReserved("connect_error",O)}onclose(O,N){this.connected=!1,delete this.id,this.emitReserved("disconnect",O,N)}onpacket(O){if(O.nsp===this.nsp)switch(O.type){case Dt.CONNECT:O.data&&O.data.sid?this.onconnect(O.data.sid,O.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Dt.EVENT:case Dt.BINARY_EVENT:this.onevent(O);break;case Dt.ACK:case Dt.BINARY_ACK:this.onack(O);break;case Dt.DISCONNECT:this.ondisconnect();break;case Dt.CONNECT_ERROR:this.destroy();const K=new Error(O.data.message);K.data=O.data.data,this.emitReserved("connect_error",K)}}onevent(O){const N=O.data||[];null!=O.id&&N.push(this.ack(O.id)),this.connected?this.emitEvent(N):this.receiveBuffer.push(Object.freeze(N))}emitEvent(O){if(this._anyListeners&&this._anyListeners.length){const N=this._anyListeners.slice();for(const K of N)K.apply(this,O)}super.emit.apply(this,O),this._pid&&O.length&&"string"==typeof O[O.length-1]&&(this._lastOffset=O[O.length-1])}ack(O){const N=this;let K=!1;return function(...Ae){K||(K=!0,N.packet({type:Dt.ACK,id:O,data:Ae}))}}onack(O){const N=this.acks[O.id];"function"==typeof N&&(N.apply(this,O.data),delete this.acks[O.id])}onconnect(O,N){this.id=O,this.recovered=N&&this._pid===N,this._pid=N,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(O=>this.emitEvent(O)),this.receiveBuffer=[],this.sendBuffer.forEach(O=>{this.notifyOutgoingListeners(O),this.packet(O)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(O=>O()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Dt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(O){return this.flags.compress=O,this}get volatile(){return this.flags.volatile=!0,this}timeout(O){return this.flags.timeout=O,this}onAny(O){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(O),this}prependAny(O){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(O),this}offAny(O){if(!this._anyListeners)return this;if(O){const N=this._anyListeners;for(let K=0;K<N.length;K++)if(O===N[K])return N.splice(K,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(O){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(O),this}prependAnyOutgoing(O){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(O),this}offAnyOutgoing(O){if(!this._anyOutgoingListeners)return this;if(O){const N=this._anyOutgoingListeners;for(let K=0;K<N.length;K++)if(O===N[K])return N.splice(K,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(O){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const N=this._anyOutgoingListeners.slice();for(const K of N)K.apply(this,O.data)}}}function Mi(Y){this.ms=(Y=Y||{}).min||100,this.max=Y.max||1e4,this.factor=Y.factor||2,this.jitter=Y.jitter>0&&Y.jitter<=1?Y.jitter:0,this.attempts=0}Mi.prototype.duration=function(){var Y=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var O=Math.random(),N=Math.floor(O*this.jitter*Y);Y=1&Math.floor(10*O)?Y+N:Y-N}return 0|Math.min(Y,this.max)},Mi.prototype.reset=function(){this.attempts=0},Mi.prototype.setMin=function(Y){this.ms=Y},Mi.prototype.setMax=function(Y){this.max=Y},Mi.prototype.setJitter=function(Y){this.jitter=Y};class mi extends G{constructor(O,N){var K;super(),this.nsps={},this.subs=[],O&&"object"==typeof O&&(N=O,O=void 0),(N=N||{}).path=N.path||"/socket.io",this.opts=N,re(this,N),this.reconnection(!1!==N.reconnection),this.reconnectionAttempts(N.reconnectionAttempts||1/0),this.reconnectionDelay(N.reconnectionDelay||1e3),this.reconnectionDelayMax(N.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(K=N.randomizationFactor)&&void 0!==K?K:.5),this.backoff=new Mi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==N.timeout?2e4:N.timeout),this._readyState="closed",this.uri=O;const Ae=N.parser||l;this.encoder=new Ae.Encoder,this.decoder=new Ae.Decoder,this._autoConnect=!1!==N.autoConnect,this._autoConnect&&this.open()}reconnection(O){return arguments.length?(this._reconnection=!!O,this):this._reconnection}reconnectionAttempts(O){return void 0===O?this._reconnectionAttempts:(this._reconnectionAttempts=O,this)}reconnectionDelay(O){var N;return void 0===O?this._reconnectionDelay:(this._reconnectionDelay=O,null===(N=this.backoff)||void 0===N||N.setMin(O),this)}randomizationFactor(O){var N;return void 0===O?this._randomizationFactor:(this._randomizationFactor=O,null===(N=this.backoff)||void 0===N||N.setJitter(O),this)}reconnectionDelayMax(O){var N;return void 0===O?this._reconnectionDelayMax:(this._reconnectionDelayMax=O,null===(N=this.backoff)||void 0===N||N.setMax(O),this)}timeout(O){return arguments.length?(this._timeout=O,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(O){if(~this._readyState.indexOf("open"))return this;this.engine=new De(this.uri,this.opts);const N=this.engine,K=this;this._readyState="opening",this.skipReconnect=!1;const Ae=ti(N,"open",function(){K.onopen(),O&&O()}),et=Pt=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",Pt),O?O(Pt):this.maybeReconnectOnOpen()},bt=ti(N,"error",et);if(!1!==this._timeout){const Ft=this.setTimeoutFn(()=>{Ae(),et(new Error("timeout")),N.close()},this._timeout);this.opts.autoUnref&&Ft.unref(),this.subs.push(()=>{this.clearTimeoutFn(Ft)})}return this.subs.push(Ae),this.subs.push(bt),this}connect(O){return this.open(O)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const O=this.engine;this.subs.push(ti(O,"ping",this.onping.bind(this)),ti(O,"data",this.ondata.bind(this)),ti(O,"error",this.onerror.bind(this)),ti(O,"close",this.onclose.bind(this)),ti(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(O){try{this.decoder.add(O)}catch(N){this.onclose("parse error",N)}}ondecoded(O){We(()=>{this.emitReserved("packet",O)},this.setTimeoutFn)}onerror(O){this.emitReserved("error",O)}socket(O,N){let K=this.nsps[O];return K?this._autoConnect&&!K.active&&K.connect():(K=new Zi(this,O,N),this.nsps[O]=K),K}_destroy(O){const N=Object.keys(this.nsps);for(const K of N)if(this.nsps[K].active)return;this._close()}_packet(O){const N=this.encoder.encode(O);for(let K=0;K<N.length;K++)this.engine.write(N[K],O.options)}cleanup(){this.subs.forEach(O=>O()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(O,N){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",O,N),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const O=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const N=this.backoff.duration();this._reconnecting=!0;const K=this.setTimeoutFn(()=>{O.skipReconnect||(this.emitReserved("reconnect_attempt",O.backoff.attempts),!O.skipReconnect&&O.open(Ae=>{Ae?(O._reconnecting=!1,O.reconnect(),this.emitReserved("reconnect_error",Ae)):O.onreconnect()}))},N);this.opts.autoUnref&&K.unref(),this.subs.push(()=>{this.clearTimeoutFn(K)})}}onreconnect(){const O=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",O)}}const gi={};function di(Y,O){"object"==typeof Y&&(O=Y,Y=void 0);const N=function $(Y,O="",N){let K=Y;N=N||typeof location<"u"&&location,null==Y&&(Y=N.protocol+"//"+N.host),"string"==typeof Y&&("/"===Y.charAt(0)&&(Y="/"===Y.charAt(1)?N.protocol+Y:N.host+Y),/^(https?|wss?):\/\//.test(Y)||(Y=typeof N<"u"?N.protocol+"//"+Y:"https://"+Y),K=Ue(Y)),K.port||(/^(http|ws)$/.test(K.protocol)?K.port="80":/^(http|ws)s$/.test(K.protocol)&&(K.port="443")),K.path=K.path||"/";const et=-1!==K.host.indexOf(":")?"["+K.host+"]":K.host;return K.id=K.protocol+"://"+et+":"+K.port+O,K.href=K.protocol+"://"+et+(N&&N.port===K.port?"":":"+K.port),K}(Y,(O=O||{}).path||"/socket.io"),K=N.source,Ae=N.id;let Ft;return O.forceNew||O["force new connection"]||!1===O.multiplex||gi[Ae]&&N.path in gi[Ae].nsps?Ft=new mi(K,O):(gi[Ae]||(gi[Ae]=new mi(K,O)),Ft=gi[Ae]),N.query&&!O.query&&(O.query=N.queryKey),Ft.socket(N.path,O)}Object.assign(di,{Manager:mi,Socket:Zi,io:di,connect:di});class Ci{constructor(O){this.config=O,this.subscribersCounter={},this.eventObservables$={},this.emptyConfig={url:"",options:{}},void 0===O&&(O=this.emptyConfig),this.ioSocket=(di||n)(O.url,O.options)}of(O){this.ioSocket.of(O)}on(O,N){this.ioSocket.on(O,N)}once(O,N){this.ioSocket.once(O,N)}connect(){return this.ioSocket.connect()}disconnect(O){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(O,...N){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(O,N){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(O){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(O){return this.subscribersCounter[O]||(this.subscribersCounter[O]=0),this.subscribersCounter[O]++,this.eventObservables$[O]||(this.eventObservables$[O]=new w.y(N=>{const K=Ae=>{N.next(Ae)};return this.ioSocket.on(O,K),()=>{this.subscribersCounter[O]--,0===this.subscribersCounter[O]&&(this.ioSocket.removeListener(O,K),delete this.eventObservables$[O])}}).pipe((0,k.B)())),this.eventObservables$[O]}fromOneTimeEvent(O){return new Promise(N=>this.once(O,N))}listeners(O){return this.ioSocket.listeners(O)}listenersAny(){return this.ioSocket.listenersAny()}listenersAnyOutgoing(){return this.ioSocket.listenersAnyOutgoing()}off(O,N){return O?O&&!N?this.ioSocket.off(O):this.ioSocket.off(O,N):this.ioSocket.offAny()}onAny(O){return this.ioSocket.onAny(O)}onAnyOutgoing(O){return this.ioSocket.onAnyOutgoing(O)}prependAny(O){return this.ioSocket.prependAny(O)}prependAnyOutgoing(O){return this.ioSocket.prependAnyOutgoing(O)}timeout(O){return this.ioSocket.timeout(O)}volatile(){return this.ioSocket.volatile}}function on(Y){return new Ci(Y)}const zi=new f.InjectionToken("__SOCKET_IO_CONFIG__");let Ji=(()=>{class Y{static forRoot(N){return{ngModule:Y,providers:[{provide:zi,useValue:N},{provide:Ci,useFactory:on,deps:[zi]}]}}}return Y.\u0275fac=function(N){return new(N||Y)},Y.\u0275mod=f.\u0275\u0275defineNgModule({type:Y}),Y.\u0275inj=f.\u0275\u0275defineInjector({}),Y})();var ki=T(2296),Li=T(617),en=T(5940),Si=T(3814);function Ui(Y,O){1&Y&&(f.\u0275\u0275elementStart(0,"button",17),f.\u0275\u0275text(1,"Save Instances"),f.\u0275\u0275elementEnd())}function Ii(Y,O){1&Y&&(f.\u0275\u0275elementStart(0,"div",18),f.\u0275\u0275element(1,"mat-spinner",19),f.\u0275\u0275elementEnd()),2&Y&&(f.\u0275\u0275advance(1),f.\u0275\u0275property("diameter",30))}const Ai=[{path:"",component:(()=>{var Y;class O{constructor(K,Ae,et,bt){this.router=K,this.route=Ae,this.socket=et,this.ngZone=bt,this.isHoverOver=!1,this.loader=!1}ngOnInit(){localStorage.getItem("user_name")&&localStorage.getItem("user_id")&&this.route.queryParams.subscribe(K=>{Object.keys(K).length>0&&K.access==localStorage.getItem("user_id")?(this.queryParams=K,this.connectLocalShell()):this.router.navigate(["/"])})}ngOnDestroy(){this.socket.emit("disconnect_shell")}addInstance(){this.drawer.toggle()}openConnection(K){let et="http://pibox.local:1337/#"+this.router.serializeUrl(this.router.createUrlTree(["/terminal/shell"],{queryParams:{server_name:"localhost",server_host:"local"}}));window.open(et,"","width=1024,height=758")}connectLocalShell(){this.term=null,this.fitAddon=null,this.term=new h.Terminal({cursorBlink:!0,rows:32,cols:110}),this.fitAddon=new b.FitAddon,this.socket.emit("pty"),this.ptyShell()}ptyShell(){this.term.open(document.getElementById("terminal_1")),this.term.onData(K=>{this.socket.emit("message",K)}),this.socket.on("data",K=>{this.ngZone.run(()=>{this.term.write(K)})})}}return(Y=O).\u0275fac=function(K){return new(K||Y)(f.\u0275\u0275directiveInject(d.Router),f.\u0275\u0275directiveInject(d.ActivatedRoute),f.\u0275\u0275directiveInject(Ci),f.\u0275\u0275directiveInject(f.NgZone))},Y.\u0275cmp=f.\u0275\u0275defineComponent({type:Y,selectors:[["app-terminal"]],viewQuery:function(K,Ae){if(1&K&&f.\u0275\u0275viewQuery(C.jA,5),2&K){let et;f.\u0275\u0275queryRefresh(et=f.\u0275\u0275loadQuery())&&(Ae.drawer=et.first)}},decls:22,vars:3,consts:[[1,"filter-container",3,"hasBackdrop"],["mode","over","position","end",1,"sidenav-25"],["drawer",""],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","2px",1,"main"],[1,"side_header"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-between"],[1,"side_heading"],["mat-icon-button","",3,"click"],[1,"side_main"],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","10px"],[1,"submit_btn"],["mat-raised-button","","color","success",4,"ngIf"],["class","loading","fxLayoutAlign","center",4,"ngIf"],["fxLayout","column","fxLayout.xs","column","fxLayoutGap","10px",1,"main"],["fxLayout","row","fxLayoutGap","10px","fxLayout.xs","column"],["fxFlex","120%"],["id","terminal_1"],["mat-raised-button","","color","success"],["fxLayoutAlign","center",1,"loading"],[3,"diameter"]],template:function(K,Ae){if(1&K){const et=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4"),f.\u0275\u0275text(8,"Add Instances"),f.\u0275\u0275elementEnd()(),f.\u0275\u0275elementStart(9,"button",7),f.\u0275\u0275listener("click",function(){f.\u0275\u0275restoreView(et);const Pt=f.\u0275\u0275reference(2);return f.\u0275\u0275resetView(Pt.toggle())}),f.\u0275\u0275elementStart(10,"mat-icon"),f.\u0275\u0275text(11,"close"),f.\u0275\u0275elementEnd()()()(),f.\u0275\u0275elementStart(12,"div",8),f.\u0275\u0275element(13,"div",9),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementStart(14,"div",10),f.\u0275\u0275template(15,Ui,2,0,"button",11),f.\u0275\u0275template(16,Ii,2,1,"div",12),f.\u0275\u0275elementEnd()()(),f.\u0275\u0275elementStart(17,"mat-drawer-content")(18,"div",13)(19,"div",14)(20,"div",15),f.\u0275\u0275element(21,"div",16),f.\u0275\u0275elementEnd()()()()()}2&K&&(f.\u0275\u0275property("hasBackdrop",!1),f.\u0275\u0275advance(15),f.\u0275\u0275property("ngIf",!Ae.loader),f.\u0275\u0275advance(1),f.\u0275\u0275property("ngIf",Ae.loader))},dependencies:[E.NgIf,ki.lW,ki.RK,Li.Hw,en.Ou,C.jA,C.kh,C.LW,Si.xw,Si.SQ,Si.Wh,Si.yH],styles:[".main[_ngcontent-%COMP%]{padding:20px}mat-card[_ngcontent-%COMP%]{border-radius:10px}.filter-container[_ngcontent-%COMP%]{min-height:calc(100vh - 45px);background-color:#000}.sidenav-25[_ngcontent-%COMP%]{width:26%}.content[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:10px}.delete_btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#d13212}.delete_btn[_ngcontent-%COMP%]:hover{background-color:#d13212}.delete_btn[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#f0f0f0}.ubuntu[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/ubuntu.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.centos[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/centos.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.pi[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/pi.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.debian[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/debian.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.freebsd[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/freebsd.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}.opensuse[_ngcontent-%COMP%]{background-image:url(https://salesfactory.in/downloads/img/opensuse.png);background-size:cover;width:60px;height:60px;position:relative;bottom:6px}  .mat-ink-bar{background-color:#047fb1!important}.menu-button[_ngcontent-%COMP%]{z-index:10;position:fixed;bottom:1.5rem;right:1.5rem}"]}),O})()}];let ln=(()=>{var Y;class O{}return(Y=O).\u0275fac=function(K){return new(K||Y)},Y.\u0275mod=f.\u0275\u0275defineNgModule({type:Y}),Y.\u0275inj=f.\u0275\u0275defineInjector({imports:[d.RouterModule.forChild(Ai),d.RouterModule]}),O})();var tn=T(6223),Sn=T(567),Xn=T(8960);const Dn={url:"http://localhost:1338/",options:{transports:["websocket"]}};let cn=(()=>{var Y;class O{}return(Y=O).\u0275fac=function(K){return new(K||Y)},Y.\u0275mod=f.\u0275\u0275defineNgModule({type:Y}),Y.\u0275inj=f.\u0275\u0275defineInjector({imports:[E.CommonModule,ln,tn.u5,d.RouterModule,Sn.HttpClientModule,Xn.q,Ji.forRoot(Dn)]}),O})()},335:(ot,Te,T)=>{T.r(Te);var l=T(6593),n=T(7413),E=T(7970);const d=[{path:"terminal",loadChildren:()=>Promise.resolve().then(T.bind(T,2513)).then(j=>j.TerminalModule)}];let h=(()=>{var j;class c{}return(j=c).\u0275fac=function(D){return new(D||j)},j.\u0275mod=E.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=E.\u0275\u0275defineInjector({imports:[n.RouterModule.forRoot(d),n.RouterModule]}),c})(),b=(()=>{var j;class c{constructor(){this.title="terminal"}}return(j=c).\u0275fac=function(D){return new(D||j)},j.\u0275cmp=E.\u0275\u0275defineComponent({type:j,selectors:[["app-root"]],decls:1,vars:0,template:function(D,V){1&D&&E.\u0275\u0275element(0,"router-outlet")},dependencies:[n.RouterOutlet]}),c})();var C=T(6825);function w(j){return new E.\u0275RuntimeError(3e3,!1)}function Ve(j){switch(j.length){case 0:return new C.ZN;case 1:return j[0];default:return new C.ZE(j)}}function He(j,c,_=new Map,D=new Map){const V=[],te=[];let fe=-1,Ce=null;if(c.forEach(Be=>{const Ye=Be.get("offset"),pt=Ye==fe,ht=pt&&Ce||new Map;Be.forEach((Tt,At)=>{let yt=At,Et=Tt;if("offset"!==At)switch(yt=j.normalizePropertyName(yt,V),Et){case C.k1:Et=_.get(At);break;case C.l3:Et=D.get(At);break;default:Et=j.normalizeStyleValue(At,yt,Et,V)}ht.set(yt,Et)}),pt||te.push(ht),Ce=ht,fe=Ye}),V.length)throw function we(j){return new E.\u0275RuntimeError(3502,!1)}();return te}function oe(j,c,_,D){switch(c){case"start":j.onStart(()=>D(_&&Pe(_,"start",j)));break;case"done":j.onDone(()=>D(_&&Pe(_,"done",j)));break;case"destroy":j.onDestroy(()=>D(_&&Pe(_,"destroy",j)))}}function Pe(j,c,_){const te=at(j.element,j.triggerName,j.fromState,j.toState,c||j.phaseName,_.totalTime??j.totalTime,!!_.disabled),fe=j._data;return null!=fe&&(te._data=fe),te}function at(j,c,_,D,V="",te=0,fe){return{element:j,triggerName:c,fromState:_,toState:D,phaseName:V,totalTime:te,disabled:!!fe}}function gt(j,c,_){let D=j.get(c);return D||j.set(c,D=_),D}function Mt(j){const c=j.indexOf(":");return[j.substring(1,c),j.slice(c+1)]}const jt=(()=>typeof document>"u"?null:document.documentElement)();function zt(j){const c=j.parentNode||j.host||null;return c===jt?null:c}let wt=null,Rt=!1;function ei(j,c){for(;c;){if(c===j)return!0;c=zt(c)}return!1}function st(j,c,_){if(_)return Array.from(j.querySelectorAll(c));const D=j.querySelector(c);return D?[D]:[]}let it=(()=>{var j;class c{validateStyleProperty(D){return function Gt(j){wt||(wt=function ni(){return typeof document<"u"?document.body:null}()||{},Rt=!!wt.style&&"WebkitAppearance"in wt.style);let c=!0;return wt.style&&!function $t(j){return"ebkit"==j.substring(1,6)}(j)&&(c=j in wt.style,!c&&Rt&&(c="Webkit"+j.charAt(0).toUpperCase()+j.slice(1)in wt.style)),c}(D)}matchesElement(D,V){return!1}containsElement(D,V){return ei(D,V)}getParentElement(D){return zt(D)}query(D,V,te){return st(D,V,te)}computeStyle(D,V,te){return te||""}animate(D,V,te,fe,Ce,Be=[],Ye){return new C.ZN(te,fe)}}return(j=c).\u0275fac=function(D){return new(D||j)},j.\u0275prov=E.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),c})(),Ee=(()=>{class c{}return c.NOOP=new it,c})();const qe=1e3,Ot="ng-enter",Fe="ng-leave",We="ng-trigger",X=".ng-trigger",ue="ng-animating",Ie=".ng-animating";function Le(j){if("number"==typeof j)return j;const c=j.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:ie(parseFloat(c[1]),c[2])}function ie(j,c){return"s"===c?j*qe:j}function ve(j,c,_){return j.hasOwnProperty("duration")?j:function tt(j,c,_){let V,te=0,fe="";if("string"==typeof j){const Ce=j.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ce)return c.push(w()),{duration:0,delay:0,easing:""};V=ie(parseFloat(Ce[1]),Ce[2]);const Be=Ce[3];null!=Be&&(te=ie(parseFloat(Be),Ce[4]));const Ye=Ce[5];Ye&&(fe=Ye)}else V=j;if(!_){let Ce=!1,Be=c.length;V<0&&(c.push(function k(){return new E.\u0275RuntimeError(3100,!1)}()),Ce=!0),te<0&&(c.push(function S(){return new E.\u0275RuntimeError(3101,!1)}()),Ce=!0),Ce&&c.splice(Be,0,w())}return{duration:V,delay:te,easing:fe}}(j,c,_)}function Oe(j,c={}){return Object.keys(j).forEach(_=>{c[_]=j[_]}),c}function Ne(j){const c=new Map;return Object.keys(j).forEach(_=>{c.set(_,j[_])}),c}function Ct(j,c=new Map,_){if(_)for(let[D,V]of _)c.set(D,V);for(let[D,V]of j)c.set(D,V);return c}function De(j,c,_){c.forEach((D,V)=>{const te=pe(V);_&&!_.has(V)&&_.set(V,j.style[te]),j.style[te]=D})}function q(j,c){c.forEach((_,D)=>{const V=pe(D);j.style[V]=""})}function $(j){return Array.isArray(j)?1==j.length?j[0]:(0,C.vP)(j):j}const Z=new RegExp("{{\\s*(.+?)\\s*}}","g");function be(j){let c=[];if("string"==typeof j){let _;for(;_=Z.exec(j);)c.push(_[1]);Z.lastIndex=0}return c}function le(j,c,_){const D=j.toString(),V=D.replace(Z,(te,fe)=>{let Ce=c[fe];return null==Ce&&(_.push(function o(j){return new E.\u0275RuntimeError(3003,!1)}()),Ce=""),Ce.toString()});return V==D?j:V}function ce(j){const c=[];let _=j.next();for(;!_.done;)c.push(_.value),_=j.next();return c}const Re=/-+([a-z0-9])/g;function pe(j){return j.replace(Re,(...c)=>c[1].toUpperCase())}function ft(j,c,_){switch(c.type){case 7:return j.visitTrigger(c,_);case 0:return j.visitState(c,_);case 1:return j.visitTransition(c,_);case 2:return j.visitSequence(c,_);case 3:return j.visitGroup(c,_);case 4:return j.visitAnimate(c,_);case 5:return j.visitKeyframes(c,_);case 6:return j.visitStyle(c,_);case 8:return j.visitReference(c,_);case 9:return j.visitAnimateChild(c,_);case 10:return j.visitAnimateRef(c,_);case 11:return j.visitQuery(c,_);case 12:return j.visitStagger(c,_);default:throw function p(j){return new E.\u0275RuntimeError(3004,!1)}()}}function Nt(j,c){return window.getComputedStyle(j)[c]}const ti="*";function Hi(j,c){const _=[];return"string"==typeof j?j.split(/\s*,\s*/).forEach(D=>function Zi(j,c,_){if(":"==j[0]){const Be=function Mi(j,c){switch(j){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(_,D)=>parseFloat(D)>parseFloat(_);case":decrement":return(_,D)=>parseFloat(D)<parseFloat(_);default:return c.push(function $e(j){return new E.\u0275RuntimeError(3016,!1)}()),"* => *"}}(j,_);if("function"==typeof Be)return void c.push(Be);j=Be}const D=j.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==D||D.length<4)return _.push(function Ze(j){return new E.\u0275RuntimeError(3015,!1)}()),c;const V=D[1],te=D[2],fe=D[3];c.push(di(V,fe));"<"==te[0]&&!(V==ti&&fe==ti)&&c.push(di(fe,V))}(D,_,c)):_.push(j),_}const mi=new Set(["true","1"]),gi=new Set(["false","0"]);function di(j,c){const _=mi.has(j)||gi.has(j),D=mi.has(c)||gi.has(c);return(V,te)=>{let fe=j==ti||j==V,Ce=c==ti||c==te;return!fe&&_&&"boolean"==typeof V&&(fe=V?mi.has(j):gi.has(j)),!Ce&&D&&"boolean"==typeof te&&(Ce=te?mi.has(c):gi.has(c)),fe&&Ce}}const on=new RegExp("s*:selfs*,?","g");function zi(j,c,_,D){return new ki(j).build(c,_,D)}class ki{constructor(c){this._driver=c}build(c,_,D){const V=new Si(_);return this._resetContextStyleTimingState(V),ft(this,$(c),V)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,_){let D=_.queryCount=0,V=_.depCount=0;const te=[],fe=[];return"@"==c.name.charAt(0)&&_.errors.push(function u(){return new E.\u0275RuntimeError(3006,!1)}()),c.definitions.forEach(Ce=>{if(this._resetContextStyleTimingState(_),0==Ce.type){const Be=Ce,Ye=Be.name;Ye.toString().split(/\s*,\s*/).forEach(pt=>{Be.name=pt,te.push(this.visitState(Be,_))}),Be.name=Ye}else if(1==Ce.type){const Be=this.visitTransition(Ce,_);D+=Be.queryCount,V+=Be.depCount,fe.push(Be)}else _.errors.push(function y(){return new E.\u0275RuntimeError(3007,!1)}())}),{type:7,name:c.name,states:te,transitions:fe,queryCount:D,depCount:V,options:null}}visitState(c,_){const D=this.visitStyle(c.styles,_),V=c.options&&c.options.params||null;if(D.containsDynamicStyles){const te=new Set,fe=V||{};D.styles.forEach(Ce=>{Ce instanceof Map&&Ce.forEach(Be=>{be(Be).forEach(Ye=>{fe.hasOwnProperty(Ye)||te.add(Ye)})})}),te.size&&(ce(te.values()),_.errors.push(function M(j,c){return new E.\u0275RuntimeError(3008,!1)}()))}return{type:0,name:c.name,style:D,options:V?{params:V}:null}}visitTransition(c,_){_.queryCount=0,_.depCount=0;const D=ft(this,$(c.animation),_);return{type:1,matchers:Hi(c.expr,_.errors),animation:D,queryCount:_.queryCount,depCount:_.depCount,options:vi(c.options)}}visitSequence(c,_){return{type:2,steps:c.steps.map(D=>ft(this,D,_)),options:vi(c.options)}}visitGroup(c,_){const D=_.currentTime;let V=0;const te=c.steps.map(fe=>{_.currentTime=D;const Ce=ft(this,fe,_);return V=Math.max(V,_.currentTime),Ce});return _.currentTime=V,{type:3,steps:te,options:vi(c.options)}}visitAnimate(c,_){const D=function Ii(j,c){if(j.hasOwnProperty("duration"))return j;if("number"==typeof j)return Ai(ve(j,c).duration,0,"");const _=j;if(_.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=Ai(0,0,"");return te.dynamic=!0,te.strValue=_,te}const V=ve(_,c);return Ai(V.duration,V.delay,V.easing)}(c.timings,_.errors);_.currentAnimateTimings=D;let V,te=c.styles?c.styles:(0,C.oB)({});if(5==te.type)V=this.visitKeyframes(te,_);else{let fe=c.styles,Ce=!1;if(!fe){Ce=!0;const Ye={};D.easing&&(Ye.easing=D.easing),fe=(0,C.oB)(Ye)}_.currentTime+=D.duration+D.delay;const Be=this.visitStyle(fe,_);Be.isEmptyStep=Ce,V=Be}return _.currentAnimateTimings=null,{type:4,timings:D,style:V,options:null}}visitStyle(c,_){const D=this._makeStyleAst(c,_);return this._validateStyleAst(D,_),D}_makeStyleAst(c,_){const D=[],V=Array.isArray(c.styles)?c.styles:[c.styles];for(let Ce of V)"string"==typeof Ce?Ce===C.l3?D.push(Ce):_.errors.push(new E.\u0275RuntimeError(3002,!1)):D.push(Ne(Ce));let te=!1,fe=null;return D.forEach(Ce=>{if(Ce instanceof Map&&(Ce.has("easing")&&(fe=Ce.get("easing"),Ce.delete("easing")),!te))for(let Be of Ce.values())if(Be.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:D,easing:fe,offset:c.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(c,_){const D=_.currentAnimateTimings;let V=_.currentTime,te=_.currentTime;D&&te>0&&(te-=D.duration+D.delay),c.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((Ce,Be)=>{const Ye=_.collectedStyles.get(_.currentQuerySelector),pt=Ye.get(Be);let ht=!0;pt&&(te!=V&&te>=pt.startTime&&V<=pt.endTime&&(_.errors.push(function v(j,c,_,D,V){return new E.\u0275RuntimeError(3010,!1)}()),ht=!1),te=pt.startTime),ht&&Ye.set(Be,{startTime:te,endTime:V}),_.options&&function W(j,c,_){const D=c.params||{},V=be(j);V.length&&V.forEach(te=>{D.hasOwnProperty(te)||_.push(function x(j){return new E.\u0275RuntimeError(3001,!1)}())})}(Ce,_.options,_.errors)})})}visitKeyframes(c,_){const D={type:5,styles:[],options:null};if(!_.currentAnimateTimings)return _.errors.push(function I(){return new E.\u0275RuntimeError(3011,!1)}()),D;let te=0;const fe=[];let Ce=!1,Be=!1,Ye=0;const pt=c.steps.map(Yt=>{const Qt=this._makeStyleAst(Yt,_);let ii=null!=Qt.offset?Qt.offset:function Ui(j){if("string"==typeof j)return null;let c=null;if(Array.isArray(j))j.forEach(_=>{if(_ instanceof Map&&_.has("offset")){const D=_;c=parseFloat(D.get("offset")),D.delete("offset")}});else if(j instanceof Map&&j.has("offset")){const _=j;c=parseFloat(_.get("offset")),_.delete("offset")}return c}(Qt.styles),Zt=0;return null!=ii&&(te++,Zt=Qt.offset=ii),Be=Be||Zt<0||Zt>1,Ce=Ce||Zt<Ye,Ye=Zt,fe.push(Zt),Qt});Be&&_.errors.push(function U(){return new E.\u0275RuntimeError(3012,!1)}()),Ce&&_.errors.push(function ae(){return new E.\u0275RuntimeError(3200,!1)}());const ht=c.steps.length;let Tt=0;te>0&&te<ht?_.errors.push(function ne(){return new E.\u0275RuntimeError(3202,!1)}()):0==te&&(Tt=1/(ht-1));const At=ht-1,yt=_.currentTime,Et=_.currentAnimateTimings,Wt=Et.duration;return pt.forEach((Yt,Qt)=>{const ii=Tt>0?Qt==At?1:Tt*Qt:fe[Qt],Zt=ii*Wt;_.currentTime=yt+Et.delay+Zt,Et.duration=Zt,this._validateStyleAst(Yt,_),Yt.offset=ii,D.styles.push(Yt)}),D}visitReference(c,_){return{type:8,animation:ft(this,$(c.animation),_),options:vi(c.options)}}visitAnimateChild(c,_){return _.depCount++,{type:9,options:vi(c.options)}}visitAnimateRef(c,_){return{type:10,animation:this.visitReference(c.animation,_),options:vi(c.options)}}visitQuery(c,_){const D=_.currentQuerySelector,V=c.options||{};_.queryCount++,_.currentQuery=c;const[te,fe]=function Li(j){const c=!!j.split(/\s*,\s*/).find(_=>":self"==_);return c&&(j=j.replace(on,"")),j=j.replace(/@\*/g,X).replace(/@\w+/g,_=>X+"-"+_.slice(1)).replace(/:animating/g,Ie),[j,c]}(c.selector);_.currentQuerySelector=D.length?D+" "+te:te,gt(_.collectedStyles,_.currentQuerySelector,new Map);const Ce=ft(this,$(c.animation),_);return _.currentQuery=null,_.currentQuerySelector=D,{type:11,selector:te,limit:V.limit||0,optional:!!V.optional,includeSelf:fe,animation:Ce,originalSelector:c.selector,options:vi(c.options)}}visitStagger(c,_){_.currentQuery||_.errors.push(function he(){return new E.\u0275RuntimeError(3013,!1)}());const D="full"===c.timings?{duration:0,delay:0,easing:"full"}:ve(c.timings,_.errors,!0);return{type:12,animation:ft(this,$(c.animation),_),timings:D,options:null}}}class Si{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vi(j){return j?(j=Oe(j)).params&&(j.params=function en(j){return j?Oe(j):null}(j.params)):j={},j}function Ai(j,c,_){return{duration:j,delay:c,easing:_}}function ln(j,c,_,D,V,te,fe=null,Ce=!1){return{type:1,element:j,keyframes:c,preStyleProps:_,postStyleProps:D,duration:V,delay:te,totalTime:V+te,easing:fe,subTimeline:Ce}}class tn{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,_){let D=this._map.get(c);D||this._map.set(c,D=[]),D.push(..._)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Dn=new RegExp(":enter","g"),Y=new RegExp(":leave","g");function O(j,c,_,D,V,te=new Map,fe=new Map,Ce,Be,Ye=[]){return(new N).buildKeyframes(j,c,_,D,V,te,fe,Ce,Be,Ye)}class N{buildKeyframes(c,_,D,V,te,fe,Ce,Be,Ye,pt=[]){Ye=Ye||new tn;const ht=new Ae(c,_,Ye,V,te,pt,[]);ht.options=Be;const Tt=Be.delay?Le(Be.delay):0;ht.currentTimeline.delayNextStep(Tt),ht.currentTimeline.setStyles([fe],null,ht.errors,Be),ft(this,D,ht);const At=ht.timelines.filter(yt=>yt.containsAnimation());if(At.length&&Ce.size){let yt;for(let Et=At.length-1;Et>=0;Et--){const Wt=At[Et];if(Wt.element===_){yt=Wt;break}}yt&&!yt.allowOnlyTimelineStyles()&&yt.setStyles([Ce],null,ht.errors,Be)}return At.length?At.map(yt=>yt.buildKeyframes()):[ln(_,[],[],[],0,Tt,"",!1)]}visitTrigger(c,_){}visitState(c,_){}visitTransition(c,_){}visitAnimateChild(c,_){const D=_.subInstructions.get(_.element);if(D){const V=_.createSubContext(c.options),te=_.currentTimeline.currentTime,fe=this._visitSubInstructions(D,V,V.options);te!=fe&&_.transformIntoNewTimeline(fe)}_.previousNode=c}visitAnimateRef(c,_){const D=_.createSubContext(c.options);D.transformIntoNewTimeline(),this._applyAnimationRefDelays([c.options,c.animation.options],_,D),this.visitReference(c.animation,D),_.transformIntoNewTimeline(D.currentTimeline.currentTime),_.previousNode=c}_applyAnimationRefDelays(c,_,D){for(const V of c){const te=V?.delay;if(te){const fe="number"==typeof te?te:Le(le(te,V?.params??{},_.errors));D.delayNextStep(fe)}}}_visitSubInstructions(c,_,D){let te=_.currentTimeline.currentTime;const fe=null!=D.duration?Le(D.duration):null,Ce=null!=D.delay?Le(D.delay):null;return 0!==fe&&c.forEach(Be=>{const Ye=_.appendInstructionToTimeline(Be,fe,Ce);te=Math.max(te,Ye.duration+Ye.delay)}),te}visitReference(c,_){_.updateOptions(c.options,!0),ft(this,c.animation,_),_.previousNode=c}visitSequence(c,_){const D=_.subContextCount;let V=_;const te=c.options;if(te&&(te.params||te.delay)&&(V=_.createSubContext(te),V.transformIntoNewTimeline(),null!=te.delay)){6==V.previousNode.type&&(V.currentTimeline.snapshotCurrentStyles(),V.previousNode=K);const fe=Le(te.delay);V.delayNextStep(fe)}c.steps.length&&(c.steps.forEach(fe=>ft(this,fe,V)),V.currentTimeline.applyStylesToKeyframe(),V.subContextCount>D&&V.transformIntoNewTimeline()),_.previousNode=c}visitGroup(c,_){const D=[];let V=_.currentTimeline.currentTime;const te=c.options&&c.options.delay?Le(c.options.delay):0;c.steps.forEach(fe=>{const Ce=_.createSubContext(c.options);te&&Ce.delayNextStep(te),ft(this,fe,Ce),V=Math.max(V,Ce.currentTimeline.currentTime),D.push(Ce.currentTimeline)}),D.forEach(fe=>_.currentTimeline.mergeTimelineCollectedStyles(fe)),_.transformIntoNewTimeline(V),_.previousNode=c}_visitTiming(c,_){if(c.dynamic){const D=c.strValue;return ve(_.params?le(D,_.params,_.errors):D,_.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,_){const D=_.currentAnimateTimings=this._visitTiming(c.timings,_),V=_.currentTimeline;D.delay&&(_.incrementTime(D.delay),V.snapshotCurrentStyles());const te=c.style;5==te.type?this.visitKeyframes(te,_):(_.incrementTime(D.duration),this.visitStyle(te,_),V.applyStylesToKeyframe()),_.currentAnimateTimings=null,_.previousNode=c}visitStyle(c,_){const D=_.currentTimeline,V=_.currentAnimateTimings;!V&&D.hasCurrentStyleProperties()&&D.forwardFrame();const te=V&&V.easing||c.easing;c.isEmptyStep?D.applyEmptyStep(te):D.setStyles(c.styles,te,_.errors,_.options),_.previousNode=c}visitKeyframes(c,_){const D=_.currentAnimateTimings,V=_.currentTimeline.duration,te=D.duration,Ce=_.createSubContext().currentTimeline;Ce.easing=D.easing,c.styles.forEach(Be=>{Ce.forwardTime((Be.offset||0)*te),Ce.setStyles(Be.styles,Be.easing,_.errors,_.options),Ce.applyStylesToKeyframe()}),_.currentTimeline.mergeTimelineCollectedStyles(Ce),_.transformIntoNewTimeline(V+te),_.previousNode=c}visitQuery(c,_){const D=_.currentTimeline.currentTime,V=c.options||{},te=V.delay?Le(V.delay):0;te&&(6===_.previousNode.type||0==D&&_.currentTimeline.hasCurrentStyleProperties())&&(_.currentTimeline.snapshotCurrentStyles(),_.previousNode=K);let fe=D;const Ce=_.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!V.optional,_.errors);_.currentQueryTotal=Ce.length;let Be=null;Ce.forEach((Ye,pt)=>{_.currentQueryIndex=pt;const ht=_.createSubContext(c.options,Ye);te&&ht.delayNextStep(te),Ye===_.element&&(Be=ht.currentTimeline),ft(this,c.animation,ht),ht.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,ht.currentTimeline.currentTime)}),_.currentQueryIndex=0,_.currentQueryTotal=0,_.transformIntoNewTimeline(fe),Be&&(_.currentTimeline.mergeTimelineCollectedStyles(Be),_.currentTimeline.snapshotCurrentStyles()),_.previousNode=c}visitStagger(c,_){const D=_.parentContext,V=_.currentTimeline,te=c.timings,fe=Math.abs(te.duration),Ce=fe*(_.currentQueryTotal-1);let Be=fe*_.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Be=Ce-Be;break;case"full":Be=D.currentStaggerTime}const pt=_.currentTimeline;Be&&pt.delayNextStep(Be);const ht=pt.currentTime;ft(this,c.animation,_),_.previousNode=c,D.currentStaggerTime=V.currentTime-ht+(V.startTime-D.currentTimeline.startTime)}}const K={};class Ae{constructor(c,_,D,V,te,fe,Ce,Be){this._driver=c,this.element=_,this.subInstructions=D,this._enterClassName=V,this._leaveClassName=te,this.errors=fe,this.timelines=Ce,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=K,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Be||new et(this._driver,_,0),Ce.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,_){if(!c)return;const D=c;let V=this.options;null!=D.duration&&(V.duration=Le(D.duration)),null!=D.delay&&(V.delay=Le(D.delay));const te=D.params;if(te){let fe=V.params;fe||(fe=this.options.params={}),Object.keys(te).forEach(Ce=>{(!_||!fe.hasOwnProperty(Ce))&&(fe[Ce]=le(te[Ce],fe,this.errors))})}}_copyOptions(){const c={};if(this.options){const _=this.options.params;if(_){const D=c.params={};Object.keys(_).forEach(V=>{D[V]=_[V]})}}return c}createSubContext(c=null,_,D){const V=_||this.element,te=new Ae(this._driver,V,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(V,D||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(c),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(c){return this.previousNode=K,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,_,D){const V={duration:_??c.duration,delay:this.currentTimeline.currentTime+(D??0)+c.delay,easing:""},te=new bt(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,V,c.stretchStartingKeyframe);return this.timelines.push(te),V}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,_,D,V,te,fe){let Ce=[];if(V&&Ce.push(this.element),c.length>0){c=(c=c.replace(Dn,"."+this._enterClassName)).replace(Y,"."+this._leaveClassName);let Ye=this._driver.query(this.element,c,1!=D);0!==D&&(Ye=D<0?Ye.slice(Ye.length+D,Ye.length):Ye.slice(0,D)),Ce.push(...Ye)}return!te&&0==Ce.length&&fe.push(function je(j){return new E.\u0275RuntimeError(3014,!1)}()),Ce}}class et{constructor(c,_,D,V){this._driver=c,this.element=_,this.startTime=D,this._elementTimelineStylesLookup=V,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(_),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(_,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const _=1===this._keyframes.size&&this._pendingStyles.size;this.duration||_?(this.forwardTime(this.currentTime+c),_&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,_){return this.applyStylesToKeyframe(),new et(this._driver,c,_||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,_){this._localTimelineStyles.set(c,_),this._globalTimelineStyles.set(c,_),this._styleSummary.set(c,{time:this.currentTime,value:_})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[_,D]of this._globalTimelineStyles)this._backFill.set(_,D||C.l3),this._currentKeyframe.set(_,C.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,_,D,V){_&&this._previousKeyframe.set("easing",_);const te=V&&V.params||{},fe=function Ft(j,c){const _=new Map;let D;return j.forEach(V=>{if("*"===V){D=D||c.keys();for(let te of D)_.set(te,C.l3)}else Ct(V,_)}),_}(c,this._globalTimelineStyles);for(let[Ce,Be]of fe){const Ye=le(Be,te,D);this._pendingStyles.set(Ce,Ye),this._localTimelineStyles.has(Ce)||this._backFill.set(Ce,this._globalTimelineStyles.get(Ce)??C.l3),this._updateStyle(Ce,Ye)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,_)=>{this._currentKeyframe.set(_,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,_)=>{this._currentKeyframe.has(_)||this._currentKeyframe.set(_,c)}))}snapshotCurrentStyles(){for(let[c,_]of this._localTimelineStyles)this._pendingStyles.set(c,_),this._updateStyle(c,_)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let _ in this._currentKeyframe)c.push(_);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((_,D)=>{const V=this._styleSummary.get(D);(!V||_.time>V.time)&&this._updateStyle(D,_.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,_=new Set,D=1===this._keyframes.size&&0===this.duration;let V=[];this._keyframes.forEach((Ce,Be)=>{const Ye=Ct(Ce,new Map,this._backFill);Ye.forEach((pt,ht)=>{pt===C.k1?c.add(ht):pt===C.l3&&_.add(ht)}),D||Ye.set("offset",Be/this.duration),V.push(Ye)});const te=c.size?ce(c.values()):[],fe=_.size?ce(_.values()):[];if(D){const Ce=V[0],Be=new Map(Ce);Ce.set("offset",0),Be.set("offset",1),V=[Ce,Be]}return ln(this.element,V,te,fe,this.duration,this.startTime,this.easing,!1)}}class bt extends et{constructor(c,_,D,V,te,fe,Ce=!1){super(c,_,fe.delay),this.keyframes=D,this.preStyleProps=V,this.postStyleProps=te,this._stretchStartingKeyframe=Ce,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:_,duration:D,easing:V}=this.timings;if(this._stretchStartingKeyframe&&_){const te=[],fe=D+_,Ce=_/fe,Be=Ct(c[0]);Be.set("offset",0),te.push(Be);const Ye=Ct(c[0]);Ye.set("offset",Pt(Ce)),te.push(Ye);const pt=c.length-1;for(let ht=1;ht<=pt;ht++){let Tt=Ct(c[ht]);const At=Tt.get("offset");Tt.set("offset",Pt((_+At*D)/fe)),te.push(Tt)}D=fe,_=0,V="",c=te}return ln(this.element,c,this.preStyleProps,this.postStyleProps,D,_,V,!0)}}function Pt(j,c=3){const _=Math.pow(10,c-1);return Math.round(j*_)/_}class qt{}const xi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Di extends qt{normalizePropertyName(c,_){return pe(c)}normalizeStyleValue(c,_,D,V){let te="";const fe=D.toString().trim();if(xi.has(_)&&0!==D&&"0"!==D)if("number"==typeof D)te="px";else{const Ce=D.match(/^[+-]?[\d\.]+([a-z]*)$/);Ce&&0==Ce[1].length&&V.push(function m(j,c){return new E.\u0275RuntimeError(3005,!1)}())}return fe+te}}function En(j,c,_,D,V,te,fe,Ce,Be,Ye,pt,ht,Tt){return{type:0,element:j,triggerName:c,isRemovalTransition:V,fromState:_,fromStyles:te,toState:D,toStyles:fe,timelines:Ce,queriedElements:Be,preStyleProps:Ye,postStyleProps:pt,totalTime:ht,errors:Tt}}const nn={};class Mn{constructor(c,_,D){this._triggerName=c,this.ast=_,this._stateStyles=D}match(c,_,D,V){return function qn(j,c,_,D,V){return j.some(te=>te(c,_,D,V))}(this.ast.matchers,c,_,D,V)}buildStyles(c,_,D){let V=this._stateStyles.get("*");return void 0!==c&&(V=this._stateStyles.get(c?.toString())||V),V?V.buildStyles(_,D):new Map}build(c,_,D,V,te,fe,Ce,Be,Ye,pt){const ht=[],Tt=this.ast.options&&this.ast.options.params||nn,yt=this.buildStyles(D,Ce&&Ce.params||nn,ht),Et=Be&&Be.params||nn,Wt=this.buildStyles(V,Et,ht),Yt=new Set,Qt=new Map,ii=new Map,Zt="void"===V,Ti={params:mn(Et,Tt),delay:this.ast.options?.delay},bi=pt?[]:O(c,_,this.ast.animation,te,fe,yt,Wt,Ti,Ye,ht);let si=0;if(bi.forEach(Oi=>{si=Math.max(Oi.duration+Oi.delay,si)}),ht.length)return En(_,this._triggerName,D,V,Zt,yt,Wt,[],[],Qt,ii,si,ht);bi.forEach(Oi=>{const Fi=Oi.element,Dr=gt(Qt,Fi,new Set);Oi.preStyleProps.forEach($i=>Dr.add($i));const wn=gt(ii,Fi,new Set);Oi.postStyleProps.forEach($i=>wn.add($i)),Fi!==_&&Yt.add(Fi)});const wi=ce(Yt.values());return En(_,this._triggerName,D,V,Zt,yt,Wt,bi,wi,Qt,ii,si)}}function mn(j,c){const _=Oe(c);for(const D in j)j.hasOwnProperty(D)&&null!=j[D]&&(_[D]=j[D]);return _}class Zn{constructor(c,_,D){this.styles=c,this.defaultParams=_,this.normalizer=D}buildStyles(c,_){const D=new Map,V=Oe(this.defaultParams);return Object.keys(c).forEach(te=>{const fe=c[te];null!==fe&&(V[te]=fe)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((fe,Ce)=>{fe&&(fe=le(fe,V,_));const Be=this.normalizer.normalizePropertyName(Ce,_);fe=this.normalizer.normalizeStyleValue(Ce,Be,fe,_),D.set(Ce,fe)})}),D}}class pn{constructor(c,_,D){this.name=c,this.ast=_,this._normalizer=D,this.transitionFactories=[],this.states=new Map,_.states.forEach(V=>{this.states.set(V.name,new Zn(V.style,V.options&&V.options.params||{},D))}),_n(this.states,"true","1"),_n(this.states,"false","0"),_.transitions.forEach(V=>{this.transitionFactories.push(new Mn(c,V,this.states))}),this.fallbackTransition=function Jn(j,c,_){return new Mn(j,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,Ce)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,_,D,V){return this.transitionFactories.find(fe=>fe.match(c,_,D,V))||null}matchStyles(c,_,D){return this.fallbackTransition.buildStyles(c,_,D)}}function _n(j,c,_){j.has(c)?j.has(_)||j.set(_,j.get(c)):j.has(_)&&j.set(c,j.get(_))}const _r=new tn;class er{constructor(c,_,D){this.bodyNode=c,this._driver=_,this._normalizer=D,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,_){const D=[],te=zi(this._driver,_,D,[]);if(D.length)throw function Xe(j){return new E.\u0275RuntimeError(3503,!1)}();this._animations.set(c,te)}_buildPlayer(c,_,D){const V=c.element,te=He(this._normalizer,c.keyframes,_,D);return this._driver.animate(V,te,c.duration,c.delay,c.easing,[],!0)}create(c,_,D={}){const V=[],te=this._animations.get(c);let fe;const Ce=new Map;if(te?(fe=O(this._driver,_,te,Ot,Fe,new Map,new Map,D,_r,V),fe.forEach(pt=>{const ht=gt(Ce,pt.element,new Map);pt.postStyleProps.forEach(Tt=>ht.set(Tt,null))})):(V.push(function rt(){return new E.\u0275RuntimeError(3300,!1)}()),fe=[]),V.length)throw function Me(j){return new E.\u0275RuntimeError(3504,!1)}();Ce.forEach((pt,ht)=>{pt.forEach((Tt,At)=>{pt.set(At,this._driver.computeStyle(ht,At,C.l3))})});const Ye=Ve(fe.map(pt=>{const ht=Ce.get(pt.element);return this._buildPlayer(pt,new Map,ht)}));return this._playersById.set(c,Ye),Ye.onDestroy(()=>this.destroy(c)),this.players.push(Ye),Ye}destroy(c){const _=this._getPlayer(c);_.destroy(),this._playersById.delete(c);const D=this.players.indexOf(_);D>=0&&this.players.splice(D,1)}_getPlayer(c){const _=this._playersById.get(c);if(!_)throw function _e(j){return new E.\u0275RuntimeError(3301,!1)}();return _}listen(c,_,D,V){const te=at(_,"","","");return oe(this._getPlayer(c),D,te,V),()=>{}}command(c,_,D,V){if("register"==D)return void this.register(c,V[0]);if("create"==D)return void this.create(c,_,V[0]||{});const te=this._getPlayer(c);switch(D){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(V[0]));break;case"destroy":this.destroy(c)}}}const tr="ng-animate-queued",An="ng-animate-disabled",gr=[],fn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ui="__ng_removed";class gn{get params(){return this.options.params}constructor(c,_=""){this.namespaceId=_;const D=c&&c.hasOwnProperty("value");if(this.value=function ar(j){return j??null}(D?c.value:c),D){const te=Oe(c);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}absorbOptions(c){const _=c.params;if(_){const D=this.options.params;Object.keys(_).forEach(V=>{null==D[V]&&(D[V]=_[V])})}}}const pi="void",Rn=new gn(pi);class vn{constructor(c,_,D){this.id=c,this.hostElement=_,this._engine=D,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,ai(_,this._hostClassName)}listen(c,_,D,V){if(!this._triggers.has(_))throw function ge(j,c){return new E.\u0275RuntimeError(3302,!1)}();if(null==D||0==D.length)throw function G(j){return new E.\u0275RuntimeError(3303,!1)}();if(!function Tn(j){return"start"==j||"done"==j}(D))throw function ee(j,c){return new E.\u0275RuntimeError(3400,!1)}();const te=gt(this._elementListeners,c,[]),fe={name:_,phase:D,callback:V};te.push(fe);const Ce=gt(this._engine.statesByElement,c,new Map);return Ce.has(_)||(ai(c,We),ai(c,We+"-"+_),Ce.set(_,Rn)),()=>{this._engine.afterFlush(()=>{const Be=te.indexOf(fe);Be>=0&&te.splice(Be,1),this._triggers.has(_)||Ce.delete(_)})}}register(c,_){return!this._triggers.has(c)&&(this._triggers.set(c,_),!0)}_getTrigger(c){const _=this._triggers.get(c);if(!_)throw function z(j){return new E.\u0275RuntimeError(3401,!1)}();return _}trigger(c,_,D,V=!0){const te=this._getTrigger(_),fe=new rn(this.id,_,c);let Ce=this._engine.statesByElement.get(c);Ce||(ai(c,We),ai(c,We+"-"+_),this._engine.statesByElement.set(c,Ce=new Map));let Be=Ce.get(_);const Ye=new gn(D,this.id);if(!(D&&D.hasOwnProperty("value"))&&Be&&Ye.absorbOptions(Be.options),Ce.set(_,Ye),Be||(Be=Rn),Ye.value!==pi&&Be.value===Ye.value){if(!function Fn(j,c){const _=Object.keys(j),D=Object.keys(c);if(_.length!=D.length)return!1;for(let V=0;V<_.length;V++){const te=_[V];if(!c.hasOwnProperty(te)||j[te]!==c[te])return!1}return!0}(Be.params,Ye.params)){const Et=[],Wt=te.matchStyles(Be.value,Be.params,Et),Yt=te.matchStyles(Ye.value,Ye.params,Et);Et.length?this._engine.reportError(Et):this._engine.afterFlush(()=>{q(c,Wt),De(c,Yt)})}return}const Tt=gt(this._engine.playersByElement,c,[]);Tt.forEach(Et=>{Et.namespaceId==this.id&&Et.triggerName==_&&Et.queued&&Et.destroy()});let At=te.matchTransition(Be.value,Ye.value,c,Ye.params),yt=!1;if(!At){if(!V)return;At=te.fallbackTransition,yt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:_,transition:At,fromState:Be,toState:Ye,player:fe,isFallbackTransition:yt}),yt||(ai(c,tr),fe.onStart(()=>{Bi(c,tr)})),fe.onDone(()=>{let Et=this.players.indexOf(fe);Et>=0&&this.players.splice(Et,1);const Wt=this._engine.playersByElement.get(c);if(Wt){let Yt=Wt.indexOf(fe);Yt>=0&&Wt.splice(Yt,1)}}),this.players.push(fe),Tt.push(fe),fe}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(_=>_.delete(c)),this._elementListeners.forEach((_,D)=>{this._elementListeners.set(D,_.filter(V=>V.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const _=this._engine.playersByElement.get(c);_&&(_.forEach(D=>D.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,_){const D=this._engine.driver.query(c,X,!0);D.forEach(V=>{if(V[ui])return;const te=this._engine.fetchNamespacesByElement(V);te.size?te.forEach(fe=>fe.triggerLeaveAnimation(V,_,!1,!0)):this.clearElementCache(V)}),this._engine.afterFlushAnimationsDone(()=>D.forEach(V=>this.clearElementCache(V)))}triggerLeaveAnimation(c,_,D,V){const te=this._engine.statesByElement.get(c),fe=new Map;if(te){const Ce=[];if(te.forEach((Be,Ye)=>{if(fe.set(Ye,Be.value),this._triggers.has(Ye)){const pt=this.trigger(c,Ye,pi,V);pt&&Ce.push(pt)}}),Ce.length)return this._engine.markElementAsRemoved(this.id,c,!0,_,fe),D&&Ve(Ce).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const _=this._elementListeners.get(c),D=this._engine.statesByElement.get(c);if(_&&D){const V=new Set;_.forEach(te=>{const fe=te.name;if(V.has(fe))return;V.add(fe);const Be=this._triggers.get(fe).fallbackTransition,Ye=D.get(fe)||Rn,pt=new gn(pi),ht=new rn(this.id,fe,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:fe,transition:Be,fromState:Ye,toState:pt,player:ht,isFallbackTransition:!0})})}}removeNode(c,_){const D=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,_),this.triggerLeaveAnimation(c,_,!0))return;let V=!1;if(D.totalAnimations){const te=D.players.length?D.playersByQueriedElement.get(c):[];if(te&&te.length)V=!0;else{let fe=c;for(;fe=fe.parentNode;)if(D.statesByElement.get(fe)){V=!0;break}}}if(this.prepareLeaveAnimationListeners(c),V)D.markElementAsRemoved(this.id,c,!1,_);else{const te=c[ui];(!te||te===fn)&&(D.afterFlush(()=>this.clearElementCache(c)),D.destroyInnerAnimations(c),D._onRemovalComplete(c,_))}}insertNode(c,_){ai(c,this._hostClassName)}drainQueuedTransitions(c){const _=[];return this._queue.forEach(D=>{const V=D.player;if(V.destroyed)return;const te=D.element,fe=this._elementListeners.get(te);fe&&fe.forEach(Ce=>{if(Ce.name==D.triggerName){const Be=at(te,D.triggerName,D.fromState.value,D.toState.value);Be._data=c,oe(D.player,Ce.phase,Be,Ce.callback)}}),V.markedForDestroy?this._engine.afterFlush(()=>{V.destroy()}):_.push(D)}),this._queue=[],_.sort((D,V)=>{const te=D.transition.ast.depCount,fe=V.transition.ast.depCount;return 0==te||0==fe?te-fe:this._engine.driver.containsElement(D.element,V.element)?1:-1})}destroy(c){this.players.forEach(_=>_.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}}class rr{_onRemovalComplete(c,_){this.onRemovalComplete(c,_)}constructor(c,_,D){this.bodyNode=c,this.driver=_,this._normalizer=D,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(V,te)=>{}}get queuedPlayers(){const c=[];return this._namespaceList.forEach(_=>{_.players.forEach(D=>{D.queued&&c.push(D)})}),c}createNamespace(c,_){const D=new vn(c,_,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,_)?this._balanceNamespaceList(D,_):(this.newHostElements.set(_,D),this.collectEnterElement(_)),this._namespaceLookup[c]=D}_balanceNamespaceList(c,_){const D=this._namespaceList,V=this.namespacesByHostElement;if(D.length-1>=0){let fe=!1,Ce=this.driver.getParentElement(_);for(;Ce;){const Be=V.get(Ce);if(Be){const Ye=D.indexOf(Be);D.splice(Ye+1,0,c),fe=!0;break}Ce=this.driver.getParentElement(Ce)}fe||D.unshift(c)}else D.push(c);return V.set(_,c),c}register(c,_){let D=this._namespaceLookup[c];return D||(D=this.createNamespace(c,_)),D}registerTrigger(c,_,D){let V=this._namespaceLookup[c];V&&V.register(_,D)&&this.totalAnimations++}destroy(c,_){c&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const D=this._fetchNamespace(c);this.namespacesByHostElement.delete(D.hostElement);const V=this._namespaceList.indexOf(D);V>=0&&this._namespaceList.splice(V,1),D.destroy(_),delete this._namespaceLookup[c]}))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const _=new Set,D=this.statesByElement.get(c);if(D)for(let V of D.values())if(V.namespaceId){const te=this._fetchNamespace(V.namespaceId);te&&_.add(te)}return _}trigger(c,_,D,V){if(Ri(_)){const te=this._fetchNamespace(c);if(te)return te.trigger(_,D,V),!0}return!1}insertNode(c,_,D,V){if(!Ri(_))return;const te=_[ui];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(_);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(c){const fe=this._fetchNamespace(c);fe&&fe.insertNode(_,D)}V&&this.collectEnterElement(_)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,_){_?this.disabledNodes.has(c)||(this.disabledNodes.add(c),ai(c,An)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Bi(c,An))}removeNode(c,_,D){if(Ri(_)){const V=c?this._fetchNamespace(c):null;V?V.removeNode(_,D):this.markElementAsRemoved(c,_,!1,D);const te=this.namespacesByHostElement.get(_);te&&te.id!==c&&te.removeNode(_,D)}else this._onRemovalComplete(_,D)}markElementAsRemoved(c,_,D,V,te){this.collectedLeaveElements.push(_),_[ui]={namespaceId:c,setForRemoval:V,hasAnimation:D,removedBeforeQueried:!1,previousTriggersValues:te}}listen(c,_,D,V,te){return Ri(_)?this._fetchNamespace(c).listen(_,D,V,te):()=>{}}_buildInstruction(c,_,D,V,te){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,D,V,c.fromState.options,c.toState.options,_,te)}destroyInnerAnimations(c){let _=this.driver.query(c,X,!0);_.forEach(D=>this.destroyActiveAnimationsForElement(D)),0!=this.playersByQueriedElement.size&&(_=this.driver.query(c,Ie,!0),_.forEach(D=>this.finishActiveQueriedAnimationOnElement(D)))}destroyActiveAnimationsForElement(c){const _=this.playersByElement.get(c);_&&_.forEach(D=>{D.queued?D.markedForDestroy=!0:D.destroy()})}finishActiveQueriedAnimationOnElement(c){const _=this.playersByQueriedElement.get(c);_&&_.forEach(D=>D.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Ve(this.players).onDone(()=>c());c()})}processLeaveNode(c){const _=c[ui];if(_&&_.setForRemoval){if(c[ui]=fn,_.namespaceId){this.destroyInnerAnimations(c);const D=this._fetchNamespace(_.namespaceId);D&&D.clearElementCache(c)}this._onRemovalComplete(c,_.setForRemoval)}c.classList?.contains(An)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(D=>{this.markElementAsDisabled(D,!1)})}flush(c=-1){let _=[];if(this.newHostElements.size&&(this.newHostElements.forEach((D,V)=>this._balanceNamespaceList(D,V)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let D=0;D<this.collectedEnterElements.length;D++)ai(this.collectedEnterElements[D],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const D=[];try{_=this._flushAnimations(D,c)}finally{for(let V=0;V<D.length;V++)D[V]()}}else for(let D=0;D<this.collectedLeaveElements.length;D++)this.processLeaveNode(this.collectedLeaveElements[D]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(D=>D()),this._flushFns=[],this._whenQuietFns.length){const D=this._whenQuietFns;this._whenQuietFns=[],_.length?Ve(_).onDone(()=>{D.forEach(V=>V())}):D.forEach(V=>V())}}reportError(c){throw function ye(j){return new E.\u0275RuntimeError(3402,!1)}()}_flushAnimations(c,_){const D=new tn,V=[],te=new Map,fe=[],Ce=new Map,Be=new Map,Ye=new Map,pt=new Set;this.disabledNodes.forEach(vt=>{pt.add(vt);const xt=this.driver.query(vt,".ng-animate-queued",!0);for(let St=0;St<xt.length;St++)pt.add(xt[St])});const ht=this.bodyNode,Tt=Array.from(this.statesByElement.keys()),At=lr(Tt,this.collectedEnterElements),yt=new Map;let Et=0;At.forEach((vt,xt)=>{const St=Ot+Et++;yt.set(xt,St),vt.forEach(Lt=>ai(Lt,St))});const Wt=[],Yt=new Set,Qt=new Set;for(let vt=0;vt<this.collectedLeaveElements.length;vt++){const xt=this.collectedLeaveElements[vt],St=xt[ui];St&&St.setForRemoval&&(Wt.push(xt),Yt.add(xt),St.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(Lt=>Yt.add(Lt)):Qt.add(xt))}const ii=new Map,Zt=lr(Tt,Array.from(Yt));Zt.forEach((vt,xt)=>{const St=Fe+Et++;ii.set(xt,St),vt.forEach(Lt=>ai(Lt,St))}),c.push(()=>{At.forEach((vt,xt)=>{const St=yt.get(xt);vt.forEach(Lt=>Bi(Lt,St))}),Zt.forEach((vt,xt)=>{const St=ii.get(xt);vt.forEach(Lt=>Bi(Lt,St))}),Wt.forEach(vt=>{this.processLeaveNode(vt)})});const Ti=[],bi=[];for(let vt=this._namespaceList.length-1;vt>=0;vt--)this._namespaceList[vt].drainQueuedTransitions(_).forEach(St=>{const Lt=St.player,Xt=St.element;if(Ti.push(Lt),this.collectedEnterElements.length){const oi=Xt[ui];if(oi&&oi.setForMove){if(oi.previousTriggersValues&&oi.previousTriggersValues.has(St.triggerName)){const Ki=oi.previousTriggersValues.get(St.triggerName),yi=this.statesByElement.get(St.element);if(yi&&yi.has(St.triggerName)){const Pi=yi.get(St.triggerName);Pi.value=Ki,yi.set(St.triggerName,Pi)}}return void Lt.destroy()}}const _i=!ht||!this.driver.containsElement(ht,Xt),fi=ii.get(Xt),Ni=yt.get(Xt),Ht=this._buildInstruction(St,D,Ni,fi,_i);if(Ht.errors&&Ht.errors.length)return void bi.push(Ht);if(_i)return Lt.onStart(()=>q(Xt,Ht.fromStyles)),Lt.onDestroy(()=>De(Xt,Ht.toStyles)),void V.push(Lt);if(St.isFallbackTransition)return Lt.onStart(()=>q(Xt,Ht.fromStyles)),Lt.onDestroy(()=>De(Xt,Ht.toStyles)),void V.push(Lt);const Mr=[];Ht.timelines.forEach(oi=>{oi.stretchStartingKeyframe=!0,this.disabledNodes.has(oi.element)||Mr.push(oi)}),Ht.timelines=Mr,D.append(Xt,Ht.timelines),fe.push({instruction:Ht,player:Lt,element:Xt}),Ht.queriedElements.forEach(oi=>gt(Ce,oi,[]).push(Lt)),Ht.preStyleProps.forEach((oi,Ki)=>{if(oi.size){let yi=Be.get(Ki);yi||Be.set(Ki,yi=new Set),oi.forEach((Pi,Ir)=>yi.add(Ir))}}),Ht.postStyleProps.forEach((oi,Ki)=>{let yi=Ye.get(Ki);yi||Ye.set(Ki,yi=new Set),oi.forEach((Pi,Ir)=>yi.add(Ir))})});if(bi.length){const vt=[];bi.forEach(xt=>{vt.push(function Se(j,c){return new E.\u0275RuntimeError(3505,!1)}())}),Ti.forEach(xt=>xt.destroy()),this.reportError(vt)}const si=new Map,wi=new Map;fe.forEach(vt=>{const xt=vt.element;D.has(xt)&&(wi.set(xt,xt),this._beforeAnimationBuild(vt.player.namespaceId,vt.instruction,si))}),V.forEach(vt=>{const xt=vt.element;this._getPreviousPlayers(xt,!1,vt.namespaceId,vt.triggerName,null).forEach(Lt=>{gt(si,xt,[]).push(Lt),Lt.destroy()})});const Oi=Wt.filter(vt=>Pn(vt,Be,Ye)),Fi=new Map;On(Fi,this.driver,Qt,Ye,C.l3).forEach(vt=>{Pn(vt,Be,Ye)&&Oi.push(vt)});const wn=new Map;At.forEach((vt,xt)=>{On(wn,this.driver,new Set(vt),Be,C.k1)}),Oi.forEach(vt=>{const xt=Fi.get(vt),St=wn.get(vt);Fi.set(vt,new Map([...xt?.entries()??[],...St?.entries()??[]]))});const $i=[],Er=[],Wn={};fe.forEach(vt=>{const{element:xt,player:St,instruction:Lt}=vt;if(D.has(xt)){if(pt.has(xt))return St.onDestroy(()=>De(xt,Lt.toStyles)),St.disabled=!0,St.overrideTotalTime(Lt.totalTime),void V.push(St);let Xt=Wn;if(wi.size>1){let fi=xt;const Ni=[];for(;fi=fi.parentNode;){const Ht=wi.get(fi);if(Ht){Xt=Ht;break}Ni.push(fi)}Ni.forEach(Ht=>wi.set(Ht,Xt))}const _i=this._buildAnimation(St.namespaceId,Lt,si,te,wn,Fi);if(St.setRealPlayer(_i),Xt===Wn)$i.push(St);else{const fi=this.playersByElement.get(Xt);fi&&fi.length&&(St.parentPlayer=Ve(fi)),V.push(St)}}else q(xt,Lt.fromStyles),St.onDestroy(()=>De(xt,Lt.toStyles)),Er.push(St),pt.has(xt)&&V.push(St)}),Er.forEach(vt=>{const xt=te.get(vt.element);if(xt&&xt.length){const St=Ve(xt);vt.setRealPlayer(St)}}),V.forEach(vt=>{vt.parentPlayer?vt.syncPlayerEvents(vt.parentPlayer):vt.destroy()});for(let vt=0;vt<Wt.length;vt++){const xt=Wt[vt],St=xt[ui];if(Bi(xt,Fe),St&&St.hasAnimation)continue;let Lt=[];if(Ce.size){let _i=Ce.get(xt);_i&&_i.length&&Lt.push(..._i);let fi=this.driver.query(xt,Ie,!0);for(let Ni=0;Ni<fi.length;Ni++){let Ht=Ce.get(fi[Ni]);Ht&&Ht.length&&Lt.push(...Ht)}}const Xt=Lt.filter(_i=>!_i.destroyed);Xt.length?Wi(this,xt,Xt):this.processLeaveNode(xt)}return Wt.length=0,$i.forEach(vt=>{this.players.push(vt),vt.onDone(()=>{vt.destroy();const xt=this.players.indexOf(vt);this.players.splice(xt,1)}),vt.play()}),$i}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,_,D,V,te){let fe=[];if(_){const Ce=this.playersByQueriedElement.get(c);Ce&&(fe=Ce)}else{const Ce=this.playersByElement.get(c);if(Ce){const Be=!te||te==pi;Ce.forEach(Ye=>{Ye.queued||!Be&&Ye.triggerName!=V||fe.push(Ye)})}}return(D||V)&&(fe=fe.filter(Ce=>!(D&&D!=Ce.namespaceId||V&&V!=Ce.triggerName))),fe}_beforeAnimationBuild(c,_,D){const te=_.element,fe=_.isRemovalTransition?void 0:c,Ce=_.isRemovalTransition?void 0:_.triggerName;for(const Be of _.timelines){const Ye=Be.element,pt=Ye!==te,ht=gt(D,Ye,[]);this._getPreviousPlayers(Ye,pt,fe,Ce,_.toState).forEach(At=>{const yt=At.getRealPlayer();yt.beforeDestroy&&yt.beforeDestroy(),At.destroy(),ht.push(At)})}q(te,_.fromStyles)}_buildAnimation(c,_,D,V,te,fe){const Ce=_.triggerName,Be=_.element,Ye=[],pt=new Set,ht=new Set,Tt=_.timelines.map(yt=>{const Et=yt.element;pt.add(Et);const Wt=Et[ui];if(Wt&&Wt.removedBeforeQueried)return new C.ZN(yt.duration,yt.delay);const Yt=Et!==Be,Qt=function br(j){const c=[];return sn(j,c),c}((D.get(Et)||gr).map(si=>si.getRealPlayer())).filter(si=>!!si.element&&si.element===Et),ii=te.get(Et),Zt=fe.get(Et),Ti=He(this._normalizer,yt.keyframes,ii,Zt),bi=this._buildPlayer(yt,Ti,Qt);if(yt.subTimeline&&V&&ht.add(Et),Yt){const si=new rn(c,Ce,Et);si.setRealPlayer(bi),Ye.push(si)}return bi});Ye.forEach(yt=>{gt(this.playersByQueriedElement,yt.element,[]).push(yt),yt.onDone(()=>function sr(j,c,_){let D=j.get(c);if(D){if(D.length){const V=D.indexOf(_);D.splice(V,1)}0==D.length&&j.delete(c)}return D}(this.playersByQueriedElement,yt.element,yt))}),pt.forEach(yt=>ai(yt,ue));const At=Ve(Tt);return At.onDestroy(()=>{pt.forEach(yt=>Bi(yt,ue)),De(Be,_.toStyles)}),ht.forEach(yt=>{gt(V,yt,[]).push(At)}),At}_buildPlayer(c,_,D){return _.length>0?this.driver.animate(c.element,_,c.duration,c.delay,c.easing,D):new C.ZN(c.duration,c.delay)}}class rn{constructor(c,_,D){this.namespaceId=c,this.triggerName=_,this.element=D,this._player=new C.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((_,D)=>{_.forEach(V=>oe(c,D,void 0,V))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const _=this._player;_.triggerCallback&&c.onStart(()=>_.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,_){gt(this._queuedCallbacks,c,[]).push(_)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const _=this._player;_.triggerCallback&&_.triggerCallback(c)}}function Ri(j){return j&&1===j.nodeType}function or(j,c){const _=j.style.display;return j.style.display=c??"none",_}function On(j,c,_,D,V){const te=[];_.forEach(Be=>te.push(or(Be)));const fe=[];D.forEach((Be,Ye)=>{const pt=new Map;Be.forEach(ht=>{const Tt=c.computeStyle(Ye,ht,V);pt.set(ht,Tt),(!Tt||0==Tt.length)&&(Ye[ui]=vr,fe.push(Ye))}),j.set(Ye,pt)});let Ce=0;return _.forEach(Be=>or(Be,te[Ce++])),fe}function lr(j,c){const _=new Map;if(j.forEach(Ce=>_.set(Ce,[])),0==c.length)return _;const V=new Set(c),te=new Map;function fe(Ce){if(!Ce)return 1;let Be=te.get(Ce);if(Be)return Be;const Ye=Ce.parentNode;return Be=_.has(Ye)?Ye:V.has(Ye)?1:fe(Ye),te.set(Ce,Be),Be}return c.forEach(Ce=>{const Be=fe(Ce);1!==Be&&_.get(Be).push(Ce)}),_}function ai(j,c){j.classList?.add(c)}function Bi(j,c){j.classList?.remove(c)}function Wi(j,c,_){Ve(_).onDone(()=>j.processLeaveNode(c))}function sn(j,c){for(let _=0;_<j.length;_++){const D=j[_];D instanceof C.ZE?sn(D.players,c):c.push(D)}}function Pn(j,c,_){const D=_.get(j);if(!D)return!1;let V=c.get(j);return V?D.forEach(te=>V.add(te)):c.set(j,D),_.delete(j),!0}class bn{constructor(c,_,D){this.bodyNode=c,this._driver=_,this._normalizer=D,this._triggerCache={},this.onRemovalComplete=(V,te)=>{},this._transitionEngine=new rr(c,_,D),this._timelineEngine=new er(c,_,D),this._transitionEngine.onRemovalComplete=(V,te)=>this.onRemovalComplete(V,te)}registerTrigger(c,_,D,V,te){const fe=c+"-"+V;let Ce=this._triggerCache[fe];if(!Ce){const Be=[],pt=zi(this._driver,te,Be,[]);if(Be.length)throw function xe(j,c){return new E.\u0275RuntimeError(3404,!1)}();Ce=function un(j,c,_){return new pn(j,c,_)}(V,pt,this._normalizer),this._triggerCache[fe]=Ce}this._transitionEngine.registerTrigger(_,V,Ce)}register(c,_){this._transitionEngine.register(c,_)}destroy(c,_){this._transitionEngine.destroy(c,_)}onInsert(c,_,D,V){this._transitionEngine.insertNode(c,_,D,V)}onRemove(c,_,D){this._transitionEngine.removeNode(c,_,D)}disableAnimations(c,_){this._transitionEngine.markElementAsDisabled(c,_)}process(c,_,D,V){if("@"==D.charAt(0)){const[te,fe]=Mt(D);this._timelineEngine.command(te,_,fe,V)}else this._transitionEngine.trigger(c,_,D,V)}listen(c,_,D,V,te){if("@"==D.charAt(0)){const[fe,Ce]=Mt(D);return this._timelineEngine.listen(fe,_,Ce,te)}return this._transitionEngine.listen(c,_,D,V,te)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(c){this._transitionEngine.afterFlushAnimationsDone(c)}}let dr=(()=>{class c{constructor(D,V,te){this._element=D,this._startStyles=V,this._endStyles=te,this._state=0;let fe=c.initialStylesByElement.get(D);fe||c.initialStylesByElement.set(D,fe=new Map),this._initialStyles=fe}start(){this._state<1&&(this._startStyles&&De(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(De(this._element,this._initialStyles),this._endStyles&&(De(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(c.initialStylesByElement.delete(this._element),this._startStyles&&(q(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(q(this._element,this._endStyles),this._endStyles=null),De(this._element,this._initialStyles),this._state=3)}}return c.initialStylesByElement=new WeakMap,c})();function Ln(j){let c=null;return j.forEach((_,D)=>{(function yr(j){return"display"===j||"position"===j})(D)&&(c=c||new Map,c.set(D,_))}),c}class Bn{constructor(c,_,D,V){this.element=c,this.keyframes=_,this.options=D,this._specialStyles=V,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=D.duration,this._delay=D.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const _=[];return c.forEach(D=>{_.push(Object.fromEntries(D))}),_}_triggerWebAnimation(c,_,D){return c.animate(this._convertKeyframesToObject(_),D)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((D,V)=>{"offset"!==V&&c.set(V,this._finished?D:Nt(this.element,V))}),this.currentSnapshot=c}triggerCallback(c){const _="start"===c?this._onStartFns:this._onDoneFns;_.forEach(D=>D()),_.length=0}}class Nn{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,_){return!1}containsElement(c,_){return ei(c,_)}getParentElement(c){return zt(c)}query(c,_,D){return st(c,_,D)}computeStyle(c,_,D){return window.getComputedStyle(c)[_]}animate(c,_,D,V,te,fe=[]){const Be={duration:D,delay:V,fill:0==V?"both":"forwards"};te&&(Be.easing=te);const Ye=new Map,pt=fe.filter(At=>At instanceof Bn);(function Je(j,c){return 0===j||0===c})(D,V)&&pt.forEach(At=>{At.currentSnapshot.forEach((yt,Et)=>Ye.set(Et,yt))});let ht=function Ue(j){return j.length?j[0]instanceof Map?j:j.map(c=>Ne(c)):[]}(_).map(At=>Ct(At));ht=function mt(j,c,_){if(_.size&&c.length){let D=c[0],V=[];if(_.forEach((te,fe)=>{D.has(fe)||V.push(fe),D.set(fe,te)}),V.length)for(let te=1;te<c.length;te++){let fe=c[te];V.forEach(Ce=>fe.set(Ce,Nt(j,Ce)))}}return c}(c,ht,Ye);const Tt=function cr(j,c){let _=null,D=null;return Array.isArray(c)&&c.length?(_=Ln(c[0]),c.length>1&&(D=Ln(c[c.length-1]))):c instanceof Map&&(_=Ln(c)),_||D?new dr(j,_,D):null}(c,ht);return new Bn(c,ht,Be,Tt)}}var yn=T(3595);let Gr=(()=>{var j;class c extends C._j{constructor(D,V){super(),this._nextAnimationId=0,this._renderer=D.createRenderer(V.body,{id:"0",encapsulation:E.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(D){const V=this._nextAnimationId.toString();this._nextAnimationId++;const te=Array.isArray(D)?(0,C.vP)(D):D;return jn(this._renderer,null,V,"register",[te]),new $r(V,this._renderer)}}return(j=c).\u0275fac=function(D){return new(D||j)(E.\u0275\u0275inject(E.RendererFactory2),E.\u0275\u0275inject(yn.DOCUMENT))},j.\u0275prov=E.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),c})();class $r extends C.LC{constructor(c,_){super(),this._id=c,this._renderer=_}create(c,_){return new xr(this._id,c,_||{},this._renderer)}}class xr{constructor(c,_,D,V){this.id=c,this.element=_,this._renderer=V,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",D)}_listen(c,_){return this._renderer.listen(this.element,`@@${this.id}:${c}`,_)}_command(c,..._){return jn(this._renderer,this.element,this.id,c,_)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jn(j,c,_,D,V){return j.setProperty(c,`@@${_}:${D}`,V)}const F="@",R="@.disabled";let J=(()=>{var j;class c{constructor(D,V,te){this.delegate=D,this.engine=V,this._zone=te,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,V.onRemovalComplete=(fe,Ce)=>{const Be=Ce?.parentNode(fe);Be&&Ce.removeChild(Be,fe)}}createRenderer(D,V){const fe=this.delegate.createRenderer(D,V);if(!(D&&V&&V.data&&V.data.animation)){let ht=this._rendererCache.get(fe);return ht||(ht=new L("",fe,this.engine,()=>this._rendererCache.delete(fe)),this._rendererCache.set(fe,ht)),ht}const Ce=V.id,Be=V.id+"-"+this._currentId;this._currentId++,this.engine.register(Be,D);const Ye=ht=>{Array.isArray(ht)?ht.forEach(Ye):this.engine.registerTrigger(Ce,Be,D,ht.name,ht)};return V.data.animation.forEach(Ye),new se(this,Be,fe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(D,V,te){D>=0&&D<this._microtaskId?this._zone.run(()=>V(te)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(fe=>{const[Ce,Be]=fe;Ce(Be)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([V,te]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(j=c).\u0275fac=function(D){return new(D||j)(E.\u0275\u0275inject(E.RendererFactory2),E.\u0275\u0275inject(bn),E.\u0275\u0275inject(E.NgZone))},j.\u0275prov=E.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),c})();class L{constructor(c,_,D,V){this.namespaceId=c,this.delegate=_,this.engine=D,this._onDestroy=V}get data(){return this.delegate.data}destroyNode(c){this.delegate.destroyNode?.(c)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(c,_){return this.delegate.createElement(c,_)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,_){this.delegate.appendChild(c,_),this.engine.onInsert(this.namespaceId,_,c,!1)}insertBefore(c,_,D,V=!0){this.delegate.insertBefore(c,_,D),this.engine.onInsert(this.namespaceId,_,c,V)}removeChild(c,_,D){this.engine.onRemove(this.namespaceId,_,this.delegate)}selectRootElement(c,_){return this.delegate.selectRootElement(c,_)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,_,D,V){this.delegate.setAttribute(c,_,D,V)}removeAttribute(c,_,D){this.delegate.removeAttribute(c,_,D)}addClass(c,_){this.delegate.addClass(c,_)}removeClass(c,_){this.delegate.removeClass(c,_)}setStyle(c,_,D,V){this.delegate.setStyle(c,_,D,V)}removeStyle(c,_,D){this.delegate.removeStyle(c,_,D)}setProperty(c,_,D){_.charAt(0)==F&&_==R?this.disableAnimations(c,!!D):this.delegate.setProperty(c,_,D)}setValue(c,_){this.delegate.setValue(c,_)}listen(c,_,D){return this.delegate.listen(c,_,D)}disableAnimations(c,_){this.engine.disableAnimations(c,_)}}class se extends L{constructor(c,_,D,V,te){super(_,D,V,te),this.factory=c,this.namespaceId=_}setProperty(c,_,D){_.charAt(0)==F?"."==_.charAt(1)&&_==R?this.disableAnimations(c,D=void 0===D||!!D):this.engine.process(this.namespaceId,c,_.slice(1),D):this.delegate.setProperty(c,_,D)}listen(c,_,D){if(_.charAt(0)==F){const V=function nt(j){switch(j){case"body":return document.body;case"document":return document;case"window":return window;default:return j}}(c);let te=_.slice(1),fe="";return te.charAt(0)!=F&&([te,fe]=function It(j){const c=j.indexOf(".");return[j.substring(0,c),j.slice(c+1)]}(te)),this.engine.listen(this.namespaceId,V,te,fe,Ce=>{this.factory.scheduleListenerCallback(Ce._data||-1,D,Ce)})}return this.delegate.listen(c,_,D)}}const Gi=[{provide:C._j,useClass:Gr},{provide:qt,useFactory:function hi(){return new Di}},{provide:bn,useClass:(()=>{var j;class c extends bn{constructor(D,V,te,fe){super(D.body,V,te)}ngOnDestroy(){this.flush()}}return(j=c).\u0275fac=function(D){return new(D||j)(E.\u0275\u0275inject(yn.DOCUMENT),E.\u0275\u0275inject(Ee),E.\u0275\u0275inject(qt),E.\u0275\u0275inject(E.ApplicationRef))},j.\u0275prov=E.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),c})()},{provide:E.RendererFactory2,useFactory:function xn(j,c,_){return new J(j,c,_)},deps:[l.se,bn,E.NgZone]}],Vn=[{provide:Ee,useFactory:()=>new Nn},{provide:E.ANIMATION_MODULE_TYPE,useValue:"BrowserAnimations"},...Gi],Hn=[{provide:Ee,useClass:it},{provide:E.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"},...Gi];let Es=(()=>{var j;class c{static withConfig(D){return{ngModule:c,providers:D.disableAnimations?Hn:Vn}}}return(j=c).\u0275fac=function(D){return new(D||j)},j.\u0275mod=E.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=E.\u0275\u0275defineInjector({providers:Vn,imports:[l.b2]}),c})();var Kr=T(6223),Un=T(567),wr=T(8960),Yr=T(8645);let Cr=(()=>{var j;class c{constructor(D){this.http=D,this.headers=new Un.HttpHeaders,this.baseUrl="http://localhost:1337/api/",this._refreshNeeded=new Yr.x}refreshNeeded(){return this._refreshNeeded}}return(j=c).\u0275fac=function(D){return new(D||j)(E.\u0275\u0275inject(Un.HttpClient))},j.\u0275prov=E.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac,providedIn:"root"}),c})();var kr=T(3680);let js=(()=>{var j;class c{}return(j=c).\u0275fac=function(D){return new(D||j)},j.\u0275mod=E.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=E.\u0275\u0275defineInjector({imports:[yn.CommonModule]}),c})();var Sr=T(2513);let Xr=(()=>{var j;class c{}return(j=c).\u0275fac=function(D){return new(D||j)},j.\u0275mod=E.\u0275\u0275defineNgModule({type:j,bootstrap:[b]}),j.\u0275inj=E.\u0275\u0275defineInjector({providers:[Cr],imports:[l.b2,h,Es,Sr.TerminalModule,Kr.u5,Un.HttpClientModule,wr.q,kr.XK,js]}),c})();l.q6().bootstrapModule(Xr).catch(j=>console.error(j))},5619:(ot,Te,T)=>{T.d(Te,{X:()=>n});var l=T(8645);class n extends l.x{constructor(d){super(),this._value=d}get value(){return this.getValue()}_subscribe(d){const h=super._subscribe(d);return!h.closed&&d.next(this._value),h}getValue(){const{hasError:d,thrownError:h,_value:b}=this;if(d)throw h;return this._throwIfClosed(),b}next(d){super.next(this._value=d)}}},5592:(ot,Te,T)=>{T.d(Te,{y:()=>f});var l=T(305),n=T(7394),E=T(4850),d=T(8407),h=T(2653),b=T(4674),C=T(1441);let f=(()=>{class x{constructor(p){p&&(this._subscribe=p)}lift(p){const m=new x;return m.source=this,m.operator=p,m}subscribe(p,m,u){const y=function S(x){return x&&x instanceof l.Lv||function k(x){return x&&(0,b.m)(x.next)&&(0,b.m)(x.error)&&(0,b.m)(x.complete)}(x)&&(0,n.Nn)(x)}(p)?p:new l.Hp(p,m,u);return(0,C.x)(()=>{const{operator:M,source:P}=this;y.add(M?M.call(y,P):P?this._subscribe(y):this._trySubscribe(y))}),y}_trySubscribe(p){try{return this._subscribe(p)}catch(m){p.error(m)}}forEach(p,m){return new(m=w(m))((u,y)=>{const M=new l.Hp({next:P=>{try{p(P)}catch(B){y(B),M.unsubscribe()}},error:y,complete:u});this.subscribe(M)})}_subscribe(p){var m;return null===(m=this.source)||void 0===m?void 0:m.subscribe(p)}[E.L](){return this}pipe(...p){return(0,d.U)(p)(this)}toPromise(p){return new(p=w(p))((m,u)=>{let y;this.subscribe(M=>y=M,M=>u(M),()=>m(y))})}}return x.create=o=>new x(o),x})();function w(x){var o;return null!==(o=x??h.config.Promise)&&void 0!==o?o:Promise}},8645:(ot,Te,T)=>{T.d(Te,{x:()=>C});var l=T(5592),n=T(7394);const d=(0,T(2306).d)(w=>function(){w(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var h=T(9039),b=T(1441);let C=(()=>{class w extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(S){const x=new f(this,this);return x.operator=S,x}_throwIfClosed(){if(this.closed)throw new d}next(S){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const x of this.currentObservers)x.next(S)}})}error(S){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=S;const{observers:x}=this;for(;x.length;)x.shift().error(S)}})}complete(){(0,b.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:S}=this;for(;S.length;)S.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var S;return(null===(S=this.observers)||void 0===S?void 0:S.length)>0}_trySubscribe(S){return this._throwIfClosed(),super._trySubscribe(S)}_subscribe(S){return this._throwIfClosed(),this._checkFinalizedStatuses(S),this._innerSubscribe(S)}_innerSubscribe(S){const{hasError:x,isStopped:o,observers:p}=this;return x||o?n.Lc:(this.currentObservers=null,p.push(S),new n.w0(()=>{this.currentObservers=null,(0,h.P)(p,S)}))}_checkFinalizedStatuses(S){const{hasError:x,thrownError:o,isStopped:p}=this;x?S.error(o):p&&S.complete()}asObservable(){const S=new l.y;return S.source=this,S}}return w.create=(k,S)=>new f(k,S),w})();class f extends C{constructor(k,S){super(),this.destination=k,this.source=S}next(k){var S,x;null===(x=null===(S=this.destination)||void 0===S?void 0:S.next)||void 0===x||x.call(S,k)}error(k){var S,x;null===(x=null===(S=this.destination)||void 0===S?void 0:S.error)||void 0===x||x.call(S,k)}complete(){var k,S;null===(S=null===(k=this.destination)||void 0===k?void 0:k.complete)||void 0===S||S.call(k)}_subscribe(k){var S,x;return null!==(x=null===(S=this.source)||void 0===S?void 0:S.subscribe(k))&&void 0!==x?x:n.Lc}}},305:(ot,Te,T)=>{T.d(Te,{Hp:()=>u,Lv:()=>x});var l=T(4674),n=T(7394),E=T(2653),d=T(3894),h=T(2420);const b=w("C",void 0,void 0);function w(v,I,U){return{kind:v,value:I,error:U}}var k=T(7599),S=T(1441);class x extends n.w0{constructor(I){super(),this.isStopped=!1,I?(this.destination=I,(0,n.Nn)(I)&&I.add(this)):this.destination=B}static create(I,U,ae){return new u(I,U,ae)}next(I){this.isStopped?P(function f(v){return w("N",v,void 0)}(I),this):this._next(I)}error(I){this.isStopped?P(function C(v){return w("E",void 0,v)}(I),this):(this.isStopped=!0,this._error(I))}complete(){this.isStopped?P(b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(I){this.destination.next(I)}_error(I){try{this.destination.error(I)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const o=Function.prototype.bind;function p(v,I){return o.call(v,I)}class m{constructor(I){this.partialObserver=I}next(I){const{partialObserver:U}=this;if(U.next)try{U.next(I)}catch(ae){y(ae)}}error(I){const{partialObserver:U}=this;if(U.error)try{U.error(I)}catch(ae){y(ae)}else y(I)}complete(){const{partialObserver:I}=this;if(I.complete)try{I.complete()}catch(U){y(U)}}}class u extends x{constructor(I,U,ae){let ne;if(super(),(0,l.m)(I)||!I)ne={next:I??void 0,error:U??void 0,complete:ae??void 0};else{let he;this&&E.config.useDeprecatedNextContext?(he=Object.create(I),he.unsubscribe=()=>this.unsubscribe(),ne={next:I.next&&p(I.next,he),error:I.error&&p(I.error,he),complete:I.complete&&p(I.complete,he)}):ne=I}this.destination=new m(ne)}}function y(v){E.config.useDeprecatedSynchronousErrorHandling?(0,S.O)(v):(0,d.h)(v)}function P(v,I){const{onStoppedNotification:U}=E.config;U&&k.z.setTimeout(()=>U(v,I))}const B={closed:!0,next:h.Z,error:function M(v){throw v},complete:h.Z}},7394:(ot,Te,T)=>{T.d(Te,{Lc:()=>b,w0:()=>h,Nn:()=>C});var l=T(4674);const E=(0,T(2306).d)(w=>function(S){w(this),this.message=S?`${S.length} errors occurred during unsubscription:\n${S.map((x,o)=>`${o+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=S});var d=T(9039);class h{constructor(k){this.initialTeardown=k,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let k;if(!this.closed){this.closed=!0;const{_parentage:S}=this;if(S)if(this._parentage=null,Array.isArray(S))for(const p of S)p.remove(this);else S.remove(this);const{initialTeardown:x}=this;if((0,l.m)(x))try{x()}catch(p){k=p instanceof E?p.errors:[p]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const p of o)try{f(p)}catch(m){k=k??[],m instanceof E?k=[...k,...m.errors]:k.push(m)}}if(k)throw new E(k)}}add(k){var S;if(k&&k!==this)if(this.closed)f(k);else{if(k instanceof h){if(k.closed||k._hasParent(this))return;k._addParent(this)}(this._finalizers=null!==(S=this._finalizers)&&void 0!==S?S:[]).push(k)}}_hasParent(k){const{_parentage:S}=this;return S===k||Array.isArray(S)&&S.includes(k)}_addParent(k){const{_parentage:S}=this;this._parentage=Array.isArray(S)?(S.push(k),S):S?[S,k]:k}_removeParent(k){const{_parentage:S}=this;S===k?this._parentage=null:Array.isArray(S)&&(0,d.P)(S,k)}remove(k){const{_finalizers:S}=this;S&&(0,d.P)(S,k),k instanceof h&&k._removeParent(this)}}h.EMPTY=(()=>{const w=new h;return w.closed=!0,w})();const b=h.EMPTY;function C(w){return w instanceof h||w&&"closed"in w&&(0,l.m)(w.remove)&&(0,l.m)(w.add)&&(0,l.m)(w.unsubscribe)}function f(w){(0,l.m)(w)?w():w.unsubscribe()}},2653:(ot,Te,T)=>{T.d(Te,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(ot,Te,T)=>{T.d(Te,{c:()=>b});var l=T(5592),n=T(7394),E=T(6196),d=T(8251),h=T(9360);class b extends l.y{constructor(f,w){super(),this.source=f,this.subjectFactory=w,this._subject=null,this._refCount=0,this._connection=null,(0,h.A)(f)&&(this.lift=f.lift)}_subscribe(f){return this.getSubject().subscribe(f)}getSubject(){const f=this._subject;return(!f||f.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:f}=this;this._subject=this._connection=null,f?.unsubscribe()}connect(){let f=this._connection;if(!f){f=this._connection=new n.w0;const w=this.getSubject();f.add(this.source.subscribe((0,d.x)(w,void 0,()=>{this._teardown(),w.complete()},k=>{this._teardown(),w.error(k)},()=>this._teardown()))),f.closed&&(this._connection=null,f=n.w0.EMPTY)}return f}refCount(){return(0,E.x)()(this)}}},2572:(ot,Te,T)=>{T.d(Te,{a:()=>k});var l=T(5592),n=T(7453),E=T(7715),d=T(2737),h=T(7400),b=T(9940),C=T(2714),f=T(8251),w=T(7103);function k(...o){const p=(0,b.yG)(o),m=(0,b.jO)(o),{args:u,keys:y}=(0,n.D)(o);if(0===u.length)return(0,E.D)([],p);const M=new l.y(function S(o,p,m=d.y){return u=>{x(p,()=>{const{length:y}=o,M=new Array(y);let P=y,B=y;for(let v=0;v<y;v++)x(p,()=>{const I=(0,E.D)(o[v],p);let U=!1;I.subscribe((0,f.x)(u,ae=>{M[v]=ae,U||(U=!0,B--),B||u.next(m(M.slice()))},()=>{--P||u.complete()}))},u)},u)}}(u,p,y?P=>(0,C.n)(y,P):d.y));return m?M.pipe((0,h.Z)(m)):M}function x(o,p,m){o?(0,w.f)(m,o,p):p()}},5211:(ot,Te,T)=>{T.d(Te,{z:()=>h});var l=T(7537),E=T(9940),d=T(7715);function h(...b){return function n(){return(0,l.J)(1)}()((0,d.D)(b,(0,E.yG)(b)))}},4911:(ot,Te,T)=>{T.d(Te,{P:()=>E});var l=T(5592),n=T(4829);function E(d){return new l.y(h=>{(0,n.Xf)(d()).subscribe(h)})}},6232:(ot,Te,T)=>{T.d(Te,{E:()=>n});const n=new(T(5592).y)(h=>h.complete())},9315:(ot,Te,T)=>{T.d(Te,{D:()=>f});var l=T(5592),n=T(7453),E=T(4829),d=T(9940),h=T(8251),b=T(7400),C=T(2714);function f(...w){const k=(0,d.jO)(w),{args:S,keys:x}=(0,n.D)(w),o=new l.y(p=>{const{length:m}=S;if(!m)return void p.complete();const u=new Array(m);let y=m,M=m;for(let P=0;P<m;P++){let B=!1;(0,E.Xf)(S[P]).subscribe((0,h.x)(p,v=>{B||(B=!0,M--),u[P]=v},()=>y--,void 0,()=>{(!y||!B)&&(M||p.next(x?(0,C.n)(x,u):u),p.complete())}))}});return k?o.pipe((0,b.Z)(k)):o}},7715:(ot,Te,T)=>{T.d(Te,{D:()=>ae});var l=T(4829),n=T(7103),E=T(9360),d=T(8251);function h(ne,he=0){return(0,E.e)((je,Ze)=>{je.subscribe((0,d.x)(Ze,$e=>(0,n.f)(Ze,ne,()=>Ze.next($e),he),()=>(0,n.f)(Ze,ne,()=>Ze.complete(),he),$e=>(0,n.f)(Ze,ne,()=>Ze.error($e),he)))})}function b(ne,he=0){return(0,E.e)((je,Ze)=>{Ze.add(ne.schedule(()=>je.subscribe(Ze),he))})}var w=T(5592),S=T(4971),x=T(4674);function p(ne,he){if(!ne)throw new Error("Iterable cannot be null");return new w.y(je=>{(0,n.f)(je,he,()=>{const Ze=ne[Symbol.asyncIterator]();(0,n.f)(je,he,()=>{Ze.next().then($e=>{$e.done?je.complete():je.next($e.value)})},0,!0)})})}var m=T(8382),u=T(4026),y=T(4266),M=T(3664),P=T(5726),B=T(9853),v=T(541);function ae(ne,he){return he?function U(ne,he){if(null!=ne){if((0,m.c)(ne))return function C(ne,he){return(0,l.Xf)(ne).pipe(b(he),h(he))}(ne,he);if((0,y.z)(ne))return function k(ne,he){return new w.y(je=>{let Ze=0;return he.schedule(function(){Ze===ne.length?je.complete():(je.next(ne[Ze++]),je.closed||this.schedule())})})}(ne,he);if((0,u.t)(ne))return function f(ne,he){return(0,l.Xf)(ne).pipe(b(he),h(he))}(ne,he);if((0,P.D)(ne))return p(ne,he);if((0,M.T)(ne))return function o(ne,he){return new w.y(je=>{let Ze;return(0,n.f)(je,he,()=>{Ze=ne[S.h](),(0,n.f)(je,he,()=>{let $e,Q;try{({value:$e,done:Q}=Ze.next())}catch(de){return void je.error(de)}Q?je.complete():je.next($e)},0,!0)}),()=>(0,x.m)(Ze?.return)&&Ze.return()})}(ne,he);if((0,v.L)(ne))return function I(ne,he){return p((0,v.Q)(ne),he)}(ne,he)}throw(0,B.z)(ne)}(ne,he):(0,l.Xf)(ne)}},2438:(ot,Te,T)=>{T.d(Te,{R:()=>k});var l=T(4829),n=T(5592),E=T(1631),d=T(4266),h=T(4674),b=T(7400);const C=["addListener","removeListener"],f=["addEventListener","removeEventListener"],w=["on","off"];function k(m,u,y,M){if((0,h.m)(y)&&(M=y,y=void 0),M)return k(m,u,y).pipe((0,b.Z)(M));const[P,B]=function p(m){return(0,h.m)(m.addEventListener)&&(0,h.m)(m.removeEventListener)}(m)?f.map(v=>I=>m[v](u,I,y)):function x(m){return(0,h.m)(m.addListener)&&(0,h.m)(m.removeListener)}(m)?C.map(S(m,u)):function o(m){return(0,h.m)(m.on)&&(0,h.m)(m.off)}(m)?w.map(S(m,u)):[];if(!P&&(0,d.z)(m))return(0,E.z)(v=>k(v,u,y))((0,l.Xf)(m));if(!P)throw new TypeError("Invalid event target");return new n.y(v=>{const I=(...U)=>v.next(1<U.length?U:U[0]);return P(I),()=>B(I)})}function S(m,u){return y=>M=>m[y](u,M)}},4829:(ot,Te,T)=>{T.d(Te,{Xf:()=>o});var l=T(7582),n=T(4266),E=T(4026),d=T(5592),h=T(8382),b=T(5726),C=T(9853),f=T(3664),w=T(541),k=T(4674),S=T(3894),x=T(4850);function o(v){if(v instanceof d.y)return v;if(null!=v){if((0,h.c)(v))return function p(v){return new d.y(I=>{const U=v[x.L]();if((0,k.m)(U.subscribe))return U.subscribe(I);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(v);if((0,n.z)(v))return function m(v){return new d.y(I=>{for(let U=0;U<v.length&&!I.closed;U++)I.next(v[U]);I.complete()})}(v);if((0,E.t)(v))return function u(v){return new d.y(I=>{v.then(U=>{I.closed||(I.next(U),I.complete())},U=>I.error(U)).then(null,S.h)})}(v);if((0,b.D)(v))return M(v);if((0,f.T)(v))return function y(v){return new d.y(I=>{for(const U of v)if(I.next(U),I.closed)return;I.complete()})}(v);if((0,w.L)(v))return function P(v){return M((0,w.Q)(v))}(v)}throw(0,C.z)(v)}function M(v){return new d.y(I=>{(function B(v,I){var U,ae,ne,he;return(0,l.mG)(this,void 0,void 0,function*(){try{for(U=(0,l.KL)(v);!(ae=yield U.next()).done;)if(I.next(ae.value),I.closed)return}catch(je){ne={error:je}}finally{try{ae&&!ae.done&&(he=U.return)&&(yield he.call(U))}finally{if(ne)throw ne.error}}I.complete()})})(v,I).catch(U=>I.error(U))})}},3019:(ot,Te,T)=>{T.d(Te,{T:()=>b});var l=T(7537),n=T(4829),E=T(6232),d=T(9940),h=T(7715);function b(...C){const f=(0,d.yG)(C),w=(0,d._6)(C,1/0),k=C;return k.length?1===k.length?(0,n.Xf)(k[0]):(0,l.J)(w)((0,h.D)(k,f)):E.E}},2096:(ot,Te,T)=>{T.d(Te,{of:()=>E});var l=T(9940),n=T(7715);function E(...d){const h=(0,l.yG)(d);return(0,n.D)(d,h)}},8504:(ot,Te,T)=>{T.d(Te,{_:()=>E});var l=T(5592),n=T(4674);function E(d,h){const b=(0,n.m)(d)?d:()=>d,C=f=>f.error(b());return new l.y(h?f=>h.schedule(C,0,f):C)}},4825:(ot,Te,T)=>{T.d(Te,{H:()=>h});var l=T(5592),n=T(6321),E=T(671);function h(b=0,C,f=n.P){let w=-1;return null!=C&&((0,E.K)(C)?f=C:w=C),new l.y(k=>{let S=function d(b){return b instanceof Date&&!isNaN(b)}(b)?+b-f.now():b;S<0&&(S=0);let x=0;return f.schedule(function(){k.closed||(k.next(x++),0<=w?this.schedule(void 0,w):k.complete())},S)})}},8251:(ot,Te,T)=>{T.d(Te,{x:()=>n});var l=T(305);function n(d,h,b,C,f){return new E(d,h,b,C,f)}class E extends l.Lv{constructor(h,b,C,f,w,k){super(h),this.onFinalize=w,this.shouldUnsubscribe=k,this._next=b?function(S){try{b(S)}catch(x){h.error(x)}}:super._next,this._error=f?function(S){try{f(S)}catch(x){h.error(x)}finally{this.unsubscribe()}}:super._error,this._complete=C?function(){try{C()}catch(S){h.error(S)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var h;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:b}=this;super.unsubscribe(),!b&&(null===(h=this.onFinalize)||void 0===h||h.call(this))}}}},6306:(ot,Te,T)=>{T.d(Te,{K:()=>d});var l=T(4829),n=T(8251),E=T(9360);function d(h){return(0,E.e)((b,C)=>{let k,f=null,w=!1;f=b.subscribe((0,n.x)(C,void 0,void 0,S=>{k=(0,l.Xf)(h(S,d(h)(b))),f?(f.unsubscribe(),f=null,k.subscribe(C)):w=!0})),w&&(f.unsubscribe(),f=null,k.subscribe(C))})}},3620:(ot,Te,T)=>{T.d(Te,{b:()=>d});var l=T(6321),n=T(9360),E=T(8251);function d(h,b=l.z){return(0,n.e)((C,f)=>{let w=null,k=null,S=null;const x=()=>{if(w){w.unsubscribe(),w=null;const p=k;k=null,f.next(p)}};function o(){const p=S+h,m=b.now();if(m<p)return w=this.schedule(void 0,p-m),void f.add(w);x()}C.subscribe((0,E.x)(f,p=>{k=p,S=b.now(),w||(w=b.schedule(o,h),f.add(w))},()=>{x(),f.complete()},void 0,()=>{k=w=null}))})}},3997:(ot,Te,T)=>{T.d(Te,{x:()=>d});var l=T(2737),n=T(9360),E=T(8251);function d(b,C=l.y){return b=b??h,(0,n.e)((f,w)=>{let k,S=!0;f.subscribe((0,E.x)(w,x=>{const o=C(x);(S||!b(k,o))&&(S=!1,k=o,w.next(x))}))})}function h(b,C){return b===C}},2181:(ot,Te,T)=>{T.d(Te,{h:()=>E});var l=T(9360),n=T(8251);function E(d,h){return(0,l.e)((b,C)=>{let f=0;b.subscribe((0,n.x)(C,w=>d.call(h,w,f++)&&C.next(w)))})}},4716:(ot,Te,T)=>{T.d(Te,{x:()=>n});var l=T(9360);function n(E){return(0,l.e)((d,h)=>{try{d.subscribe(h)}finally{h.add(E)}})}},7398:(ot,Te,T)=>{T.d(Te,{U:()=>E});var l=T(9360),n=T(8251);function E(d,h){return(0,l.e)((b,C)=>{let f=0;b.subscribe((0,n.x)(C,w=>{C.next(d.call(h,w,f++))}))})}},975:(ot,Te,T)=>{T.d(Te,{h:()=>n});var l=T(7398);function n(E){return(0,l.U)(()=>E)}},7537:(ot,Te,T)=>{T.d(Te,{J:()=>E});var l=T(1631),n=T(2737);function E(d=1/0){return(0,l.z)(n.y,d)}},1631:(ot,Te,T)=>{T.d(Te,{z:()=>f});var l=T(7398),n=T(4829),E=T(9360),d=T(7103),h=T(8251),C=T(4674);function f(w,k,S=1/0){return(0,C.m)(k)?f((x,o)=>(0,l.U)((p,m)=>k(x,p,o,m))((0,n.Xf)(w(x,o))),S):("number"==typeof k&&(S=k),(0,E.e)((x,o)=>function b(w,k,S,x,o,p,m,u){const y=[];let M=0,P=0,B=!1;const v=()=>{B&&!y.length&&!M&&k.complete()},I=ae=>M<x?U(ae):y.push(ae),U=ae=>{p&&k.next(ae),M++;let ne=!1;(0,n.Xf)(S(ae,P++)).subscribe((0,h.x)(k,he=>{o?.(he),p?I(he):k.next(he)},()=>{ne=!0},void 0,()=>{if(ne)try{for(M--;y.length&&M<x;){const he=y.shift();m?(0,d.f)(k,m,()=>U(he)):U(he)}v()}catch(he){k.error(he)}}))};return w.subscribe((0,h.x)(k,I,()=>{B=!0,v()})),()=>{u?.()}}(x,o,w,S)))}},6196:(ot,Te,T)=>{T.d(Te,{x:()=>E});var l=T(9360),n=T(8251);function E(){return(0,l.e)((d,h)=>{let b=null;d._refCount++;const C=(0,n.x)(h,void 0,void 0,void 0,()=>{if(!d||d._refCount<=0||0<--d._refCount)return void(b=null);const f=d._connection,w=b;b=null,f&&(!w||f===w)&&f.unsubscribe(),h.unsubscribe()});d.subscribe(C),C.closed||(b=d.connect())})}},3020:(ot,Te,T)=>{T.d(Te,{B:()=>h});var l=T(4829),n=T(8645),E=T(305),d=T(9360);function h(C={}){const{connector:f=(()=>new n.x),resetOnError:w=!0,resetOnComplete:k=!0,resetOnRefCountZero:S=!0}=C;return x=>{let o,p,m,u=0,y=!1,M=!1;const P=()=>{p?.unsubscribe(),p=void 0},B=()=>{P(),o=m=void 0,y=M=!1},v=()=>{const I=o;B(),I?.unsubscribe()};return(0,d.e)((I,U)=>{u++,!M&&!y&&P();const ae=m=m??f();U.add(()=>{u--,0===u&&!M&&!y&&(p=b(v,S))}),ae.subscribe(U),!o&&u>0&&(o=new E.Hp({next:ne=>ae.next(ne),error:ne=>{M=!0,P(),p=b(B,w,ne),ae.error(ne)},complete:()=>{y=!0,P(),p=b(B,k),ae.complete()}}),(0,l.Xf)(I).subscribe(o))})(x)}}function b(C,f,...w){if(!0===f)return void C();if(!1===f)return;const k=new E.Hp({next:()=>{k.unsubscribe(),C()}});return(0,l.Xf)(f(...w)).subscribe(k)}},7921:(ot,Te,T)=>{T.d(Te,{O:()=>d});var l=T(5211),n=T(9940),E=T(9360);function d(...h){const b=(0,n.yG)(h);return(0,E.e)((C,f)=>{(b?(0,l.z)(h,C,b):(0,l.z)(h,C)).subscribe(f)})}},4664:(ot,Te,T)=>{T.d(Te,{w:()=>d});var l=T(4829),n=T(9360),E=T(8251);function d(h,b){return(0,n.e)((C,f)=>{let w=null,k=0,S=!1;const x=()=>S&&!w&&f.complete();C.subscribe((0,E.x)(f,o=>{w?.unsubscribe();let p=0;const m=k++;(0,l.Xf)(h(o,m)).subscribe(w=(0,E.x)(f,u=>f.next(b?b(o,u,m,p++):u),()=>{w=null,x()}))},()=>{S=!0,x()}))})}},8180:(ot,Te,T)=>{T.d(Te,{q:()=>d});var l=T(6232),n=T(9360),E=T(8251);function d(h){return h<=0?()=>l.E:(0,n.e)((b,C)=>{let f=0;b.subscribe((0,E.x)(C,w=>{++f<=h&&(C.next(w),h<=f&&C.complete())}))})}},9773:(ot,Te,T)=>{T.d(Te,{R:()=>h});var l=T(9360),n=T(8251),E=T(4829),d=T(2420);function h(b){return(0,l.e)((C,f)=>{(0,E.Xf)(b).subscribe((0,n.x)(f,()=>f.complete(),d.Z)),!f.closed&&C.subscribe(f)})}},9397:(ot,Te,T)=>{T.d(Te,{b:()=>h});var l=T(4674),n=T(9360),E=T(8251),d=T(2737);function h(b,C,f){const w=(0,l.m)(b)||C||f?{next:b,error:C,complete:f}:b;return w?(0,n.e)((k,S)=>{var x;null===(x=w.subscribe)||void 0===x||x.call(w);let o=!0;k.subscribe((0,E.x)(S,p=>{var m;null===(m=w.next)||void 0===m||m.call(w,p),S.next(p)},()=>{var p;o=!1,null===(p=w.complete)||void 0===p||p.call(w),S.complete()},p=>{var m;o=!1,null===(m=w.error)||void 0===m||m.call(w,p),S.error(p)},()=>{var p,m;o&&(null===(p=w.unsubscribe)||void 0===p||p.call(w)),null===(m=w.finalize)||void 0===m||m.call(w)}))}):d.y}},1954:(ot,Te,T)=>{T.d(Te,{o:()=>h});var l=T(7394);class n extends l.w0{constructor(C,f){super()}schedule(C,f=0){return this}}const E={setInterval(b,C,...f){const{delegate:w}=E;return w?.setInterval?w.setInterval(b,C,...f):setInterval(b,C,...f)},clearInterval(b){const{delegate:C}=E;return(C?.clearInterval||clearInterval)(b)},delegate:void 0};var d=T(9039);class h extends n{constructor(C,f){super(C,f),this.scheduler=C,this.work=f,this.pending=!1}schedule(C,f=0){var w;if(this.closed)return this;this.state=C;const k=this.id,S=this.scheduler;return null!=k&&(this.id=this.recycleAsyncId(S,k,f)),this.pending=!0,this.delay=f,this.id=null!==(w=this.id)&&void 0!==w?w:this.requestAsyncId(S,this.id,f),this}requestAsyncId(C,f,w=0){return E.setInterval(C.flush.bind(C,this),w)}recycleAsyncId(C,f,w=0){if(null!=w&&this.delay===w&&!1===this.pending)return f;null!=f&&E.clearInterval(f)}execute(C,f){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const w=this._execute(C,f);if(w)return w;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(C,f){let k,w=!1;try{this.work(C)}catch(S){w=!0,k=S||new Error("Scheduled action threw falsy error")}if(w)return this.unsubscribe(),k}unsubscribe(){if(!this.closed){const{id:C,scheduler:f}=this,{actions:w}=f;this.work=this.state=this.scheduler=null,this.pending=!1,(0,d.P)(w,this),null!=C&&(this.id=this.recycleAsyncId(f,C,null)),this.delay=null,super.unsubscribe()}}}},9931:(ot,Te,T)=>{T.d(Te,{v:()=>E});const l={now:()=>(l.delegate||Date).now(),delegate:void 0};class n{constructor(h,b=n.now){this.schedulerActionCtor=h,this.now=b}schedule(h,b=0,C){return new this.schedulerActionCtor(this,h).schedule(C,b)}}n.now=l.now;class E extends n{constructor(h,b=n.now){super(h,b),this.actions=[],this._active=!1}flush(h){const{actions:b}=this;if(this._active)return void b.push(h);let C;this._active=!0;do{if(C=h.execute(h.state,h.delay))break}while(h=b.shift());if(this._active=!1,C){for(;h=b.shift();)h.unsubscribe();throw C}}}},6321:(ot,Te,T)=>{T.d(Te,{P:()=>d,z:()=>E});var l=T(1954);const E=new(T(9931).v)(l.o),d=E},7599:(ot,Te,T)=>{T.d(Te,{z:()=>l});const l={setTimeout(n,E,...d){const{delegate:h}=l;return h?.setTimeout?h.setTimeout(n,E,...d):setTimeout(n,E,...d)},clearTimeout(n){const{delegate:E}=l;return(E?.clearTimeout||clearTimeout)(n)},delegate:void 0}},4971:(ot,Te,T)=>{T.d(Te,{h:()=>n});const n=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ot,Te,T)=>{T.d(Te,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(ot,Te,T)=>{T.d(Te,{_6:()=>b,jO:()=>d,yG:()=>h});var l=T(4674),n=T(671);function E(C){return C[C.length-1]}function d(C){return(0,l.m)(E(C))?C.pop():void 0}function h(C){return(0,n.K)(E(C))?C.pop():void 0}function b(C,f){return"number"==typeof E(C)?C.pop():f}},7453:(ot,Te,T)=>{T.d(Te,{D:()=>h});const{isArray:l}=Array,{getPrototypeOf:n,prototype:E,keys:d}=Object;function h(C){if(1===C.length){const f=C[0];if(l(f))return{args:f,keys:null};if(function b(C){return C&&"object"==typeof C&&n(C)===E}(f)){const w=d(f);return{args:w.map(k=>f[k]),keys:w}}}return{args:C,keys:null}}},9039:(ot,Te,T)=>{function l(n,E){if(n){const d=n.indexOf(E);0<=d&&n.splice(d,1)}}T.d(Te,{P:()=>l})},2306:(ot,Te,T)=>{function l(n){const d=n(h=>{Error.call(h),h.stack=(new Error).stack});return d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d}T.d(Te,{d:()=>l})},2714:(ot,Te,T)=>{function l(n,E){return n.reduce((d,h,b)=>(d[h]=E[b],d),{})}T.d(Te,{n:()=>l})},1441:(ot,Te,T)=>{T.d(Te,{O:()=>d,x:()=>E});var l=T(2653);let n=null;function E(h){if(l.config.useDeprecatedSynchronousErrorHandling){const b=!n;if(b&&(n={errorThrown:!1,error:null}),h(),b){const{errorThrown:C,error:f}=n;if(n=null,C)throw f}}else h()}function d(h){l.config.useDeprecatedSynchronousErrorHandling&&n&&(n.errorThrown=!0,n.error=h)}},7103:(ot,Te,T)=>{function l(n,E,d,h=0,b=!1){const C=E.schedule(function(){d(),b?n.add(this.schedule(null,h)):this.unsubscribe()},h);if(n.add(C),!b)return C}T.d(Te,{f:()=>l})},2737:(ot,Te,T)=>{function l(n){return n}T.d(Te,{y:()=>l})},4266:(ot,Te,T)=>{T.d(Te,{z:()=>l});const l=n=>n&&"number"==typeof n.length&&"function"!=typeof n},5726:(ot,Te,T)=>{T.d(Te,{D:()=>n});var l=T(4674);function n(E){return Symbol.asyncIterator&&(0,l.m)(E?.[Symbol.asyncIterator])}},4674:(ot,Te,T)=>{function l(n){return"function"==typeof n}T.d(Te,{m:()=>l})},8382:(ot,Te,T)=>{T.d(Te,{c:()=>E});var l=T(4850),n=T(4674);function E(d){return(0,n.m)(d[l.L])}},3664:(ot,Te,T)=>{T.d(Te,{T:()=>E});var l=T(4971),n=T(4674);function E(d){return(0,n.m)(d?.[l.h])}},2664:(ot,Te,T)=>{T.d(Te,{b:()=>E});var l=T(5592),n=T(4674);function E(d){return!!d&&(d instanceof l.y||(0,n.m)(d.lift)&&(0,n.m)(d.subscribe))}},4026:(ot,Te,T)=>{T.d(Te,{t:()=>n});var l=T(4674);function n(E){return(0,l.m)(E?.then)}},541:(ot,Te,T)=>{T.d(Te,{L:()=>d,Q:()=>E});var l=T(7582),n=T(4674);function E(h){return(0,l.FC)(this,arguments,function*(){const C=h.getReader();try{for(;;){const{value:f,done:w}=yield(0,l.qq)(C.read());if(w)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(f)}}finally{C.releaseLock()}})}function d(h){return(0,n.m)(h?.getReader)}},671:(ot,Te,T)=>{T.d(Te,{K:()=>n});var l=T(4674);function n(E){return E&&(0,l.m)(E.schedule)}},9360:(ot,Te,T)=>{T.d(Te,{A:()=>n,e:()=>E});var l=T(4674);function n(d){return(0,l.m)(d?.lift)}function E(d){return h=>{if(n(h))return h.lift(function(b){try{return d(b,this)}catch(C){this.error(C)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(ot,Te,T)=>{T.d(Te,{Z:()=>d});var l=T(7398);const{isArray:n}=Array;function d(h){return(0,l.U)(b=>function E(h,b){return n(b)?h(...b):h(b)}(h,b))}},2420:(ot,Te,T)=>{function l(){}T.d(Te,{Z:()=>l})},8407:(ot,Te,T)=>{T.d(Te,{U:()=>E,z:()=>n});var l=T(2737);function n(...d){return E(d)}function E(d){return 0===d.length?l.y:1===d.length?d[0]:function(b){return d.reduce((C,f)=>f(C),b)}}},3894:(ot,Te,T)=>{T.d(Te,{h:()=>E});var l=T(2653),n=T(7599);function E(d){n.z.setTimeout(()=>{const{onUnhandledError:h}=l.config;if(!h)throw d;h(d)})}},9853:(ot,Te,T)=>{function l(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(Te,{z:()=>l})},6708:ot=>{self,ot.exports=(()=>{"use strict";var T,Te={};return T=Te,Object.defineProperty(T,"__esModule",{value:!0}),T.FitAddon=void 0,T.FitAddon=class{constructor(){}activate(l){this._terminal=l}dispose(){}fit(){const l=this.proposeDimensions();l&&this._terminal&&!isNaN(l.cols)&&!isNaN(l.rows)&&(this._terminal.rows===l.rows&&this._terminal.cols===l.cols||(this._terminal._core._renderService.clear(),this._terminal.resize(l.cols,l.rows)))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const l=this._terminal._core,n=l._renderService.dimensions;if(0===n.css.cell.width||0===n.css.cell.height)return;const E=0===this._terminal.options.scrollback?0:l.viewport.scrollBarWidth,d=window.getComputedStyle(this._terminal.element.parentElement),h=parseInt(d.getPropertyValue("height")),b=Math.max(0,parseInt(d.getPropertyValue("width"))),C=window.getComputedStyle(this._terminal.element),f=h-(parseInt(C.getPropertyValue("padding-top"))+parseInt(C.getPropertyValue("padding-bottom"))),w=b-(parseInt(C.getPropertyValue("padding-right"))+parseInt(C.getPropertyValue("padding-left")))-E;return{cols:Math.max(2,Math.floor(w/n.css.cell.width)),rows:Math.max(1,Math.floor(f/n.css.cell.height))}}},Te})()},6885:ot=>{self,ot.exports=(()=>{"use strict";var Te={4567:function(E,d,h){var b=this&&this.__decorate||function(u,y,M,P){var B,v=arguments.length,I=v<3?y:null===P?P=Object.getOwnPropertyDescriptor(y,M):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(u,y,M,P);else for(var U=u.length-1;U>=0;U--)(B=u[U])&&(I=(v<3?B(I):v>3?B(y,M,I):B(y,M))||I);return v>3&&I&&Object.defineProperty(y,M,I),I},C=this&&this.__param||function(u,y){return function(M,P){y(M,P,u)}};Object.defineProperty(d,"__esModule",{value:!0}),d.AccessibilityManager=void 0;const f=h(9042),w=h(6114),k=h(9924),S=h(844),x=h(5596),o=h(4725),p=h(3656);let m=class extends S.Disposable{constructor(u,y){super(),this._terminal=u,this._renderService=y,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let M=0;M<this._terminal.rows;M++)this._rowElements[M]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[M]);if(this._topBoundaryFocusListener=M=>this._handleBoundaryFocus(M,0),this._bottomBoundaryFocusListener=M=>this._handleBoundaryFocus(M,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new k.TimeBasedDebouncer(this._announceCharacters.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._liveRegionDebouncer),this.register(this._terminal.onResize(M=>this._handleResize(M.rows))),this.register(this._terminal.onRender(M=>this._refreshRows(M.start,M.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(M=>this._handleChar(M))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(M=>this._handleTab(M))),this.register(this._terminal.onKey(M=>this._handleKey(M.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,S.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(u){for(let y=0;y<u;y++)this._handleChar(" ")}_handleChar(u){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==u&&(this._charsToAnnounce+=u):this._charsToAnnounce+=u,"\n"===u&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=f.tooMuchOutput)),w.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,w.isMac&&this._liveRegion.remove()}_handleKey(u){this._clearLiveRegion(),/\p{Control}/u.test(u)||this._charsToConsume.push(u)}_refreshRows(u,y){this._liveRegionDebouncer.refresh(u,y,this._terminal.rows)}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(u,y){const M=u.target,P=this._rowElements[0===y?1:this._rowElements.length-2];if(M.getAttribute("aria-posinset")===(0===y?"1":`${this._terminal.buffer.lines.length}`)||u.relatedTarget!==P)return;let B,v;if(0===y?(B=M,v=this._rowElements.pop(),this._rowContainer.removeChild(v)):(B=this._rowElements.shift(),v=M,this._rowContainer.removeChild(B)),B.removeEventListener("focus",this._topBoundaryFocusListener),v.removeEventListener("focus",this._bottomBoundaryFocusListener),0===y){const I=this._createAccessibilityTreeNode();this._rowElements.unshift(I),this._rowContainer.insertAdjacentElement("afterbegin",I)}else{const I=this._createAccessibilityTreeNode();this._rowElements.push(I),this._rowContainer.appendChild(I)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===y?-1:1),this._rowElements[0===y?1:this._rowElements.length-2].focus(),u.preventDefault(),u.stopImmediatePropagation()}_handleResize(u){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>u;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const u=document.createElement("div");return u.setAttribute("role","listitem"),u.tabIndex=-1,this._refreshRowDimensions(u),u}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let u=0;u<this._terminal.rows;u++)this._refreshRowDimensions(this._rowElements[u])}}_refreshRowDimensions(u){u.style.height=`${this._renderService.dimensions.css.cell.height}px`}};m=b([C(1,o.IRenderService)],m),d.AccessibilityManager=m},3614:(E,d)=>{function h(w){return w.replace(/\r?\n/g,"\r")}function b(w,k){return k?"\x1b[200~"+w+"\x1b[201~":w}function C(w,k,S){w=b(w=h(w),S.decPrivateModes.bracketedPasteMode),S.triggerDataEvent(w,!0),k.value=""}function f(w,k,S){const x=S.getBoundingClientRect(),o=w.clientX-x.left-10,p=w.clientY-x.top-10;k.style.width="20px",k.style.height="20px",k.style.left=`${o}px`,k.style.top=`${p}px`,k.style.zIndex="1000",k.focus()}Object.defineProperty(d,"__esModule",{value:!0}),d.rightClickHandler=d.moveTextAreaUnderMouseCursor=d.paste=d.handlePasteEvent=d.copyHandler=d.bracketTextForPaste=d.prepareTextForTerminal=void 0,d.prepareTextForTerminal=h,d.bracketTextForPaste=b,d.copyHandler=function(w,k){w.clipboardData&&w.clipboardData.setData("text/plain",k.selectionText),w.preventDefault()},d.handlePasteEvent=function(w,k,S){w.stopPropagation(),w.clipboardData&&C(w.clipboardData.getData("text/plain"),k,S)},d.paste=C,d.moveTextAreaUnderMouseCursor=f,d.rightClickHandler=function(w,k,S,x,o){f(w,k,S),o&&x.rightClickSelect(w),k.value=x.selectionText,k.select()}},7239:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorContrastCache=void 0;const b=h(1505);d.ColorContrastCache=class{constructor(){this._color=new b.TwoKeyMap,this._css=new b.TwoKeyMap}setCss(C,f,w){this._css.set(C,f,w)}getCss(C,f){return this._css.get(C,f)}setColor(C,f,w){this._color.set(C,f,w)}getColor(C,f){return this._color.get(C,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.addDisposableDomListener=void 0,d.addDisposableDomListener=function(h,b,C,f){h.addEventListener(b,C,f);let w=!1;return{dispose:()=>{w||(w=!0,h.removeEventListener(b,C,f))}}}},6465:function(E,d,h){var b=this&&this.__decorate||function(o,p,m,u){var y,M=arguments.length,P=M<3?p:null===u?u=Object.getOwnPropertyDescriptor(p,m):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(o,p,m,u);else for(var B=o.length-1;B>=0;B--)(y=o[B])&&(P=(M<3?y(P):M>3?y(p,m,P):y(p,m))||P);return M>3&&P&&Object.defineProperty(p,m,P),P},C=this&&this.__param||function(o,p){return function(m,u){p(m,u,o)}};Object.defineProperty(d,"__esModule",{value:!0}),d.Linkifier2=void 0;const f=h(2585),w=h(8460),k=h(844),S=h(3656);let x=class extends k.Disposable{constructor(o){super(),this._bufferService=o,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new w.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new w.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,k.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,k.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}get currentLink(){return this._currentLink}registerLinkProvider(o){return this._linkProviders.push(o),{dispose:()=>{const p=this._linkProviders.indexOf(o);-1!==p&&this._linkProviders.splice(p,1)}}}attachToDom(o,p,m){this._element=o,this._mouseService=p,this._renderService=m,this.register((0,S.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,S.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,S.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,S.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(o){if(this._lastMouseEvent=o,!this._element||!this._mouseService)return;const p=this._positionFromMouseEvent(o,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const m=o.composedPath();for(let u=0;u<m.length;u++){const y=m[u];if(y.classList.contains("xterm"))break;if(y.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(o){if(this._activeLine!==o.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(o,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,o)||(this._clearCurrentLink(),this._askForLink(o,!0))}_askForLink(o,p){var m,u;this._activeProviderReplies&&p||(null===(m=this._activeProviderReplies)||void 0===m||m.forEach(M=>{M?.forEach(P=>{P.link.dispose&&P.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=o.y);let y=!1;for(const[M,P]of this._linkProviders.entries())p?null!==(u=this._activeProviderReplies)&&void 0!==u&&u.get(M)&&(y=this._checkLinkProviderResult(M,o,y)):P.provideLinks(o.y,B=>{var v,I;if(this._isMouseOut)return;const U=B?.map(ae=>({link:ae}));null===(v=this._activeProviderReplies)||void 0===v||v.set(M,U),y=this._checkLinkProviderResult(M,o,y),(null===(I=this._activeProviderReplies)||void 0===I?void 0:I.size)===this._linkProviders.length&&this._removeIntersectingLinks(o.y,this._activeProviderReplies)})}_removeIntersectingLinks(o,p){const m=new Set;for(let u=0;u<p.size;u++){const y=p.get(u);if(y)for(let M=0;M<y.length;M++){const P=y[M],v=P.link.range.end.y>o?this._bufferService.cols:P.link.range.end.x;for(let I=P.link.range.start.y<o?0:P.link.range.start.x;I<=v;I++){if(m.has(I)){y.splice(M--,1);break}m.add(I)}}}}_checkLinkProviderResult(o,p,m){var u;if(!this._activeProviderReplies)return m;const y=this._activeProviderReplies.get(o);let M=!1;for(let P=0;P<o;P++)this._activeProviderReplies.has(P)&&!this._activeProviderReplies.get(P)||(M=!0);if(!M&&y){const P=y.find(B=>this._linkAtPosition(B.link,p));P&&(m=!0,this._handleNewLink(P))}if(this._activeProviderReplies.size===this._linkProviders.length&&!m)for(let P=0;P<this._activeProviderReplies.size;P++){const B=null===(u=this._activeProviderReplies.get(P))||void 0===u?void 0:u.find(v=>this._linkAtPosition(v.link,p));if(B){m=!0,this._handleNewLink(B);break}}return m}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(o){if(!this._element||!this._mouseService||!this._currentLink)return;const p=this._positionFromMouseEvent(o,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(o,this._currentLink.link.text)}_clearCurrentLink(o,p){this._element&&this._currentLink&&this._lastMouseEvent&&(!o||!p||this._currentLink.link.range.start.y>=o&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,k.disposeArray)(this._linkCacheDisposables))}_handleNewLink(o){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(o.link,p)&&(this._currentLink=o,this._currentLink.state={decorations:{underline:void 0===o.link.decorations||o.link.decorations.underline,pointerCursor:void 0===o.link.decorations||o.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,o.link,this._lastMouseEvent),o.link.decorations={},Object.defineProperties(o.link.decorations,{pointerCursor:{get:()=>{var m,u;return null===(u=null===(m=this._currentLink)||void 0===m?void 0:m.state)||void 0===u?void 0:u.decorations.pointerCursor},set:m=>{var u,y;null!==(u=this._currentLink)&&void 0!==u&&u.state&&this._currentLink.state.decorations.pointerCursor!==m&&(this._currentLink.state.decorations.pointerCursor=m,this._currentLink.state.isHovered&&(null===(y=this._element)||void 0===y||y.classList.toggle("xterm-cursor-pointer",m)))}},underline:{get:()=>{var m,u;return null===(u=null===(m=this._currentLink)||void 0===m?void 0:m.state)||void 0===u?void 0:u.decorations.underline},set:m=>{var u,y,M;null!==(u=this._currentLink)&&void 0!==u&&u.state&&(null===(M=null===(y=this._currentLink)||void 0===y?void 0:y.state)||void 0===M?void 0:M.decorations.underline)!==m&&(this._currentLink.state.decorations.underline=m,this._currentLink.state.isHovered&&this._fireUnderlineEvent(o.link,m))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(m=>{if(!this._currentLink)return;const u=0===m.start?0:m.start+1+this._bufferService.buffer.ydisp,y=this._bufferService.buffer.ydisp+1+m.end;if(this._currentLink.link.range.start.y>=u&&this._currentLink.link.range.end.y<=y&&(this._clearCurrentLink(u,y),this._lastMouseEvent&&this._element)){const M=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);M&&this._askForLink(M,!1)}})))}_linkHover(o,p,m){var u;!(null===(u=this._currentLink)||void 0===u)&&u.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&o.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(m,p.text)}_fireUnderlineEvent(o,p){const m=o.range,u=this._bufferService.buffer.ydisp,y=this._createLinkUnderlineEvent(m.start.x-1,m.start.y-u-1,m.end.x,m.end.y-u-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(y)}_linkLeave(o,p,m){var u;!(null===(u=this._currentLink)||void 0===u)&&u.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&o.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(m,p.text)}_linkAtPosition(o,p){const y=p.y*this._bufferService.cols+p.x;return o.range.start.y*this._bufferService.cols+o.range.start.x<=y&&y<=o.range.end.y*this._bufferService.cols+o.range.end.x}_positionFromMouseEvent(o,p,m){const u=m.getCoords(o,p,this._bufferService.cols,this._bufferService.rows);if(u)return{x:u[0],y:u[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(o,p,m,u,y){return{x1:o,y1:p,x2:m,y2:u,cols:this._bufferService.cols,fg:y}}};x=b([C(0,f.IBufferService)],x),d.Linkifier2=x},9042:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.tooMuchOutput=d.promptLabel=void 0,d.promptLabel="Terminal input",d.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(E,d,h){var b=this&&this.__decorate||function(x,o,p,m){var u,y=arguments.length,M=y<3?o:null===m?m=Object.getOwnPropertyDescriptor(o,p):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(x,o,p,m);else for(var P=x.length-1;P>=0;P--)(u=x[P])&&(M=(y<3?u(M):y>3?u(o,p,M):u(o,p))||M);return y>3&&M&&Object.defineProperty(o,p,M),M},C=this&&this.__param||function(x,o){return function(p,m){o(p,m,x)}};Object.defineProperty(d,"__esModule",{value:!0}),d.OscLinkProvider=void 0;const f=h(511),w=h(2585);let k=class{constructor(x,o,p){this._bufferService=x,this._optionsService=o,this._oscLinkService=p}provideLinks(x,o){var p;const m=this._bufferService.buffer.lines.get(x-1);if(!m)return void o(void 0);const u=[],y=this._optionsService.rawOptions.linkHandler,M=new f.CellData,P=m.getTrimmedLength();let B=-1,v=-1,I=!1;for(let U=0;U<P;U++)if(-1!==v||m.hasContent(U)){if(m.loadCell(U,M),M.hasExtendedAttrs()&&M.extended.urlId){if(-1===v){v=U,B=M.extended.urlId;continue}I=M.extended.urlId!==B}else-1!==v&&(I=!0);if(I||-1!==v&&U===P-1){const ae=null===(p=this._oscLinkService.getLinkData(B))||void 0===p?void 0:p.uri;if(ae){const ne={start:{x:v+1,y:x},end:{x:U+(I||U!==P-1?0:1),y:x}};let he=!1;if(!y?.allowNonHttpProtocols)try{const je=new URL(ae);["http:","https:"].includes(je.protocol)||(he=!0)}catch{he=!0}he||u.push({text:ae,range:ne,activate:(je,Ze)=>y?y.activate(je,Ze,ne):S(0,Ze),hover:(je,Ze)=>{var $e;return null===($e=y?.hover)||void 0===$e?void 0:$e.call(y,je,Ze,ne)},leave:(je,Ze)=>{var $e;return null===($e=y?.leave)||void 0===$e?void 0:$e.call(y,je,Ze,ne)}})}I=!1,M.hasExtendedAttrs()&&M.extended.urlId?(v=U,B=M.extended.urlId):(v=-1,B=-1)}}o(u)}};function S(x,o){if(confirm(`Do you want to navigate to ${o}?\n\nWARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=o}else console.warn("Opening link blocked as opener could not be cleared")}}k=b([C(0,w.IBufferService),C(1,w.IOptionsService),C(2,w.IOscLinkService)],k),d.OscLinkProvider=k},6193:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.RenderDebouncer=void 0,d.RenderDebouncer=class{constructor(h,b){this._parentWindow=h,this._renderCallback=b,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(h){return this._refreshCallbacks.push(h),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(h,b,C){this._rowCount=C,h=void 0!==h?h:0,b=void 0!==b?b:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,h):h,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,b):b,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const h=Math.max(this._rowStart,0),b=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,b),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const h of this._refreshCallbacks)h(0);this._refreshCallbacks=[]}}},5596:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ScreenDprMonitor=void 0;const b=h(844);d.ScreenDprMonitor=class C extends b.Disposable{constructor(w){super(),this._parentWindow=w,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,b.toDisposable)(()=>{this.clearListener()}))}setListener(w){this._listener&&this.clearListener(),this._listener=w,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var w;this._outerListener&&(null===(w=this._resolutionMediaMatchList)||void 0===w||w.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}},3236:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Terminal=void 0;const b=h(2950),C=h(1680),f=h(3614),w=h(2584),k=h(5435),S=h(9312),x=h(6114),o=h(3656),p=h(9042),m=h(4567),u=h(1296),y=h(7399),M=h(8460),P=h(8437),B=h(3230),v=h(4725),I=h(428),U=h(8934),ae=h(6465),ne=h(5114),he=h(8969),je=h(8055),Ze=h(4269),$e=h(5941),Q=h(3107),de=h(5744),xe=h(9074),we=h(2585),Xe=h(3730),rt=h(844),Me=h(6731),_e=typeof window<"u"?window.document:null;d.Terminal=class ge extends he.CoreTerminal{constructor(ee={}){super(ee),this.browser=x,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._onCursorMove=this.register(new M.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new M.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new M.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new M.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new M.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new M.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new M.EventEmitter),this._onBlur=this.register(new M.EventEmitter),this._onA11yCharEmitter=this.register(new M.EventEmitter),this._onA11yTabEmitter=this.register(new M.EventEmitter),this._onWillOpen=this.register(new M.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(ae.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(Xe.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(xe.DecorationService),this._instantiationService.setService(we.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((z,ye)=>this.refresh(z,ye))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(z=>this._reportWindowsOptions(z))),this.register(this._inputHandler.onColor(z=>this._handleColorEvent(z))),this.register((0,M.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,M.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,M.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(z=>this._afterResize(z.cols,z.rows))),this.register((0,rt.toDisposable)(()=>{var z,ye;this._customKeyEventHandler=void 0,null===(ye=null===(z=this.element)||void 0===z?void 0:z.parentNode)||void 0===ye||ye.removeChild(this.element)}))}get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}_handleColorEvent(ee){if(this._themeService)for(const z of ee){let ye,Ge="";switch(z.index){case 256:ye="foreground",Ge="10";break;case 257:ye="background",Ge="11";break;case 258:ye="cursor",Ge="12";break;default:ye="ansi",Ge="4;"+z.index}switch(z.type){case 0:const Se=je.color.toColorRGB("ansi"===ye?this._themeService.colors.ansi[z.index]:this._themeService.colors[ye]);this.coreService.triggerDataEvent(`${w.C0.ESC}]${Ge};${(0,$e.toRgbString)(Se)}${w.C1_ESCAPED.ST}`);break;case 1:if("ansi"===ye)this._themeService.modifyColors(re=>re.ansi[z.index]=je.rgba.toColor(...z.color));else{const re=ye;this._themeService.modifyColors(Ve=>Ve[re]=je.rgba.toColor(...z.color))}break;case 2:this._themeService.restoreColor(z.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(ee){var z;ee?!this._accessibilityManager&&this._renderService&&(this._accessibilityManager=this._instantiationService.createInstance(m.AccessibilityManager,this)):(null===(z=this._accessibilityManager)||void 0===z||z.dispose(),this._accessibilityManager=void 0)}_handleTextAreaFocus(ee){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(w.C0.ESC+"[I"),this.updateCursorStyle(ee),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var ee;return null===(ee=this.textarea)||void 0===ee?void 0:ee.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(w.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const z=this.buffer.lines.get(this.buffer.ybase+this.buffer.y);if(!z)return;const ye=Math.min(this.buffer.x,this.cols-1),Ge=this._renderService.dimensions.css.cell.height,Se=z.getWidth(ye),re=this._renderService.dimensions.css.cell.width*Se,Ve=this.buffer.y*this._renderService.dimensions.css.cell.height;this.textarea.style.left=ye*this._renderService.dimensions.css.cell.width+"px",this.textarea.style.top=Ve+"px",this.textarea.style.width=re+"px",this.textarea.style.height=Ge+"px",this.textarea.style.lineHeight=Ge+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,o.addDisposableDomListener)(this.element,"copy",z=>{this.hasSelection()&&(0,f.copyHandler)(z,this._selectionService)}));const ee=z=>(0,f.handlePasteEvent)(z,this.textarea,this.coreService);this.register((0,o.addDisposableDomListener)(this.textarea,"paste",ee)),this.register((0,o.addDisposableDomListener)(this.element,"paste",ee)),this.register(x.isFirefox?(0,o.addDisposableDomListener)(this.element,"mousedown",z=>{2===z.button&&(0,f.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}):(0,o.addDisposableDomListener)(this.element,"contextmenu",z=>{(0,f.rightClickHandler)(z,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),x.isLinux&&this.register((0,o.addDisposableDomListener)(this.element,"auxclick",z=>{1===z.button&&(0,f.moveTextAreaUnderMouseCursor)(z,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,o.addDisposableDomListener)(this.textarea,"keyup",ee=>this._keyUp(ee),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keydown",ee=>this._keyDown(ee),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"keypress",ee=>this._keyPress(ee),!0)),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionupdate",ee=>this._compositionHelper.compositionupdate(ee))),this.register((0,o.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,o.addDisposableDomListener)(this.textarea,"input",ee=>this._inputEvent(ee),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(ee){var z;if(!ee)throw new Error("Terminal requires a parent element.");ee.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=ee.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),ee.appendChild(this.element);const ye=_e.createDocumentFragment();this._viewportElement=_e.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),ye.appendChild(this._viewportElement),this._viewportScrollArea=_e.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=_e.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=_e.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),ye.appendChild(this.screenElement),this.textarea=_e.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",p.promptLabel),x.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(ne.CoreBrowserService,this.textarea,null!==(z=this._document.defaultView)&&void 0!==z?z:window),this._instantiationService.setService(v.ICoreBrowserService,this._coreBrowserService),this.register((0,o.addDisposableDomListener)(this.textarea,"focus",Ge=>this._handleTextAreaFocus(Ge))),this.register((0,o.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(I.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(v.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(Me.ThemeService),this._instantiationService.setService(v.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(Ze.CharacterJoinerService),this._instantiationService.setService(v.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(B.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(v.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(Ge=>this._onRender.fire(Ge))),this.onResize(Ge=>this._renderService.resize(Ge.cols,Ge.rows)),this._compositionView=_e.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(b.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(ye);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(U.MouseService),this._instantiationService.setService(v.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,Ge=>this.scrollLines(Ge,!0,1),this._viewportElement,this._viewportScrollArea),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(S.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(v.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(Ge=>this.scrollLines(Ge.amount,Ge.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(Ge=>this._renderService.handleSelectionChanged(Ge.start,Ge.end,Ge.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(Ge=>{this.textarea.value=Ge,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(Ge=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,o.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(Q.BufferDecorationRenderer,this.screenElement)),this.register((0,o.addDisposableDomListener)(this.element,"mousedown",Ge=>this._selectionService.handleMouseDown(Ge))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager=this._instantiationService.createInstance(m.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",Ge=>this._handleScreenReaderModeOptionChange(Ge))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(de.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",Ge=>{!this._overviewRulerRenderer&&Ge&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(de.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const ee=this,z=this.element;function ye(re){const Ve=ee._mouseService.getMouseReportCoords(re,ee.screenElement);if(!Ve)return!1;let He,oe;switch(re.overrideType||re.type){case"mousemove":oe=32,void 0===re.buttons?(He=3,void 0!==re.button&&(He=re.button<3?re.button:3)):He=1&re.buttons?0:4&re.buttons?1:2&re.buttons?2:3;break;case"mouseup":oe=0,He=re.button<3?re.button:3;break;case"mousedown":oe=1,He=re.button<3?re.button:3;break;case"wheel":if(0===ee.viewport.getLinesScrolled(re))return!1;oe=re.deltaY<0?0:1,He=4;break;default:return!1}return!(void 0===oe||void 0===He||He>4)&&ee.coreMouseService.triggerMouseEvent({col:Ve.col,row:Ve.row,x:Ve.x,y:Ve.y,button:He,action:oe,ctrl:re.ctrlKey,alt:re.altKey,shift:re.shiftKey})}const Ge={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Se={mouseup:re=>(ye(re),re.buttons||(this._document.removeEventListener("mouseup",Ge.mouseup),Ge.mousedrag&&this._document.removeEventListener("mousemove",Ge.mousedrag)),this.cancel(re)),wheel:re=>(ye(re),this.cancel(re,!0)),mousedrag:re=>{re.buttons&&ye(re)},mousemove:re=>{re.buttons||ye(re)}};this.register(this.coreMouseService.onProtocolChange(re=>{re?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(re)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&re?Ge.mousemove||(z.addEventListener("mousemove",Se.mousemove),Ge.mousemove=Se.mousemove):(z.removeEventListener("mousemove",Ge.mousemove),Ge.mousemove=null),16&re?Ge.wheel||(z.addEventListener("wheel",Se.wheel,{passive:!1}),Ge.wheel=Se.wheel):(z.removeEventListener("wheel",Ge.wheel),Ge.wheel=null),2&re?Ge.mouseup||(Ge.mouseup=Se.mouseup):(this._document.removeEventListener("mouseup",Ge.mouseup),Ge.mouseup=null),4&re?Ge.mousedrag||(Ge.mousedrag=Se.mousedrag):(this._document.removeEventListener("mousemove",Ge.mousedrag),Ge.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,o.addDisposableDomListener)(z,"mousedown",re=>{if(re.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(re))return ye(re),Ge.mouseup&&this._document.addEventListener("mouseup",Ge.mouseup),Ge.mousedrag&&this._document.addEventListener("mousemove",Ge.mousedrag),this.cancel(re)})),this.register((0,o.addDisposableDomListener)(z,"wheel",re=>{if(!Ge.wheel){if(!this.buffer.hasScrollback){const Ve=this.viewport.getLinesScrolled(re);if(0===Ve)return;const He=w.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(re.deltaY<0?"A":"B");let oe="";for(let Pe=0;Pe<Math.abs(Ve);Pe++)oe+=He;return this.coreService.triggerDataEvent(oe,!0),this.cancel(re,!0)}return this.viewport.handleWheel(re)?this.cancel(re):void 0}},{passive:!1})),this.register((0,o.addDisposableDomListener)(z,"touchstart",re=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(re),this.cancel(re)},{passive:!0})),this.register((0,o.addDisposableDomListener)(z,"touchmove",re=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(re)?void 0:this.cancel(re)},{passive:!1}))}refresh(ee,z){var ye;null===(ye=this._renderService)||void 0===ye||ye.refreshRows(ee,z)}updateCursorStyle(ee){var z;null!==(z=this._selectionService)&&void 0!==z&&z.shouldColumnSelect(ee)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(ee,z,ye=0){super.scrollLines(ee,z,ye),this.refresh(0,this.rows-1)}paste(ee){(0,f.paste)(ee,this.textarea,this.coreService)}attachCustomKeyEventHandler(ee){this._customKeyEventHandler=ee}registerLinkProvider(ee){return this.linkifier2.registerLinkProvider(ee)}registerCharacterJoiner(ee){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const z=this._characterJoinerService.register(ee);return this.refresh(0,this.rows-1),z}deregisterCharacterJoiner(ee){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(ee)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}addMarker(ee){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+ee)}registerDecoration(ee){return this._decorationService.registerDecoration(ee)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(ee,z,ye){this._selectionService.setSelection(ee,z,ye)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var ee;null===(ee=this._selectionService)||void 0===ee||ee.clearSelection()}selectAll(){var ee;null===(ee=this._selectionService)||void 0===ee||ee.selectAll()}selectLines(ee,z){var ye;null===(ye=this._selectionService)||void 0===ye||ye.selectLines(ee,z)}_keyDown(ee){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(ee))return!1;const z=this.browser.isMac&&this.options.macOptionIsMeta&&ee.altKey;if(!z&&!this._compositionHelper.keydown(ee))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this._bufferService.scrollToBottom(),!1;z||"Dead"!==ee.key&&"AltGraph"!==ee.key||(this._unprocessedDeadKey=!0);const ye=(0,y.evaluateKeyboardEvent)(ee,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(ee),3===ye.type||2===ye.type){const Ge=this.rows-1;return this.scrollLines(2===ye.type?-Ge:Ge),this.cancel(ee,!0)}return 1===ye.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,ee)||(ye.cancel&&this.cancel(ee,!0),!ye.key||!!(ee.key&&!ee.ctrlKey&&!ee.altKey&&!ee.metaKey&&1===ee.key.length&&ee.key.charCodeAt(0)>=65&&ee.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(ye.key!==w.C0.ETX&&ye.key!==w.C0.CR||(this.textarea.value=""),this._onKey.fire({key:ye.key,domEvent:ee}),this._showCursor(),this.coreService.triggerDataEvent(ye.key,!0),!this.optionsService.rawOptions.screenReaderMode||ee.altKey||ee.ctrlKey?this.cancel(ee,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(ee,z){const ye=ee.isMac&&!this.options.macOptionIsMeta&&z.altKey&&!z.ctrlKey&&!z.metaKey||ee.isWindows&&z.altKey&&z.ctrlKey&&!z.metaKey||ee.isWindows&&z.getModifierState("AltGraph");return"keypress"===z.type?ye:ye&&(!z.keyCode||z.keyCode>47)}_keyUp(ee){var z;this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(ee)||(16===(z=ee).keyCode||17===z.keyCode||18===z.keyCode||this.focus(),this.updateCursorStyle(ee),this._keyPressHandled=!1)}_keyPress(ee){let z;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&!1===this._customKeyEventHandler(ee))return!1;if(this.cancel(ee),ee.charCode)z=ee.charCode;else if(null==ee.which)z=ee.keyCode;else{if(0===ee.which||0===ee.charCode)return!1;z=ee.which}return!(!z||(ee.altKey||ee.ctrlKey||ee.metaKey)&&!this._isThirdLevelShift(this.browser,ee)||(z=String.fromCharCode(z),this._onKey.fire({key:z,domEvent:ee}),this._showCursor(),this.coreService.triggerDataEvent(z,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(ee){return!(!ee.data||"insertText"!==ee.inputType||ee.composed&&this._keyDownSeen||this.optionsService.rawOptions.screenReaderMode||this._keyPressHandled||(this._unprocessedDeadKey=!1,this.coreService.triggerDataEvent(ee.data,!0),this.cancel(ee),0))}resize(ee,z){ee!==this.cols||z!==this.rows?super.resize(ee,z):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(ee,z){var ye,Ge;null===(ye=this._charSizeService)||void 0===ye||ye.measure(),null===(Ge=this.viewport)||void 0===Ge||Ge.syncScrollArea(!0)}clear(){if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let ee=1;ee<this.rows;ee++)this.buffer.lines.push(this.buffer.getBlankLine(P.DEFAULT_ATTR_DATA));this.refresh(0,this.rows-1),this._onScroll.fire({position:this.buffer.ydisp,source:0})}}reset(){var ee,z;this.options.rows=this.rows,this.options.cols=this.cols;const ye=this._customKeyEventHandler;this._setup(),super.reset(),null===(ee=this._selectionService)||void 0===ee||ee.reset(),this._decorationService.reset(),this._customKeyEventHandler=ye,this.refresh(0,this.rows-1),null===(z=this.viewport)||void 0===z||z.syncScrollArea()}clearTextureAtlas(){var ee;null===(ee=this._renderService)||void 0===ee||ee.clearTextureAtlas()}_reportFocus(){var ee;null!==(ee=this.element)&&void 0!==ee&&ee.classList.contains("focus")?this.coreService.triggerDataEvent(w.C0.ESC+"[I"):this.coreService.triggerDataEvent(w.C0.ESC+"[O")}_reportWindowsOptions(ee){if(this._renderService)switch(ee){case k.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const z=this._renderService.dimensions.css.canvas.width.toFixed(0),ye=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${w.C0.ESC}[4;${ye};${z}t`);break;case k.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const Ge=this._renderService.dimensions.css.cell.width.toFixed(0),Se=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${w.C0.ESC}[6;${Se};${Ge}t`)}}cancel(ee,z){if(this.options.cancelEvents||z)return ee.preventDefault(),ee.stopPropagation(),!1}}},9924:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TimeBasedDebouncer=void 0,d.TimeBasedDebouncer=class{constructor(h,b=1e3){this._renderCallback=h,this._debounceThresholdMS=b,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(h,b,C){this._rowCount=C,h=void 0!==h?h:0,b=void 0!==b?b:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,h):h,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,b):b;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const k=this._debounceThresholdMS-(f-this._lastRefreshMs);this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},k)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const h=Math.max(this._rowStart,0),b=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(h,b)}}},1680:function(E,d,h){var b=this&&this.__decorate||function(o,p,m,u){var y,M=arguments.length,P=M<3?p:null===u?u=Object.getOwnPropertyDescriptor(p,m):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(o,p,m,u);else for(var B=o.length-1;B>=0;B--)(y=o[B])&&(P=(M<3?y(P):M>3?y(p,m,P):y(p,m))||P);return M>3&&P&&Object.defineProperty(p,m,P),P},C=this&&this.__param||function(o,p){return function(m,u){p(m,u,o)}};Object.defineProperty(d,"__esModule",{value:!0}),d.Viewport=void 0;const f=h(844),w=h(3656),k=h(4725),S=h(2585);let x=class extends f.Disposable{constructor(o,p,m,u,y,M,P,B,v){super(),this._scrollLines=o,this._viewportElement=p,this._scrollArea=m,this._bufferService=u,this._optionsService=y,this._charSizeService=M,this._renderService=P,this._coreBrowserService=B,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,w.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(I=>this._activeBuffer=I.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(I=>this._renderDimensions=I)),this._handleThemeChange(v.colors),this.register(v.onChangeColors(I=>this._handleThemeChange(I))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea(),0)}_handleThemeChange(o){this._viewportElement.style.backgroundColor=o.background.css}_refresh(o){if(o)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const p=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==p&&(this._lastRecordedBufferHeight=p,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const o=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==o&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=o),this._refreshAnimationFrame=null}syncScrollArea(o=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(o);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(o)}_handleScroll(o){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._scrollLines(0);const p=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._scrollLines(p)}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const o=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(o*(this._smoothScrollState.target-this._smoothScrollState.origin)),o<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(o,p){return!(p<0&&0!==this._viewportElement.scrollTop||p>0&&this._viewportElement.scrollTop+this._lastRecordedViewportHeight<this._lastRecordedBufferHeight)||(o.cancelable&&o.preventDefault(),!1)}handleWheel(o){const p=this._getPixelsScrolled(o);return 0!==p&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+p:this._smoothScrollState.target+=p,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=p,this._bubbleScroll(o,p))}_getPixelsScrolled(o){if(0===o.deltaY||o.shiftKey)return 0;let p=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_LINE?p*=this._currentRowHeight:o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._currentRowHeight*this._bufferService.rows),p}getBufferElements(o,p){var m;let u,y="";const M=[],P=p??this._bufferService.buffer.lines.length,B=this._bufferService.buffer.lines;for(let v=o;v<P;v++){const I=B.get(v);if(!I)continue;const U=null===(m=B.get(v+1))||void 0===m?void 0:m.isWrapped;if(y+=I.translateToString(!U),!U||v===B.length-1){const ae=document.createElement("div");ae.textContent=y,M.push(ae),y.length>0&&(u=ae),y=""}}return{bufferElements:M,cursorElement:u}}getLinesScrolled(o){if(0===o.deltaY||o.shiftKey)return 0;let p=this._applyScrollModifier(o.deltaY,o);return o.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(p/=this._currentRowHeight+0,this._wheelPartialScroll+=p,p=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):o.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(p*=this._bufferService.rows),p}_applyScrollModifier(o,p){const m=this._optionsService.rawOptions.fastScrollModifier;return"alt"===m&&p.altKey||"ctrl"===m&&p.ctrlKey||"shift"===m&&p.shiftKey?o*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:o*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(o){this._lastTouchY=o.touches[0].pageY}handleTouchMove(o){const p=this._lastTouchY-o.touches[0].pageY;return this._lastTouchY=o.touches[0].pageY,0!==p&&(this._viewportElement.scrollTop+=p,this._bubbleScroll(o,p))}};x=b([C(3,S.IBufferService),C(4,S.IOptionsService),C(5,k.ICharSizeService),C(6,k.IRenderService),C(7,k.ICoreBrowserService),C(8,k.IThemeService)],x),d.Viewport=x},3107:function(E,d,h){var b=this&&this.__decorate||function(o,p,m,u){var y,M=arguments.length,P=M<3?p:null===u?u=Object.getOwnPropertyDescriptor(p,m):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(o,p,m,u);else for(var B=o.length-1;B>=0;B--)(y=o[B])&&(P=(M<3?y(P):M>3?y(p,m,P):y(p,m))||P);return M>3&&P&&Object.defineProperty(p,m,P),P},C=this&&this.__param||function(o,p){return function(m,u){p(m,u,o)}};Object.defineProperty(d,"__esModule",{value:!0}),d.BufferDecorationRenderer=void 0;const f=h(3656),w=h(4725),k=h(844),S=h(2585);let x=class extends k.Disposable{constructor(o,p,m,u){super(),this._screenElement=o,this._bufferService=p,this._decorationService=m,this._renderService=u,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,k.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const o of this._decorationService.decorations)this._renderDecoration(o);this._dimensionsChanged=!1}_renderDecoration(o){this._refreshStyle(o),this._dimensionsChanged&&this._refreshXPosition(o)}_createElement(o){var p,m;const u=document.createElement("div");u.classList.add("xterm-decoration"),u.classList.toggle("xterm-decoration-top-layer","top"===(null===(p=o?.options)||void 0===p?void 0:p.layer)),u.style.width=`${Math.round((o.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,u.style.height=(o.options.height||1)*this._renderService.dimensions.css.cell.height+"px",u.style.top=(o.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",u.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=null!==(m=o.options.x)&&void 0!==m?m:0;return y&&y>this._bufferService.cols&&(u.style.display="none"),this._refreshXPosition(o,u),u}_refreshStyle(o){const p=o.marker.line-this._bufferService.buffers.active.ydisp;if(p<0||p>=this._bufferService.rows)o.element&&(o.element.style.display="none",o.onRenderEmitter.fire(o.element));else{let m=this._decorationElements.get(o);m||(m=this._createElement(o),o.element=m,this._decorationElements.set(o,m),this._container.appendChild(m)),m.style.top=p*this._renderService.dimensions.css.cell.height+"px",m.style.display=this._altBufferIsActive?"none":"block",o.onRenderEmitter.fire(m)}}_refreshXPosition(o,p=o.element){var m;if(!p)return;const u=null!==(m=o.options.x)&&void 0!==m?m:0;"right"===(o.options.anchor||"left")?p.style.right=u?u*this._renderService.dimensions.css.cell.width+"px":"":p.style.left=u?u*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(o){var p;null===(p=this._decorationElements.get(o))||void 0===p||p.remove(),this._decorationElements.delete(o),o.dispose()}};x=b([C(1,S.IBufferService),C(2,S.IDecorationService),C(3,w.IRenderService)],x),d.BufferDecorationRenderer=x},5871:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorZoneStore=void 0,d.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(h){if(h.options.overviewRulerOptions){for(const b of this._zones)if(b.color===h.options.overviewRulerOptions.color&&b.position===h.options.overviewRulerOptions.position){if(this._lineIntersectsZone(b,h.marker.line))return;if(this._lineAdjacentToZone(b,h.marker.line,h.options.overviewRulerOptions.position))return void this._addLineToZone(b,h.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=h.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=h.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=h.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=h.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:h.options.overviewRulerOptions.color,position:h.options.overviewRulerOptions.position,startBufferLine:h.marker.line,endBufferLine:h.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(h){this._linePadding=h}_lineIntersectsZone(h,b){return b>=h.startBufferLine&&b<=h.endBufferLine}_lineAdjacentToZone(h,b,C){return b>=h.startBufferLine-this._linePadding[C||"full"]&&b<=h.endBufferLine+this._linePadding[C||"full"]}_addLineToZone(h,b){h.startBufferLine=Math.min(h.startBufferLine,b),h.endBufferLine=Math.max(h.endBufferLine,b)}}},5744:function(E,d,h){var b=this&&this.__decorate||function(y,M,P,B){var v,I=arguments.length,U=I<3?M:null===B?B=Object.getOwnPropertyDescriptor(M,P):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(y,M,P,B);else for(var ae=y.length-1;ae>=0;ae--)(v=y[ae])&&(U=(I<3?v(U):I>3?v(M,P,U):v(M,P))||U);return I>3&&U&&Object.defineProperty(M,P,U),U},C=this&&this.__param||function(y,M){return function(P,B){M(P,B,y)}};Object.defineProperty(d,"__esModule",{value:!0}),d.OverviewRulerRenderer=void 0;const f=h(5871),w=h(3656),k=h(4725),S=h(844),x=h(2585),o={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},m={full:0,left:0,center:0,right:0};let u=class extends S.Disposable{constructor(y,M,P,B,v,I,U){var ae;super(),this._viewportElement=y,this._screenElement=M,this._bufferService=P,this._decorationService=B,this._renderService=v,this._optionsService=I,this._coreBrowseService=U,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(ae=this._viewportElement.parentElement)||void 0===ae||ae.insertBefore(this._canvas,this._viewportElement);const ne=this._canvas.getContext("2d");if(!ne)throw new Error("Ctx cannot be null");this._ctx=ne,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,S.toDisposable)(()=>{var he;null===(he=this._canvas)||void 0===he||he.remove()}))}get _width(){return this._optionsService.options.overviewRulerWidth||0}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,w.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),M=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=y,p.center=M,p.right=y,this._refreshDrawHeightConstants(),m.full=0,m.left=0,m.center=p.left,m.right=p.left+p.center}_refreshDrawHeightConstants(){o.full=Math.round(2*this._coreBrowseService.dpr);const M=Math.round(Math.max(Math.min(this._canvas.height/this._bufferService.buffer.lines.length,12),6)*this._coreBrowseService.dpr);o.left=M,o.center=M,o.right=M}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*o.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const M of this._decorationService.decorations)this._colorZoneStore.addDecoration(M);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const M of y)"full"!==M.position&&this._renderColorZone(M);for(const M of y)"full"===M.position&&this._renderColorZone(M);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(m[y.position||"full"],Math.round(y.startBufferLine/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)-o[y.position||"full"]/2),p[y.position||"full"],Math.round((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length*(this._canvas.height-1)+o[y.position||"full"]))}_queueRefresh(y,M){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=M||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};u=b([C(2,x.IBufferService),C(3,x.IDecorationService),C(4,k.IRenderService),C(5,x.IOptionsService),C(6,k.ICoreBrowserService)],u),d.OverviewRulerRenderer=u},2950:function(E,d,h){var b=this&&this.__decorate||function(x,o,p,m){var u,y=arguments.length,M=y<3?o:null===m?m=Object.getOwnPropertyDescriptor(o,p):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(x,o,p,m);else for(var P=x.length-1;P>=0;P--)(u=x[P])&&(M=(y<3?u(M):y>3?u(o,p,M):u(o,p))||M);return y>3&&M&&Object.defineProperty(o,p,M),M},C=this&&this.__param||function(x,o){return function(p,m){o(p,m,x)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CompositionHelper=void 0;const f=h(4725),w=h(2585),k=h(2584);let S=class{constructor(x,o,p,m,u,y){this._textarea=x,this._compositionView=o,this._bufferService=p,this._optionsService=m,this._coreService=u,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}get isComposing(){return this._isComposing}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(229===x.keyCode||16===x.keyCode||17===x.keyCode||18===x.keyCode)return!1;this._finalizeComposition(!1)}return 229!==x.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const o={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,o.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(o.start,o.end):this._textarea.value.substring(o.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const o=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(o,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const o=this._textarea.value,p=o.replace(x,"");this._dataAlreadySent=p,o.length>x.length?this._coreService.triggerDataEvent(p,!0):o.length<x.length?this._coreService.triggerDataEvent(`${k.C0.DEL}`,!0):o.length===x.length&&o!==x&&this._coreService.triggerDataEvent(o,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const o=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,m=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,u=o*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=u+"px",this._compositionView.style.top=m+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=u+"px",this._textarea.style.top=m+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};S=b([C(2,w.IBufferService),C(3,w.IOptionsService),C(4,w.ICoreService),C(5,f.IRenderService)],S),d.CompositionHelper=S},9806:(E,d)=>{function h(b,C,f){const w=f.getBoundingClientRect(),k=b.getComputedStyle(f),S=parseInt(k.getPropertyValue("padding-left")),x=parseInt(k.getPropertyValue("padding-top"));return[C.clientX-w.left-S,C.clientY-w.top-x]}Object.defineProperty(d,"__esModule",{value:!0}),d.getCoords=d.getCoordsRelativeToElement=void 0,d.getCoordsRelativeToElement=h,d.getCoords=function(b,C,f,w,k,S,x,o,p){if(!S)return;const m=h(b,C,f);return m?(m[0]=Math.ceil((m[0]+(p?x/2:0))/x),m[1]=Math.ceil(m[1]/o),m[0]=Math.min(Math.max(m[0],1),w+(p?1:0)),m[1]=Math.min(Math.max(m[1],1),k),m):void 0}},9504:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.moveToCellSequence=void 0;const b=h(2584);function C(o,p,m,u){const y=o-f(o,m),M=p-f(p,m);return x(Math.abs(y-M)-function(B,v,I){let U=0;const ae=B-f(B,I),ne=v-f(v,I);for(let he=0;he<Math.abs(ae-ne);he++){const je="A"===w(B,v)?-1:1,Ze=I.buffer.lines.get(ae+je*he);Ze?.isWrapped&&U++}return U}(o,p,m),S(w(o,p),u))}function f(o,p){let m=0,u=p.buffer.lines.get(o),y=u?.isWrapped;for(;y&&o>=0&&o<p.rows;)m++,u=p.buffer.lines.get(--o),y=u?.isWrapped;return m}function w(o,p){return o>p?"A":"B"}function k(o,p,m,u,y,M){let P=o,B=p,v="";for(;P!==m||B!==u;)P+=y?1:-1,y&&P>M.cols-1?(v+=M.buffer.translateBufferLineToString(B,!1,o,P),P=0,o=0,B++):!y&&P<0&&(v+=M.buffer.translateBufferLineToString(B,!1,0,o+1),P=M.cols-1,o=P,B--);return v+M.buffer.translateBufferLineToString(B,!1,o,P)}function S(o,p){return b.C0.ESC+(p?"O":"[")+o}function x(o,p){o=Math.floor(o);let m="";for(let u=0;u<o;u++)m+=p;return m}d.moveToCellSequence=function(o,p,m,u){const y=m.buffer.x,M=m.buffer.y;if(!m.buffer.hasScrollback)return v=y,(0===C(I=M,p,ne=m,he=u).length?"":x(k(v,I,v,I-f(I,ne),!1,ne).length,S("D",he)))+C(M,p,m,u)+function(v,I,U,ae,ne,he){let je;je=C(I,ae,ne,he).length>0?ae-f(ae,ne):I;const Ze=ae,$e=function(Q,de,xe,we,Xe,rt){let Me;return Me=C(xe,we,Xe,rt).length>0?we-f(we,Xe):de,Q<xe&&Me<=we||Q>=xe&&Me<we?"C":"D"}(v,I,U,ae,ne,he);return x(k(v,je,U,Ze,"C"===$e,ne).length,S($e,he))}(y,M,o,p,m,u);var v,I,ne,he;let P;if(M===p)return P=y>o?"D":"C",x(Math.abs(y-o),S(P,u));P=M>p?"D":"C";const B=Math.abs(M-p);return x(function(v,I){return I.cols-v}(M>p?o:y,m)+(B-1)*m.cols+1+((M>p?y:o)-1),S(P,u))}},1296:function(E,d,h){var b=this&&this.__decorate||function(B,v,I,U){var ae,ne=arguments.length,he=ne<3?v:null===U?U=Object.getOwnPropertyDescriptor(v,I):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(B,v,I,U);else for(var je=B.length-1;je>=0;je--)(ae=B[je])&&(he=(ne<3?ae(he):ne>3?ae(v,I,he):ae(v,I))||he);return ne>3&&he&&Object.defineProperty(v,I,he),he},C=this&&this.__param||function(B,v){return function(I,U){v(I,U,B)}};Object.defineProperty(d,"__esModule",{value:!0}),d.DomRenderer=void 0;const f=h(3787),w=h(2223),k=h(6171),S=h(4725),x=h(8055),o=h(8460),p=h(844),m=h(2585),u="xterm-dom-renderer-owner-",y="xterm-focus";let M=1,P=class extends p.Disposable{constructor(B,v,I,U,ae,ne,he,je,Ze,$e){super(),this._element=B,this._screenElement=v,this._viewportElement=I,this._linkifier2=U,this._charSizeService=ne,this._optionsService=he,this._bufferService=je,this._coreBrowserService=Ze,this._themeService=$e,this._terminalClass=M++,this._rowElements=[],this._cellToRowElements=[],this.onRequestRedraw=this.register(new o.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add("xterm-rows"),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add("xterm-selection"),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Q=>this._injectCss(Q))),this._injectCss(this._themeService.colors),this._rowFactory=ae.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(u+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Q=>this._handleLinkHover(Q))),this.register(this._linkifier2.onHideLinkUnderline(Q=>this._handleLinkLeave(Q))),this.register((0,p.toDisposable)(()=>{this._element.classList.remove(u+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))}_updateDimensions(){const B=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*B,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*B),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/B),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/B),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const I of this._rowElements)I.style.width=`${this.dimensions.css.canvas.width}px`,I.style.height=`${this.dimensions.css.cell.height}px`,I.style.lineHeight=`${this.dimensions.css.cell.height}px`,I.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement)),this._dimensionsStyleElement.textContent=`${this._terminalSelector} .xterm-rows span { display: inline-block; height: 100%; vertical-align: top; width: ${this.dimensions.css.cell.width}px}`,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(B){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let v=`${this._terminalSelector} .xterm-rows { color: ${B.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px;}`;v+=`${this._terminalSelector} .xterm-rows .xterm-dim { color: ${x.color.multiplyOpacity(B.foreground,.5).css};}`,v+=`${this._terminalSelector} span:not(.${f.BOLD_CLASS}) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.${f.BOLD_CLASS} { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.${f.ITALIC_CLASS} { font-style: italic;}`,v+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  box-shadow: none; }}",v+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${B.cursor.css};  color: ${B.cursorAccent.css}; } 50% {  background-color: ${B.cursorAccent.css};  color: ${B.cursor.css}; }}`,v+=`${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BAR_CLASS} ,${this._terminalSelector} .xterm-rows:not(.xterm-focus) .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_UNDERLINE_CLASS} { outline: 1px solid ${B.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}:not(.${f.CURSOR_STYLE_BLOCK_CLASS}) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_BLINK_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .xterm-rows.xterm-focus .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BLOCK_CLASS} { background-color: ${B.cursor.css}; color: ${B.cursorAccent.css};}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_BAR_CLASS} { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${B.cursor.css} inset;}${this._terminalSelector} .xterm-rows .${f.CURSOR_CLASS}.${f.CURSOR_STYLE_UNDERLINE_CLASS} { box-shadow: 0 -1px 0 ${B.cursor.css} inset;}`,v+=`${this._terminalSelector} .xterm-selection { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .xterm-selection div { position: absolute; background-color: ${B.selectionBackgroundOpaque.css};}${this._terminalSelector} .xterm-selection div { position: absolute; background-color: ${B.selectionInactiveBackgroundOpaque.css};}`;for(const[I,U]of B.ansi.entries())v+=`${this._terminalSelector} .xterm-fg-${I} { color: ${U.css}; }${this._terminalSelector} .xterm-fg-${I}.${f.DIM_CLASS} { color: ${x.color.multiplyOpacity(U,.5).css}; }${this._terminalSelector} .xterm-bg-${I} { background-color: ${U.css}; }`;v+=`${this._terminalSelector} .xterm-fg-${w.INVERTED_DEFAULT_COLOR} { color: ${x.color.opaque(B.background).css}; }${this._terminalSelector} .xterm-fg-${w.INVERTED_DEFAULT_COLOR}.${f.DIM_CLASS} { color: ${x.color.multiplyOpacity(x.color.opaque(B.background),.5).css}; }${this._terminalSelector} .xterm-bg-${w.INVERTED_DEFAULT_COLOR} { background-color: ${B.foreground.css}; }`,this._themeStyleElement.textContent=v}handleDevicePixelRatioChange(){this._updateDimensions()}_refreshRowElements(B,v){for(let I=this._rowElements.length;I<=v;I++){const U=document.createElement("div");this._rowContainer.appendChild(U),this._rowElements.push(U)}for(;this._rowElements.length>v;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(B,v){this._refreshRowElements(B,v),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions()}handleBlur(){this._rowContainer.classList.remove(y)}handleFocus(){this._rowContainer.classList.add(y)}handleSelectionChanged(B,v,I){for(;this._selectionContainer.children.length;)this._selectionContainer.removeChild(this._selectionContainer.children[0]);if(this._rowFactory.handleSelectionChanged(B,v,I),this.renderRows(0,this._bufferService.rows-1),!B||!v)return;const U=B[1]-this._bufferService.buffer.ydisp,ae=v[1]-this._bufferService.buffer.ydisp,ne=Math.max(U,0),he=Math.min(ae,this._bufferService.rows-1);if(ne>=this._bufferService.rows||he<0)return;const je=document.createDocumentFragment();if(I){const Ze=B[0]>v[0];je.appendChild(this._createSelectionElement(ne,Ze?v[0]:B[0],Ze?B[0]:v[0],he-ne+1))}else je.appendChild(this._createSelectionElement(ne,U===ne?B[0]:0,ne===ae?v[0]:this._bufferService.cols)),je.appendChild(this._createSelectionElement(ne+1,0,this._bufferService.cols,he-ne-1)),ne!==he&&je.appendChild(this._createSelectionElement(he,0,ae===he?v[0]:this._bufferService.cols));this._selectionContainer.appendChild(je)}_createSelectionElement(B,v,I,U=1){const ae=document.createElement("div");return ae.style.height=U*this.dimensions.css.cell.height+"px",ae.style.top=B*this.dimensions.css.cell.height+"px",ae.style.left=v*this.dimensions.css.cell.width+"px",ae.style.width=this.dimensions.css.cell.width*(I-v)+"px",ae}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors)}clear(){for(const B of this._rowElements)B.replaceChildren()}renderRows(B,v){const I=this._bufferService.buffer.ybase+this._bufferService.buffer.y,U=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),ae=this._optionsService.rawOptions.cursorBlink;for(let ne=B;ne<=v;ne++){const he=this._rowElements[ne],je=ne+this._bufferService.buffer.ydisp,Ze=this._bufferService.buffer.lines.get(je),$e=this._optionsService.rawOptions.cursorStyle;this._cellToRowElements[ne]&&this._cellToRowElements[ne].length===this._bufferService.cols||(this._cellToRowElements[ne]=new Int16Array(this._bufferService.cols)),he.replaceChildren(this._rowFactory.createRow(Ze,je,je===I,$e,U,ae,this.dimensions.css.cell.width,this._bufferService.cols,this._cellToRowElements[ne]))}}get _terminalSelector(){return`.${u}${this._terminalClass}`}_handleLinkHover(B){this._setCellUnderline(B.x1,B.x2,B.y1,B.y2,B.cols,!0)}_handleLinkLeave(B){this._setCellUnderline(B.x1,B.x2,B.y1,B.y2,B.cols,!1)}_setCellUnderline(B,v,I,U,ae,ne){I<0&&(B=0),U<0&&(v=0);const he=this._cellToRowElements.length-1;I=Math.max(Math.min(I,he),0),U=Math.max(Math.min(U,he),0);const je=this._cellToRowElements[I],Ze=this._cellToRowElements[U];if(!(B>=je.length||v>=Ze.length)&&(v=Ze[v],-1!==(B=je[B])&&-1!==v))for(;B!==v||I!==U;){const $e=this._rowElements[I];if(!$e)return;const Q=$e.children[B];Q&&(Q.style.textDecoration=ne?"underline":"none"),++B>=ae&&(B=0,I++)}}};P=b([C(4,m.IInstantiationService),C(5,S.ICharSizeService),C(6,m.IOptionsService),C(7,m.IBufferService),C(8,S.ICoreBrowserService),C(9,S.IThemeService)],P),d.DomRenderer=P},3787:function(E,d,h){var b=this&&this.__decorate||function(P,B,v,I){var U,ae=arguments.length,ne=ae<3?B:null===I?I=Object.getOwnPropertyDescriptor(B,v):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(P,B,v,I);else for(var he=P.length-1;he>=0;he--)(U=P[he])&&(ne=(ae<3?U(ne):ae>3?U(B,v,ne):U(B,v))||ne);return ae>3&&ne&&Object.defineProperty(B,v,ne),ne},C=this&&this.__param||function(P,B){return function(v,I){B(v,I,P)}};Object.defineProperty(d,"__esModule",{value:!0}),d.DomRendererRowFactory=d.CURSOR_STYLE_UNDERLINE_CLASS=d.CURSOR_STYLE_BAR_CLASS=d.CURSOR_STYLE_BLOCK_CLASS=d.CURSOR_BLINK_CLASS=d.CURSOR_CLASS=d.STRIKETHROUGH_CLASS=d.OVERLINE_CLASS=d.UNDERLINE_CLASS=d.ITALIC_CLASS=d.DIM_CLASS=d.BOLD_CLASS=void 0;const f=h(2223),w=h(643),k=h(511),S=h(2585),x=h(8055),o=h(4725),p=h(4269),m=h(6171),u=h(3734);d.BOLD_CLASS="xterm-bold",d.DIM_CLASS="xterm-dim",d.ITALIC_CLASS="xterm-italic",d.UNDERLINE_CLASS="xterm-underline",d.OVERLINE_CLASS="xterm-overline",d.STRIKETHROUGH_CLASS="xterm-strikethrough",d.CURSOR_CLASS="xterm-cursor",d.CURSOR_BLINK_CLASS="xterm-cursor-blink",d.CURSOR_STYLE_BLOCK_CLASS="xterm-cursor-block",d.CURSOR_STYLE_BAR_CLASS="xterm-cursor-bar",d.CURSOR_STYLE_UNDERLINE_CLASS="xterm-cursor-underline";let y=class{constructor(P,B,v,I,U,ae,ne){this._document=P,this._characterJoinerService=B,this._optionsService=v,this._coreBrowserService=I,this._coreService=U,this._decorationService=ae,this._themeService=ne,this._workCell=new k.CellData,this._columnSelectMode=!1}handleSelectionChanged(P,B,v){this._selectionStart=P,this._selectionEnd=B,this._columnSelectMode=v}createRow(P,B,v,I,U,ae,ne,he,je){const Ze=this._document.createDocumentFragment(),$e=this._characterJoinerService.getJoinedCharacters(B);let Q=0;for(let Xe=Math.min(P.length,he)-1;Xe>=0;Xe--)if(P.loadCell(Xe,this._workCell).getCode()!==w.NULL_CELL_CODE||v&&Xe===U){Q=Xe+1;break}const de=this._themeService.colors;let xe=-1,we=0;for(;we<Q;we++){P.loadCell(we,this._workCell);let Xe=this._workCell.getWidth();if(0===Xe){je[we]=xe;continue}let rt=!1,Me=we,_e=this._workCell;if($e.length>0&&we===$e[0][0]){rt=!0;const Pe=$e.shift();_e=new p.JoinedCellData(this._workCell,P.translateToString(!0,Pe[0],Pe[1]),Pe[1]-Pe[0]),Me=Pe[1]-1,Xe=_e.getWidth()}const ge=this._document.createElement("span");if(Xe>1&&(ge.style.width=ne*Xe+"px"),rt&&(ge.style.display="inline",U>=we&&U<=Me&&(U=we)),!this._coreService.isCursorHidden&&v&&we===U)switch(ge.classList.add(d.CURSOR_CLASS),ae&&ge.classList.add(d.CURSOR_BLINK_CLASS),I){case"bar":ge.classList.add(d.CURSOR_STYLE_BAR_CLASS);break;case"underline":ge.classList.add(d.CURSOR_STYLE_UNDERLINE_CLASS);break;default:ge.classList.add(d.CURSOR_STYLE_BLOCK_CLASS)}if(_e.isBold()&&ge.classList.add(d.BOLD_CLASS),_e.isItalic()&&ge.classList.add(d.ITALIC_CLASS),_e.isDim()&&ge.classList.add(d.DIM_CLASS),ge.textContent=_e.isInvisible()?w.WHITESPACE_CELL_CHAR:_e.getChars()||w.WHITESPACE_CELL_CHAR,_e.isUnderline()&&(ge.classList.add(`${d.UNDERLINE_CLASS}-${_e.extended.underlineStyle}`)," "===ge.textContent&&(ge.textContent="\xa0"),!_e.isUnderlineColorDefault()))if(_e.isUnderlineColorRGB())ge.style.textDecorationColor=`rgb(${u.AttributeData.toColorRGB(_e.getUnderlineColor()).join(",")})`;else{let Pe=_e.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&_e.isBold()&&Pe<8&&(Pe+=8),ge.style.textDecorationColor=de.ansi[Pe].css}_e.isOverline()&&(ge.classList.add(d.OVERLINE_CLASS)," "===ge.textContent&&(ge.textContent="\xa0")),_e.isStrikethrough()&&ge.classList.add(d.STRIKETHROUGH_CLASS);let G=_e.getFgColor(),ee=_e.getFgColorMode(),z=_e.getBgColor(),ye=_e.getBgColorMode();const Ge=!!_e.isInverse();if(Ge){const Pe=G;G=z,z=Pe;const at=ee;ee=ye,ye=at}let Se,re,Ve=!1;this._decorationService.forEachDecorationAtCell(we,B,void 0,Pe=>{"top"!==Pe.options.layer&&Ve||(Pe.backgroundColorRGB&&(ye=50331648,z=Pe.backgroundColorRGB.rgba>>8&16777215,Se=Pe.backgroundColorRGB),Pe.foregroundColorRGB&&(ee=50331648,G=Pe.foregroundColorRGB.rgba>>8&16777215,re=Pe.foregroundColorRGB),Ve="top"===Pe.options.layer)});const He=this._isCellInSelection(we,B);let oe;switch(Ve||de.selectionForeground&&He&&(ee=50331648,G=de.selectionForeground.rgba>>8&16777215,re=de.selectionForeground),He&&(Se=this._coreBrowserService.isFocused?de.selectionBackgroundOpaque:de.selectionInactiveBackgroundOpaque,Ve=!0),Ve&&ge.classList.add("xterm-decoration-top"),ye){case 16777216:case 33554432:oe=de.ansi[z],ge.classList.add(`xterm-bg-${z}`);break;case 50331648:oe=x.rgba.toColor(z>>16,z>>8&255,255&z),this._addStyle(ge,`background-color:#${M((z>>>0).toString(16),"0",6)}`);break;default:Ge?(oe=de.foreground,ge.classList.add(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):oe=de.background}switch(Se||_e.isDim()&&(Se=x.color.multiplyOpacity(oe,.5)),ee){case 16777216:case 33554432:_e.isBold()&&G<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(G+=8),this._applyMinimumContrast(ge,oe,de.ansi[G],_e,Se,void 0)||ge.classList.add(`xterm-fg-${G}`);break;case 50331648:const Pe=x.rgba.toColor(G>>16&255,G>>8&255,255&G);this._applyMinimumContrast(ge,oe,Pe,_e,Se,re)||this._addStyle(ge,`color:#${M(G.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(ge,oe,de.foreground,_e,Se,void 0)||Ge&&ge.classList.add(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}Ze.appendChild(ge),je[we]=++xe,we=Me}return we<he-1&&je.subarray(we).fill(++xe),Ze}_applyMinimumContrast(P,B,v,I,U,ae){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,m.excludeFromContrastRatioDemands)(I.getCode()))return!1;let ne;return U||ae||(ne=this._themeService.colors.contrastCache.getColor(B.rgba,v.rgba)),void 0===ne&&(ne=x.color.ensureContrastRatio(U||B,ae||v,this._optionsService.rawOptions.minimumContrastRatio),this._themeService.colors.contrastCache.setColor((U||B).rgba,(ae||v).rgba,ne??null)),!!ne&&(this._addStyle(P,`color:${ne.css}`),!0)}_addStyle(P,B){P.setAttribute("style",`${P.getAttribute("style")||""}${B};`)}_isCellInSelection(P,B){const v=this._selectionStart,I=this._selectionEnd;return!(!v||!I)&&(this._columnSelectMode?v[0]<=I[0]?P>=v[0]&&B>=v[1]&&P<I[0]&&B<=I[1]:P<v[0]&&B>=v[1]&&P>=I[0]&&B<=I[1]:B>v[1]&&B<I[1]||v[1]===I[1]&&B===v[1]&&P>=v[0]&&P<I[0]||v[1]<I[1]&&B===I[1]&&P<I[0]||v[1]<I[1]&&B===v[1]&&P>=v[0])}};function M(P,B,v){for(;P.length<v;)P=B+P;return P}y=b([C(1,o.ICharacterJoinerService),C(2,S.IOptionsService),C(3,o.ICoreBrowserService),C(4,S.ICoreService),C(5,S.IDecorationService),C(6,o.IThemeService)],y),d.DomRendererRowFactory=y},2223:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TEXT_BASELINE=d.DIM_OPACITY=d.INVERTED_DEFAULT_COLOR=void 0;const b=h(6114);d.INVERTED_DEFAULT_COLOR=257,d.DIM_OPACITY=.5,d.TEXT_BASELINE=b.isFirefox||b.isLegacyEdge?"bottom":"ideographic"},6171:(E,d)=>{function h(b){return 57508<=b&&b<=57558}Object.defineProperty(d,"__esModule",{value:!0}),d.createRenderDimensions=d.excludeFromContrastRatioDemands=d.isRestrictedPowerlineGlyph=d.isPowerlineGlyph=d.throwIfFalsy=void 0,d.throwIfFalsy=function(b){if(!b)throw new Error("value must not be falsy");return b},d.isPowerlineGlyph=h,d.isRestrictedPowerlineGlyph=function(b){return 57520<=b&&b<=57527},d.excludeFromContrastRatioDemands=function(b){return h(b)||9472<=(C=b)&&C<=9631;var C},d.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SelectionModel=void 0,d.SelectionModel=class{constructor(h){this._bufferService=h,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?h%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)-1]:[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[h,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const h=this.selectionStart[0]+this.selectionStartLength;return h>this._bufferService.cols?[h%this._bufferService.cols,this.selectionStart[1]+Math.floor(h/this._bufferService.cols)]:[Math.max(h,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const h=this.selectionStart,b=this.selectionEnd;return!(!h||!b)&&(h[1]>b[1]||h[1]===b[1]&&h[0]>b[0])}handleTrim(h){return this.selectionStart&&(this.selectionStart[1]-=h),this.selectionEnd&&(this.selectionEnd[1]-=h),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(E,d,h){var b=this&&this.__decorate||function(o,p,m,u){var y,M=arguments.length,P=M<3?p:null===u?u=Object.getOwnPropertyDescriptor(p,m):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(o,p,m,u);else for(var B=o.length-1;B>=0;B--)(y=o[B])&&(P=(M<3?y(P):M>3?y(p,m,P):y(p,m))||P);return M>3&&P&&Object.defineProperty(p,m,P),P},C=this&&this.__param||function(o,p){return function(m,u){p(m,u,o)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CharSizeService=void 0;const f=h(2585),w=h(8460),k=h(844);let S=class extends k.Disposable{constructor(o,p,m){super(),this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=this.register(new w.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(o,p,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}get hasValidSize(){return this.width>0&&this.height>0}measure(){const o=this._measureStrategy.measure();o.width===this.width&&o.height===this.height||(this.width=o.width,this.height=o.height,this._onCharSizeChange.fire())}};S=b([C(2,f.IOptionsService)],S),d.CharSizeService=S;class x{constructor(p,m,u){this._document=p,this._parentElement=m,this._optionsService=u,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W",this._measureElement.setAttribute("aria-hidden","true"),this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const p=this._measureElement.getBoundingClientRect();return 0!==p.width&&0!==p.height&&(this._result.width=p.width,this._result.height=Math.ceil(p.height)),this._result}}},4269:function(E,d,h){var b=this&&this.__decorate||function(p,m,u,y){var M,P=arguments.length,B=P<3?m:null===y?y=Object.getOwnPropertyDescriptor(m,u):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(p,m,u,y);else for(var v=p.length-1;v>=0;v--)(M=p[v])&&(B=(P<3?M(B):P>3?M(m,u,B):M(m,u))||B);return P>3&&B&&Object.defineProperty(m,u,B),B},C=this&&this.__param||function(p,m){return function(u,y){m(u,y,p)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CharacterJoinerService=d.JoinedCellData=void 0;const f=h(3734),w=h(643),k=h(511),S=h(2585);d.JoinedCellData=class x extends f.AttributeData{constructor(m,u,y){super(),this.content=0,this.combinedData="",this.fg=m.fg,this.bg=m.bg,this.combinedData=u,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(m){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}};let o=class uo{constructor(m){this._bufferService=m,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new k.CellData}register(m){const u={id:this._nextCharacterJoinerId++,handler:m};return this._characterJoiners.push(u),u.id}deregister(m){for(let u=0;u<this._characterJoiners.length;u++)if(this._characterJoiners[u].id===m)return this._characterJoiners.splice(u,1),!0;return!1}getJoinedCharacters(m){if(0===this._characterJoiners.length)return[];const u=this._bufferService.buffer.lines.get(m);if(!u||0===u.length)return[];const y=[],M=u.translateToString(!0);let P=0,B=0,v=0,I=u.getFg(0),U=u.getBg(0);for(let ae=0;ae<u.getTrimmedLength();ae++)if(u.loadCell(ae,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==I||this._workCell.bg!==U){if(ae-P>1){const ne=this._getJoinedRanges(M,v,B,u,P);for(let he=0;he<ne.length;he++)y.push(ne[he])}P=ae,v=B,I=this._workCell.fg,U=this._workCell.bg}B+=this._workCell.getChars().length||w.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-P>1){const ae=this._getJoinedRanges(M,v,B,u,P);for(let ne=0;ne<ae.length;ne++)y.push(ae[ne])}return y}_getJoinedRanges(m,u,y,M,P){const B=m.substring(u,y);let v=[];try{v=this._characterJoiners[0].handler(B)}catch(I){console.error(I)}for(let I=1;I<this._characterJoiners.length;I++)try{const U=this._characterJoiners[I].handler(B);for(let ae=0;ae<U.length;ae++)uo._mergeRanges(v,U[ae])}catch(U){console.error(U)}return this._stringRangesToCellRanges(v,M,P),v}_stringRangesToCellRanges(m,u,y){let M=0,P=!1,B=0,v=m[M];if(v){for(let I=y;I<this._bufferService.cols;I++){const U=u.getWidth(I),ae=u.getString(I).length||w.WHITESPACE_CELL_CHAR.length;if(0!==U){if(!P&&v[0]<=B&&(v[0]=I,P=!0),v[1]<=B){if(v[1]=I,v=m[++M],!v)break;v[0]<=B?(v[0]=I,P=!0):P=!1}B+=ae}}v&&(v[1]=this._bufferService.cols)}}static _mergeRanges(m,u){let y=!1;for(let M=0;M<m.length;M++){const P=m[M];if(y){if(u[1]<=P[0])return m[M-1][1]=u[1],m;if(u[1]<=P[1])return m[M-1][1]=Math.max(u[1],P[1]),m.splice(M,1),m;m.splice(M,1),M--}else{if(u[1]<=P[0])return m.splice(M,0,u),m;if(u[1]<=P[1])return P[0]=Math.min(u[0],P[0]),m;u[0]<P[1]&&(P[0]=Math.min(u[0],P[0]),y=!0)}}return y?m[m.length-1][1]=u[1]:m.push(u),m}};o=b([C(0,S.IBufferService)],o),d.CharacterJoinerService=o},5114:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CoreBrowserService=void 0,d.CoreBrowserService=class{constructor(h,b){this._textarea=h,this.window=b,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(E,d,h){var b=this&&this.__decorate||function(S,x,o,p){var m,u=arguments.length,y=u<3?x:null===p?p=Object.getOwnPropertyDescriptor(x,o):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(S,x,o,p);else for(var M=S.length-1;M>=0;M--)(m=S[M])&&(y=(u<3?m(y):u>3?m(x,o,y):m(x,o))||y);return u>3&&y&&Object.defineProperty(x,o,y),y},C=this&&this.__param||function(S,x){return function(o,p){x(o,p,S)}};Object.defineProperty(d,"__esModule",{value:!0}),d.MouseService=void 0;const f=h(4725),w=h(9806);let k=class{constructor(S,x){this._renderService=S,this._charSizeService=x}getCoords(S,x,o,p,m){return(0,w.getCoords)(window,S,x,o,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,m)}getMouseReportCoords(S,x){const o=(0,w.getCoordsRelativeToElement)(window,S,x);if(!(!this._charSizeService.hasValidSize||o[0]<0||o[1]<0||o[0]>=this._renderService.dimensions.css.canvas.width||o[1]>=this._renderService.dimensions.css.canvas.height))return{col:Math.floor(o[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(o[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(o[0]),y:Math.floor(o[1])}}};k=b([C(0,f.IRenderService),C(1,f.ICharSizeService)],k),d.MouseService=k},3230:function(E,d,h){var b=this&&this.__decorate||function(y,M,P,B){var v,I=arguments.length,U=I<3?M:null===B?B=Object.getOwnPropertyDescriptor(M,P):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(y,M,P,B);else for(var ae=y.length-1;ae>=0;ae--)(v=y[ae])&&(U=(I<3?v(U):I>3?v(M,P,U):v(M,P))||U);return I>3&&U&&Object.defineProperty(M,P,U),U},C=this&&this.__param||function(y,M){return function(P,B){M(P,B,y)}};Object.defineProperty(d,"__esModule",{value:!0}),d.RenderService=void 0;const f=h(6193),w=h(8460),k=h(844),S=h(5596),x=h(3656),o=h(2585),p=h(4725),m=h(7226);let u=class extends k.Disposable{constructor(y,M,P,B,v,I,U,ae){if(super(),this._rowCount=y,this._charSizeService=B,this._pausedResizeTask=new m.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new w.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new w.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new w.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new w.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this.register({dispose:()=>{var ne;return null===(ne=this._renderer)||void 0===ne?void 0:ne.dispose()}}),this._renderDebouncer=new f.RenderDebouncer(U.window,(ne,he)=>this._renderRows(ne,he)),this.register(this._renderDebouncer),this._screenDprMonitor=new S.ScreenDprMonitor(U.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(I.onResize(()=>this._fullRefresh())),this.register(I.buffers.onBufferActivate(()=>{var ne;return null===(ne=this._renderer)||void 0===ne?void 0:ne.clear()})),this.register(P.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(v.onDecorationRegistered(()=>this._fullRefresh())),this.register(v.onDecorationRemoved(()=>this._fullRefresh())),this.register(P.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(I.cols,I.rows),this._fullRefresh()})),this.register(P.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(I.buffer.y,I.buffer.y,!0))),this.register((0,x.addDisposableDomListener)(U.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(ae.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in U.window){const ne=new U.window.IntersectionObserver(he=>this._handleIntersectionChange(he[he.length-1]),{threshold:0});ne.observe(M),this.register({dispose:()=>ne.disconnect()})}}get dimensions(){return this._renderer.dimensions}_handleIntersectionChange(y){this._isPaused=void 0===y.isIntersecting?0===y.intersectionRatio:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,M,P=!1){this._isPaused?this._needsFullRefresh=!0:(P||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,M,this._rowCount))}_renderRows(y,M){this._renderer&&(y=Math.min(y,this._rowCount-1),M=Math.min(M,this._rowCount-1),this._renderer.renderRows(y,M),this._needsSelectionRefresh&&(this._renderer.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:M}),this._onRender.fire({start:y,end:M}),this._isNextRenderRedrawOnly=!0)}resize(y,M){this._rowCount=M,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer&&(this._renderer.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.dimensions))}hasRenderer(){return!!this._renderer}setRenderer(y){var M;null===(M=this._renderer)||void 0===M||M.dispose(),this._renderer=y,this._renderer.onRequestRedraw(P=>this.refreshRows(P.start,P.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var y,M;this._renderer&&(null===(M=(y=this._renderer).clearTextureAtlas)||void 0===M||M.call(y),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer&&(this._renderer.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,M){this._renderer&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.handleResize(y,M)):this._renderer.handleResize(y,M),this._fullRefresh())}handleCharSizeChanged(){var y;null===(y=this._renderer)||void 0===y||y.handleCharSizeChanged()}handleBlur(){var y;null===(y=this._renderer)||void 0===y||y.handleBlur()}handleFocus(){var y;null===(y=this._renderer)||void 0===y||y.handleFocus()}handleSelectionChanged(y,M,P){var B;this._selectionState.start=y,this._selectionState.end=M,this._selectionState.columnSelectMode=P,null===(B=this._renderer)||void 0===B||B.handleSelectionChanged(y,M,P)}handleCursorMove(){var y;null===(y=this._renderer)||void 0===y||y.handleCursorMove()}clear(){var y;null===(y=this._renderer)||void 0===y||y.clear()}};u=b([C(2,o.IOptionsService),C(3,p.ICharSizeService),C(4,o.IDecorationService),C(5,o.IBufferService),C(6,p.ICoreBrowserService),C(7,p.IThemeService)],u),d.RenderService=u},9312:function(E,d,h){var b=this&&this.__decorate||function(v,I,U,ae){var ne,he=arguments.length,je=he<3?I:null===ae?ae=Object.getOwnPropertyDescriptor(I,U):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(v,I,U,ae);else for(var Ze=v.length-1;Ze>=0;Ze--)(ne=v[Ze])&&(je=(he<3?ne(je):he>3?ne(I,U,je):ne(I,U))||je);return he>3&&je&&Object.defineProperty(I,U,je),je},C=this&&this.__param||function(v,I){return function(U,ae){I(U,ae,v)}};Object.defineProperty(d,"__esModule",{value:!0}),d.SelectionService=void 0;const f=h(6114),w=h(456),k=h(511),S=h(8460),x=h(4725),o=h(2585),p=h(9806),m=h(9504),u=h(844),y=h(4841),M=String.fromCharCode(160),P=new RegExp(M,"g");let B=class extends u.Disposable{constructor(v,I,U,ae,ne,he,je,Ze,$e){super(),this._element=v,this._screenElement=I,this._linkifier=U,this._bufferService=ae,this._coreService=ne,this._mouseService=he,this._optionsService=je,this._renderService=Ze,this._coreBrowserService=$e,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new k.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new S.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new S.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=Q=>this._handleMouseMove(Q),this._mouseUpListener=Q=>this._handleMouseUp(Q),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(Q=>this._handleTrim(Q)),this.register(this._bufferService.buffers.onBufferActivate(Q=>this._handleBufferActivate(Q))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const v=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!(!v||!I||v[0]===I[0]&&v[1]===I[1])}get selectionText(){const v=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;if(!v||!I)return"";const U=this._bufferService.buffer,ae=[];if(3===this._activeSelectionMode){if(v[0]===I[0])return"";const ne=v[0]<I[0]?v[0]:I[0],he=v[0]<I[0]?I[0]:v[0];for(let je=v[1];je<=I[1];je++){const Ze=U.translateBufferLineToString(je,!0,ne,he);ae.push(Ze)}}else{ae.push(U.translateBufferLineToString(v[1],!0,v[0],v[1]===I[1]?I[0]:void 0));for(let he=v[1]+1;he<=I[1]-1;he++){const je=U.lines.get(he),Ze=U.translateBufferLineToString(he,!0);je?.isWrapped?ae[ae.length-1]+=Ze:ae.push(Ze)}if(v[1]!==I[1]){const he=U.lines.get(I[1]),je=U.translateBufferLineToString(I[1],!0,0,I[0]);he&&he.isWrapped?ae[ae.length-1]+=je:ae.push(je)}}return ae.map(ne=>ne.replace(P," ")).join(f.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(v){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),f.isLinux&&v&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(v){const I=this._getMouseBufferCoords(v),U=this._model.finalSelectionStart,ae=this._model.finalSelectionEnd;return!!(U&&ae&&I)&&this._areCoordsInSelection(I,U,ae)}isCellInSelection(v,I){const U=this._model.finalSelectionStart,ae=this._model.finalSelectionEnd;return!(!U||!ae)&&this._areCoordsInSelection([v,I],U,ae)}_areCoordsInSelection(v,I,U){return v[1]>I[1]&&v[1]<U[1]||I[1]===U[1]&&v[1]===I[1]&&v[0]>=I[0]&&v[0]<U[0]||I[1]<U[1]&&v[1]===U[1]&&v[0]<U[0]||I[1]<U[1]&&v[1]===I[1]&&v[0]>=I[0]}_selectWordAtCursor(v,I){var U,ae;const ne=null===(ae=null===(U=this._linkifier.currentLink)||void 0===U?void 0:U.link)||void 0===ae?void 0:ae.range;if(ne)return this._model.selectionStart=[ne.start.x-1,ne.start.y-1],this._model.selectionStartLength=(0,y.getRangeLength)(ne,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const he=this._getMouseBufferCoords(v);return!!he&&(this._selectWordAt(he,I),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(v,I){this._model.clearSelection(),v=Math.max(v,0),I=Math.min(I,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,v],this._model.selectionEnd=[this._bufferService.cols,I],this.refresh(),this._onSelectionChange.fire()}_handleTrim(v){this._model.handleTrim(v)&&this.refresh()}_getMouseBufferCoords(v){const I=this._mouseService.getCoords(v,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(I)return I[0]--,I[1]--,I[1]+=this._bufferService.buffer.ydisp,I}_getMouseEventScrollAmount(v){let I=(0,p.getCoordsRelativeToElement)(this._coreBrowserService.window,v,this._screenElement)[1];const U=this._renderService.dimensions.css.canvas.height;return I>=0&&I<=U?0:(I>U&&(I-=U),I=Math.min(Math.max(I,-50),50),I/=50,I/Math.abs(I)+Math.round(14*I))}shouldForceSelection(v){return f.isMac?v.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:v.shiftKey}handleMouseDown(v){if(this._mouseDownTimeStamp=v.timeStamp,(2!==v.button||!this.hasSelection)&&0===v.button){if(!this._enabled){if(!this.shouldForceSelection(v))return;v.stopPropagation()}v.preventDefault(),this._dragScrollAmount=0,this._enabled&&v.shiftKey?this._handleIncrementalClick(v):1===v.detail?this._handleSingleClick(v):2===v.detail?this._handleDoubleClick(v):3===v.detail&&this._handleTripleClick(v),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(v){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(v))}_handleSingleClick(v){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(v)?3:0,this._model.selectionStart=this._getMouseBufferCoords(v),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const I=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);I&&I.length!==this._model.selectionStart[0]&&0===I.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(v){this._selectWordAtCursor(v,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(v){const I=this._getMouseBufferCoords(v);I&&(this._activeSelectionMode=2,this._selectLineAt(I[1]))}shouldColumnSelect(v){return v.altKey&&!(f.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(v){if(v.stopImmediatePropagation(),!this._model.selectionStart)return;const I=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(v),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[0]=this._model.selectionEnd[1]<this._model.selectionStart[1]?0:this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(v),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const U=this._bufferService.buffer;if(this._model.selectionEnd[1]<U.lines.length){const ae=U.lines.get(this._model.selectionEnd[1]);ae&&0===ae.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}I&&I[0]===this._model.selectionEnd[0]&&I[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const v=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(v.ydisp+this._bufferService.rows,v.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=v.ydisp),this.refresh()}}_handleMouseUp(v){const I=v.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&I<500&&v.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const U=this._mouseService.getCoords(v,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(U&&void 0!==U[0]&&void 0!==U[1]){const ae=(0,m.moveToCellSequence)(U[0]-1,U[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(ae,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const v=this._model.finalSelectionStart,I=this._model.finalSelectionEnd,U=!(!v||!I||v[0]===I[0]&&v[1]===I[1]);U?v&&I&&(this._oldSelectionStart&&this._oldSelectionEnd&&v[0]===this._oldSelectionStart[0]&&v[1]===this._oldSelectionStart[1]&&I[0]===this._oldSelectionEnd[0]&&I[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(v,I,U)):this._oldHasSelection&&this._fireOnSelectionChange(v,I,U)}_fireOnSelectionChange(v,I,U){this._oldSelectionStart=v,this._oldSelectionEnd=I,this._oldHasSelection=U,this._onSelectionChange.fire()}_handleBufferActivate(v){this.clearSelection(),this._trimListener.dispose(),this._trimListener=v.activeBuffer.lines.onTrim(I=>this._handleTrim(I))}_convertViewportColToCharacterIndex(v,I){let U=I;for(let ae=0;I>=ae;ae++){const ne=v.loadCell(ae,this._workCell).getChars().length;0===this._workCell.getWidth()?U--:ne>1&&I!==ae&&(U+=ne-1)}return U}setSelection(v,I,U){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[v,I],this._model.selectionStartLength=U,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(v){this._isClickInSelection(v)||(this._selectWordAtCursor(v,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(v,I,U=!0,ae=!0){if(v[0]>=this._bufferService.cols)return;const ne=this._bufferService.buffer,he=ne.lines.get(v[1]);if(!he)return;const je=ne.translateBufferLineToString(v[1],!1);let Ze=this._convertViewportColToCharacterIndex(he,v[0]),$e=Ze;const Q=v[0]-Ze;let de=0,xe=0,we=0,Xe=0;if(" "===je.charAt(Ze)){for(;Ze>0&&" "===je.charAt(Ze-1);)Ze--;for(;$e<je.length&&" "===je.charAt($e+1);)$e++}else{let _e=v[0],ge=v[0];0===he.getWidth(_e)&&(de++,_e--),2===he.getWidth(ge)&&(xe++,ge++);const G=he.getString(ge).length;for(G>1&&(Xe+=G-1,$e+=G-1);_e>0&&Ze>0&&!this._isCharWordSeparator(he.loadCell(_e-1,this._workCell));){he.loadCell(_e-1,this._workCell);const ee=this._workCell.getChars().length;0===this._workCell.getWidth()?(de++,_e--):ee>1&&(we+=ee-1,Ze-=ee-1),Ze--,_e--}for(;ge<he.length&&$e+1<je.length&&!this._isCharWordSeparator(he.loadCell(ge+1,this._workCell));){he.loadCell(ge+1,this._workCell);const ee=this._workCell.getChars().length;2===this._workCell.getWidth()?(xe++,ge++):ee>1&&(Xe+=ee-1,$e+=ee-1),$e++,ge++}}$e++;let rt=Ze+Q-de+we,Me=Math.min(this._bufferService.cols,$e-Ze+de+xe-we-Xe);if(I||""!==je.slice(Ze,$e).trim()){if(U&&0===rt&&32!==he.getCodePoint(0)){const _e=ne.lines.get(v[1]-1);if(_e&&he.isWrapped&&32!==_e.getCodePoint(this._bufferService.cols-1)){const ge=this._getWordAt([this._bufferService.cols-1,v[1]-1],!1,!0,!1);if(ge){const G=this._bufferService.cols-ge.start;rt-=G,Me+=G}}}if(ae&&rt+Me===this._bufferService.cols&&32!==he.getCodePoint(this._bufferService.cols-1)){const _e=ne.lines.get(v[1]+1);if(_e?.isWrapped&&32!==_e.getCodePoint(0)){const ge=this._getWordAt([0,v[1]+1],!1,!1,!0);ge&&(Me+=ge.length)}}return{start:rt,length:Me}}}_selectWordAt(v,I){const U=this._getWordAt(v,I);if(U){for(;U.start<0;)U.start+=this._bufferService.cols,v[1]--;this._model.selectionStart=[U.start,v[1]],this._model.selectionStartLength=U.length}}_selectToWordAt(v){const I=this._getWordAt(v,!0);if(I){let U=v[1];for(;I.start<0;)I.start+=this._bufferService.cols,U--;if(!this._model.areSelectionValuesReversed())for(;I.start+I.length>this._bufferService.cols;)I.length-=this._bufferService.cols,U++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?I.start:I.start+I.length,U]}}_isCharWordSeparator(v){return 0!==v.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(v.getChars())>=0}_selectLineAt(v){const I=this._bufferService.buffer.getWrappedRangeForLine(v),U={start:{x:0,y:I.first},end:{x:this._bufferService.cols-1,y:I.last}};this._model.selectionStart=[0,I.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,y.getRangeLength)(U,this._bufferService.cols)}};B=b([C(3,o.IBufferService),C(4,o.ICoreService),C(5,x.IMouseService),C(6,o.IOptionsService),C(7,x.IRenderService),C(8,x.ICoreBrowserService)],B),d.SelectionService=B},4725:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.IThemeService=d.ICharacterJoinerService=d.ISelectionService=d.IRenderService=d.IMouseService=d.ICoreBrowserService=d.ICharSizeService=void 0;const b=h(8343);d.ICharSizeService=(0,b.createDecorator)("CharSizeService"),d.ICoreBrowserService=(0,b.createDecorator)("CoreBrowserService"),d.IMouseService=(0,b.createDecorator)("MouseService"),d.IRenderService=(0,b.createDecorator)("RenderService"),d.ISelectionService=(0,b.createDecorator)("SelectionService"),d.ICharacterJoinerService=(0,b.createDecorator)("CharacterJoinerService"),d.IThemeService=(0,b.createDecorator)("ThemeService")},6731:function(E,d,h){var b=this&&this.__decorate||function(B,v,I,U){var ae,ne=arguments.length,he=ne<3?v:null===U?U=Object.getOwnPropertyDescriptor(v,I):U;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)he=Reflect.decorate(B,v,I,U);else for(var je=B.length-1;je>=0;je--)(ae=B[je])&&(he=(ne<3?ae(he):ne>3?ae(v,I,he):ae(v,I))||he);return ne>3&&he&&Object.defineProperty(v,I,he),he},C=this&&this.__param||function(B,v){return function(I,U){v(I,U,B)}};Object.defineProperty(d,"__esModule",{value:!0}),d.ThemeService=d.DEFAULT_ANSI_COLORS=void 0;const f=h(7239),w=h(8055),k=h(8460),S=h(844),x=h(2585),o=w.css.toColor("#ffffff"),p=w.css.toColor("#000000"),m=w.css.toColor("#ffffff"),u=w.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};d.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const B=[w.css.toColor("#2e3436"),w.css.toColor("#cc0000"),w.css.toColor("#4e9a06"),w.css.toColor("#c4a000"),w.css.toColor("#3465a4"),w.css.toColor("#75507b"),w.css.toColor("#06989a"),w.css.toColor("#d3d7cf"),w.css.toColor("#555753"),w.css.toColor("#ef2929"),w.css.toColor("#8ae234"),w.css.toColor("#fce94f"),w.css.toColor("#729fcf"),w.css.toColor("#ad7fa8"),w.css.toColor("#34e2e2"),w.css.toColor("#eeeeec")],v=[0,95,135,175,215,255];for(let I=0;I<216;I++){const U=v[I/36%6|0],ae=v[I/6%6|0],ne=v[I%6];B.push({css:w.channels.toCss(U,ae,ne),rgba:w.channels.toRgba(U,ae,ne)})}for(let I=0;I<24;I++){const U=8+10*I;B.push({css:w.channels.toCss(U,U,U),rgba:w.channels.toRgba(U,U,U)})}return B})());let M=class extends S.Disposable{constructor(B){super(),this._optionsService=B,this._onChangeColors=this.register(new k.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._contrastCache=new f.ColorContrastCache,this._colors={foreground:o,background:p,cursor:m,cursorAccent:u,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:w.color.blend(p,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:w.color.blend(p,y),ansi:d.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}get colors(){return this._colors}_setTheme(B={}){const v=this._colors;if(v.foreground=P(B.foreground,o),v.background=P(B.background,p),v.cursor=P(B.cursor,m),v.cursorAccent=P(B.cursorAccent,u),v.selectionBackgroundTransparent=P(B.selectionBackground,y),v.selectionBackgroundOpaque=w.color.blend(v.background,v.selectionBackgroundTransparent),v.selectionInactiveBackgroundTransparent=P(B.selectionInactiveBackground,v.selectionBackgroundTransparent),v.selectionInactiveBackgroundOpaque=w.color.blend(v.background,v.selectionInactiveBackgroundTransparent),v.selectionForeground=B.selectionForeground?P(B.selectionForeground,w.NULL_COLOR):void 0,v.selectionForeground===w.NULL_COLOR&&(v.selectionForeground=void 0),w.color.isOpaque(v.selectionBackgroundTransparent)&&(v.selectionBackgroundTransparent=w.color.opacity(v.selectionBackgroundTransparent,.3)),w.color.isOpaque(v.selectionInactiveBackgroundTransparent)&&(v.selectionInactiveBackgroundTransparent=w.color.opacity(v.selectionInactiveBackgroundTransparent,.3)),v.ansi=d.DEFAULT_ANSI_COLORS.slice(),v.ansi[0]=P(B.black,d.DEFAULT_ANSI_COLORS[0]),v.ansi[1]=P(B.red,d.DEFAULT_ANSI_COLORS[1]),v.ansi[2]=P(B.green,d.DEFAULT_ANSI_COLORS[2]),v.ansi[3]=P(B.yellow,d.DEFAULT_ANSI_COLORS[3]),v.ansi[4]=P(B.blue,d.DEFAULT_ANSI_COLORS[4]),v.ansi[5]=P(B.magenta,d.DEFAULT_ANSI_COLORS[5]),v.ansi[6]=P(B.cyan,d.DEFAULT_ANSI_COLORS[6]),v.ansi[7]=P(B.white,d.DEFAULT_ANSI_COLORS[7]),v.ansi[8]=P(B.brightBlack,d.DEFAULT_ANSI_COLORS[8]),v.ansi[9]=P(B.brightRed,d.DEFAULT_ANSI_COLORS[9]),v.ansi[10]=P(B.brightGreen,d.DEFAULT_ANSI_COLORS[10]),v.ansi[11]=P(B.brightYellow,d.DEFAULT_ANSI_COLORS[11]),v.ansi[12]=P(B.brightBlue,d.DEFAULT_ANSI_COLORS[12]),v.ansi[13]=P(B.brightMagenta,d.DEFAULT_ANSI_COLORS[13]),v.ansi[14]=P(B.brightCyan,d.DEFAULT_ANSI_COLORS[14]),v.ansi[15]=P(B.brightWhite,d.DEFAULT_ANSI_COLORS[15]),B.extendedAnsi){const I=Math.min(v.ansi.length-16,B.extendedAnsi.length);for(let U=0;U<I;U++)v.ansi[U+16]=P(B.extendedAnsi[U],d.DEFAULT_ANSI_COLORS[U+16])}this._contrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(B){this._restoreColor(B),this._onChangeColors.fire(this.colors)}_restoreColor(B){if(void 0!==B)switch(B){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[B]=this._restoreColors.ansi[B]}else for(let v=0;v<this._restoreColors.ansi.length;++v)this._colors.ansi[v]=this._restoreColors.ansi[v]}modifyColors(B){B(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function P(B,v){if(void 0!==B)try{return w.css.toColor(B)}catch{}return v}M=b([C(0,x.IOptionsService)],M),d.ThemeService=M},6349:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CircularList=void 0;const b=h(8460),C=h(844);d.CircularList=class f extends C.Disposable{constructor(k){super(),this._maxLength=k,this.onDeleteEmitter=this.register(new b.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new b.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new b.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(k){if(this._maxLength===k)return;const S=new Array(k);for(let x=0;x<Math.min(k,this.length);x++)S[x]=this._array[this._getCyclicIndex(x)];this._array=S,this._maxLength=k,this._startIndex=0}get length(){return this._length}set length(k){if(k>this._length)for(let S=this._length;S<k;S++)this._array[S]=void 0;this._length=k}get(k){return this._array[this._getCyclicIndex(k)]}set(k,S){this._array[this._getCyclicIndex(k)]=S}push(k){this._array[this._getCyclicIndex(this._length)]=k,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(k,S,...x){if(S){for(let o=k;o<this._length-S;o++)this._array[this._getCyclicIndex(o)]=this._array[this._getCyclicIndex(o+S)];this._length-=S,this.onDeleteEmitter.fire({index:k,amount:S})}for(let o=this._length-1;o>=k;o--)this._array[this._getCyclicIndex(o+x.length)]=this._array[this._getCyclicIndex(o)];for(let o=0;o<x.length;o++)this._array[this._getCyclicIndex(k+o)]=x[o];if(x.length&&this.onInsertEmitter.fire({index:k,amount:x.length}),this._length+x.length>this._maxLength){const o=this._length+x.length-this._maxLength;this._startIndex+=o,this._length=this._maxLength,this.onTrimEmitter.fire(o)}else this._length+=x.length}trimStart(k){k>this._length&&(k=this._length),this._startIndex+=k,this._length-=k,this.onTrimEmitter.fire(k)}shiftElements(k,S,x){if(!(S<=0)){if(k<0||k>=this._length)throw new Error("start argument out of range");if(k+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let p=S-1;p>=0;p--)this.set(k+p+x,this.get(k+p));const o=k+S+x-this._length;if(o>0)for(this._length+=o;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let o=0;o<S;o++)this.set(k+o+x,this.get(k+o))}}_getCyclicIndex(k){return(this._startIndex+k)%this._maxLength}}},1439:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.clone=void 0,d.clone=function h(b,C=5){if("object"!=typeof b)return b;const f=Array.isArray(b)?[]:{};for(const w in b)f[w]=C<=1?b[w]:b[w]&&h(b[w],C-1);return f}},8055:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.contrastRatio=d.toPaddedHex=d.rgba=d.rgb=d.css=d.color=d.channels=d.NULL_COLOR=void 0;const b=h(6114);let C=0,f=0,w=0,k=0;var S,x,o,u;function p(u){const y=u.toString(16);return y.length<2?"0"+y:y}function m(u,y){return u<y?(y+.05)/(u+.05):(u+.05)/(y+.05)}d.NULL_COLOR={css:"#00000000",rgba:0},(u=S=d.channels||(d.channels={})).toCss=function(y,M,P,B){return void 0!==B?`#${p(y)}${p(M)}${p(P)}${p(B)}`:`#${p(y)}${p(M)}${p(P)}`},u.toRgba=function(y,M,P,B=255){return(y<<24|M<<16|P<<8|B)>>>0},function(u){function y(M,P){return k=Math.round(255*P),[C,f,w]=o.toChannels(M.rgba),{css:S.toCss(C,f,w,k),rgba:S.toRgba(C,f,w,k)}}u.blend=function(M,P){if(k=(255&P.rgba)/255,1===k)return{css:P.css,rgba:P.rgba};const v=P.rgba>>16&255,I=P.rgba>>8&255,U=M.rgba>>24&255,ae=M.rgba>>16&255,ne=M.rgba>>8&255;return C=U+Math.round(((P.rgba>>24&255)-U)*k),f=ae+Math.round((v-ae)*k),w=ne+Math.round((I-ne)*k),{css:S.toCss(C,f,w),rgba:S.toRgba(C,f,w)}},u.isOpaque=function(M){return 255==(255&M.rgba)},u.ensureContrastRatio=function(M,P,B){const v=o.ensureContrastRatio(M.rgba,P.rgba,B);if(v)return o.toColor(v>>24&255,v>>16&255,v>>8&255)},u.opaque=function(M){const P=(255|M.rgba)>>>0;return[C,f,w]=o.toChannels(P),{css:S.toCss(C,f,w),rgba:P}},u.opacity=y,u.multiplyOpacity=function(M,P){return k=255&M.rgba,y(M,k*P/255)},u.toColorRGB=function(M){return[M.rgba>>24&255,M.rgba>>16&255,M.rgba>>8&255]}}(d.color||(d.color={})),function(u){let y,M;if(!b.isNode){const P=document.createElement("canvas");P.width=1,P.height=1;const B=P.getContext("2d",{willReadFrequently:!0});B&&(y=B,y.globalCompositeOperation="copy",M=y.createLinearGradient(0,0,1,1))}u.toColor=function(P){if(P.match(/#[\da-f]{3,8}/i))switch(P.length){case 4:return C=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),w=parseInt(P.slice(3,4).repeat(2),16),o.toColor(C,f,w);case 5:return C=parseInt(P.slice(1,2).repeat(2),16),f=parseInt(P.slice(2,3).repeat(2),16),w=parseInt(P.slice(3,4).repeat(2),16),k=parseInt(P.slice(4,5).repeat(2),16),o.toColor(C,f,w,k);case 7:return{css:P,rgba:(parseInt(P.slice(1),16)<<8|255)>>>0};case 9:return{css:P,rgba:parseInt(P.slice(1),16)>>>0}}const B=P.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(B)return C=parseInt(B[1]),f=parseInt(B[2]),w=parseInt(B[3]),k=Math.round(255*(void 0===B[5]?1:parseFloat(B[5]))),o.toColor(C,f,w,k);if(!y||!M)throw new Error("css.toColor: Unsupported css format");if(y.fillStyle=M,y.fillStyle=P,"string"!=typeof y.fillStyle)throw new Error("css.toColor: Unsupported css format");if(y.fillRect(0,0,1,1),[C,f,w,k]=y.getImageData(0,0,1,1).data,255!==k)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(C,f,w,k),css:P}}}(d.css||(d.css={})),function(u){function y(M,P,B){const v=M/255,I=P/255,U=B/255;return.2126*(v<=.03928?v/12.92:Math.pow((v+.055)/1.055,2.4))+.7152*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))+.0722*(U<=.03928?U/12.92:Math.pow((U+.055)/1.055,2.4))}u.relativeLuminance=function(M){return y(M>>16&255,M>>8&255,255&M)},u.relativeLuminance2=y}(x=d.rgb||(d.rgb={})),function(u){function y(P,B,v){const I=P>>24&255,U=P>>16&255,ae=P>>8&255;let ne=B>>24&255,he=B>>16&255,je=B>>8&255,Ze=m(x.relativeLuminance2(ne,he,je),x.relativeLuminance2(I,U,ae));for(;Ze<v&&(ne>0||he>0||je>0);)ne-=Math.max(0,Math.ceil(.1*ne)),he-=Math.max(0,Math.ceil(.1*he)),je-=Math.max(0,Math.ceil(.1*je)),Ze=m(x.relativeLuminance2(ne,he,je),x.relativeLuminance2(I,U,ae));return(ne<<24|he<<16|je<<8|255)>>>0}function M(P,B,v){const I=P>>24&255,U=P>>16&255,ae=P>>8&255;let ne=B>>24&255,he=B>>16&255,je=B>>8&255,Ze=m(x.relativeLuminance2(ne,he,je),x.relativeLuminance2(I,U,ae));for(;Ze<v&&(ne<255||he<255||je<255);)ne=Math.min(255,ne+Math.ceil(.1*(255-ne))),he=Math.min(255,he+Math.ceil(.1*(255-he))),je=Math.min(255,je+Math.ceil(.1*(255-je))),Ze=m(x.relativeLuminance2(ne,he,je),x.relativeLuminance2(I,U,ae));return(ne<<24|he<<16|je<<8|255)>>>0}u.ensureContrastRatio=function(P,B,v){const I=x.relativeLuminance(P>>8),U=x.relativeLuminance(B>>8);if(m(I,U)<v){if(U<I){const he=y(P,B,v),je=m(I,x.relativeLuminance(he>>8));if(je<v){const Ze=M(P,B,v);return je>m(I,x.relativeLuminance(Ze>>8))?he:Ze}return he}const ae=M(P,B,v),ne=m(I,x.relativeLuminance(ae>>8));if(ne<v){const he=y(P,B,v);return ne>m(I,x.relativeLuminance(he>>8))?ae:he}return ae}},u.reduceLuminance=y,u.increaseLuminance=M,u.toChannels=function(P){return[P>>24&255,P>>16&255,P>>8&255,255&P]},u.toColor=function(P,B,v,I){return{css:S.toCss(P,B,v,I),rgba:S.toRgba(P,B,v,I)}}}(o=d.rgba||(d.rgba={})),d.toPaddedHex=p,d.contrastRatio=m},8969:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CoreTerminal=void 0;const b=h(844),C=h(2585),f=h(4348),w=h(7866),k=h(744),S=h(7302),x=h(6975),o=h(8460),p=h(1753),m=h(1480),u=h(7994),y=h(9282),M=h(5435),P=h(5981),B=h(2660);let v=!1;d.CoreTerminal=class I extends b.Disposable{constructor(ae){super(),this._onBinary=this.register(new o.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new o.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new o.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new o.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new o.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new o.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new S.OptionsService(ae)),this._instantiationService.setService(C.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(k.BufferService)),this._instantiationService.setService(C.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(w.LogService)),this._instantiationService.setService(C.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(C.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(C.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(m.UnicodeService)),this._instantiationService.setService(C.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(u.CharsetService),this._instantiationService.setService(C.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(B.OscLinkService),this._instantiationService.setService(C.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new M.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,o.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,o.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,o.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,o.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(ne=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(ne=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new P.WriteBuffer((ne,he)=>this._inputHandler.parse(ne,he))),this.register((0,o.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed)),this.register((0,b.toDisposable)(()=>{var ne;null===(ne=this._windowsWrappingHeuristics)||void 0===ne||ne.dispose(),this._windowsWrappingHeuristics=void 0}))}get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new o.EventEmitter),this._onScroll.event(ae=>{var ne;null===(ne=this._onScrollApi)||void 0===ne||ne.fire(ae.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(ae){for(const ne in ae)this.optionsService.options[ne]=ae[ne]}write(ae,ne){this._writeBuffer.write(ae,ne)}writeSync(ae,ne){this._logService.logLevel<=C.LogLevelEnum.WARN&&!v&&(this._logService.warn("writeSync is unreliable and will be removed soon."),v=!0),this._writeBuffer.writeSync(ae,ne)}resize(ae,ne){isNaN(ae)||isNaN(ne)||(ae=Math.max(ae,k.MINIMUM_COLS),ne=Math.max(ne,k.MINIMUM_ROWS),this._bufferService.resize(ae,ne))}scroll(ae,ne=!1){this._bufferService.scroll(ae,ne)}scrollLines(ae,ne,he){this._bufferService.scrollLines(ae,ne,he)}scrollPages(ae){this._bufferService.scrollPages(ae)}scrollToTop(){this._bufferService.scrollToTop()}scrollToBottom(){this._bufferService.scrollToBottom()}scrollToLine(ae){this._bufferService.scrollToLine(ae)}registerEscHandler(ae,ne){return this._inputHandler.registerEscHandler(ae,ne)}registerDcsHandler(ae,ne){return this._inputHandler.registerDcsHandler(ae,ne)}registerCsiHandler(ae,ne){return this._inputHandler.registerCsiHandler(ae,ne)}registerOscHandler(ae,ne){return this._inputHandler.registerOscHandler(ae,ne)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){var ae;let ne=!1;const he=this.optionsService.rawOptions.windowsPty;he&&void 0!==he.buildNumber&&void 0!==he.buildNumber?ne="conpty"===he.backend&&he.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(ne=!0),ne?this._enableWindowsWrappingHeuristics():(null===(ae=this._windowsWrappingHeuristics)||void 0===ae||ae.dispose(),this._windowsWrappingHeuristics=void 0)}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics){const ae=[];ae.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),ae.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics=(0,b.toDisposable)(()=>{for(const ne of ae)ne.dispose()})}}}},8460:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.forwardEvent=d.EventEmitter=void 0,d.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=h=>(this._listeners.push(h),{dispose:()=>{if(!this._disposed)for(let b=0;b<this._listeners.length;b++)if(this._listeners[b]===h)return void this._listeners.splice(b,1)}})),this._event}fire(h,b){const C=[];for(let f=0;f<this._listeners.length;f++)C.push(this._listeners[f]);for(let f=0;f<C.length;f++)C[f].call(void 0,h,b)}dispose(){this._listeners&&(this._listeners.length=0),this._disposed=!0}},d.forwardEvent=function(h,b){return h(C=>b.fire(C))}},5435:function(E,d,h){var b=this&&this.__decorate||function($e,Q,de,xe){var we,Xe=arguments.length,rt=Xe<3?Q:null===xe?xe=Object.getOwnPropertyDescriptor(Q,de):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)rt=Reflect.decorate($e,Q,de,xe);else for(var Me=$e.length-1;Me>=0;Me--)(we=$e[Me])&&(rt=(Xe<3?we(rt):Xe>3?we(Q,de,rt):we(Q,de))||rt);return Xe>3&&rt&&Object.defineProperty(Q,de,rt),rt},C=this&&this.__param||function($e,Q){return function(de,xe){Q(de,xe,$e)}};Object.defineProperty(d,"__esModule",{value:!0}),d.InputHandler=d.WindowsOptionsReportType=void 0;const f=h(2584),w=h(7116),k=h(2015),S=h(844),x=h(482),o=h(8437),p=h(8460),m=h(643),u=h(511),y=h(3734),M=h(2585),P=h(6242),B=h(6351),v=h(5941),I={"(":0,")":1,"*":2,"+":3,"-":1,".":2},U=131072;function ae($e,Q){if($e>24)return Q.setWinLines||!1;switch($e){case 1:return!!Q.restoreWin;case 2:return!!Q.minimizeWin;case 3:return!!Q.setWinPosition;case 4:return!!Q.setWinSizePixels;case 5:return!!Q.raiseWin;case 6:return!!Q.lowerWin;case 7:return!!Q.refreshWin;case 8:return!!Q.setWinSizeChars;case 9:return!!Q.maximizeWin;case 10:return!!Q.fullscreenWin;case 11:return!!Q.getWinState;case 13:return!!Q.getWinPosition;case 14:return!!Q.getWinSizePixels;case 15:return!!Q.getScreenSizePixels;case 16:return!!Q.getCellSizePixels;case 18:return!!Q.getWinSizeChars;case 19:return!!Q.getScreenSizeChars;case 20:return!!Q.getIconTitle;case 21:return!!Q.getWinTitle;case 22:return!!Q.pushTitle;case 23:return!!Q.popTitle;case 24:return!!Q.setWinLines}return!1}var ne,$e;($e=ne=d.WindowsOptionsReportType||(d.WindowsOptionsReportType={}))[$e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",$e[$e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS";let he=0;d.InputHandler=class je extends S.Disposable{constructor(Q,de,xe,we,Xe,rt,Me,_e,ge=new k.EscapeSequenceParser){super(),this._bufferService=Q,this._charsetService=de,this._coreService=xe,this._logService=we,this._optionsService=Xe,this._oscLinkService=rt,this._coreMouseService=Me,this._unicodeService=_e,this._parser=ge,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new u.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new Ze(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(G=>this._activeBuffer=G.activeBuffer)),this._parser.setCsiHandlerFallback((G,ee)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(G),params:ee.toArray()})}),this._parser.setEscHandlerFallback(G=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(G)})}),this._parser.setExecuteHandlerFallback(G=>{this._logService.debug("Unknown EXECUTE code: ",{code:G})}),this._parser.setOscHandlerFallback((G,ee,z)=>{this._logService.debug("Unknown OSC code: ",{identifier:G,action:ee,data:z})}),this._parser.setDcsHandlerFallback((G,ee,z)=>{"HOOK"===ee&&(z=z.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(G),action:ee,payload:z})}),this._parser.setPrintHandler((G,ee,z)=>this.print(G,ee,z)),this._parser.registerCsiHandler({final:"@"},G=>this.insertChars(G)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},G=>this.scrollLeft(G)),this._parser.registerCsiHandler({final:"A"},G=>this.cursorUp(G)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},G=>this.scrollRight(G)),this._parser.registerCsiHandler({final:"B"},G=>this.cursorDown(G)),this._parser.registerCsiHandler({final:"C"},G=>this.cursorForward(G)),this._parser.registerCsiHandler({final:"D"},G=>this.cursorBackward(G)),this._parser.registerCsiHandler({final:"E"},G=>this.cursorNextLine(G)),this._parser.registerCsiHandler({final:"F"},G=>this.cursorPrecedingLine(G)),this._parser.registerCsiHandler({final:"G"},G=>this.cursorCharAbsolute(G)),this._parser.registerCsiHandler({final:"H"},G=>this.cursorPosition(G)),this._parser.registerCsiHandler({final:"I"},G=>this.cursorForwardTab(G)),this._parser.registerCsiHandler({final:"J"},G=>this.eraseInDisplay(G,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},G=>this.eraseInDisplay(G,!0)),this._parser.registerCsiHandler({final:"K"},G=>this.eraseInLine(G,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},G=>this.eraseInLine(G,!0)),this._parser.registerCsiHandler({final:"L"},G=>this.insertLines(G)),this._parser.registerCsiHandler({final:"M"},G=>this.deleteLines(G)),this._parser.registerCsiHandler({final:"P"},G=>this.deleteChars(G)),this._parser.registerCsiHandler({final:"S"},G=>this.scrollUp(G)),this._parser.registerCsiHandler({final:"T"},G=>this.scrollDown(G)),this._parser.registerCsiHandler({final:"X"},G=>this.eraseChars(G)),this._parser.registerCsiHandler({final:"Z"},G=>this.cursorBackwardTab(G)),this._parser.registerCsiHandler({final:"`"},G=>this.charPosAbsolute(G)),this._parser.registerCsiHandler({final:"a"},G=>this.hPositionRelative(G)),this._parser.registerCsiHandler({final:"b"},G=>this.repeatPrecedingCharacter(G)),this._parser.registerCsiHandler({final:"c"},G=>this.sendDeviceAttributesPrimary(G)),this._parser.registerCsiHandler({prefix:">",final:"c"},G=>this.sendDeviceAttributesSecondary(G)),this._parser.registerCsiHandler({final:"d"},G=>this.linePosAbsolute(G)),this._parser.registerCsiHandler({final:"e"},G=>this.vPositionRelative(G)),this._parser.registerCsiHandler({final:"f"},G=>this.hVPosition(G)),this._parser.registerCsiHandler({final:"g"},G=>this.tabClear(G)),this._parser.registerCsiHandler({final:"h"},G=>this.setMode(G)),this._parser.registerCsiHandler({prefix:"?",final:"h"},G=>this.setModePrivate(G)),this._parser.registerCsiHandler({final:"l"},G=>this.resetMode(G)),this._parser.registerCsiHandler({prefix:"?",final:"l"},G=>this.resetModePrivate(G)),this._parser.registerCsiHandler({final:"m"},G=>this.charAttributes(G)),this._parser.registerCsiHandler({final:"n"},G=>this.deviceStatus(G)),this._parser.registerCsiHandler({prefix:"?",final:"n"},G=>this.deviceStatusPrivate(G)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},G=>this.softReset(G)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},G=>this.setCursorStyle(G)),this._parser.registerCsiHandler({final:"r"},G=>this.setScrollRegion(G)),this._parser.registerCsiHandler({final:"s"},G=>this.saveCursor(G)),this._parser.registerCsiHandler({final:"t"},G=>this.windowOptions(G)),this._parser.registerCsiHandler({final:"u"},G=>this.restoreCursor(G)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},G=>this.insertColumns(G)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},G=>this.deleteColumns(G)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},G=>this.selectProtected(G)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},G=>this.requestMode(G,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},G=>this.requestMode(G,!1)),this._parser.setExecuteHandler(f.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(f.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(f.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(f.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(f.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(f.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(f.C1.IND,()=>this.index()),this._parser.setExecuteHandler(f.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(f.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new P.OscHandler(G=>(this.setTitle(G),this.setIconName(G),!0))),this._parser.registerOscHandler(1,new P.OscHandler(G=>this.setIconName(G))),this._parser.registerOscHandler(2,new P.OscHandler(G=>this.setTitle(G))),this._parser.registerOscHandler(4,new P.OscHandler(G=>this.setOrReportIndexedColor(G))),this._parser.registerOscHandler(8,new P.OscHandler(G=>this.setHyperlink(G))),this._parser.registerOscHandler(10,new P.OscHandler(G=>this.setOrReportFgColor(G))),this._parser.registerOscHandler(11,new P.OscHandler(G=>this.setOrReportBgColor(G))),this._parser.registerOscHandler(12,new P.OscHandler(G=>this.setOrReportCursorColor(G))),this._parser.registerOscHandler(104,new P.OscHandler(G=>this.restoreIndexedColor(G))),this._parser.registerOscHandler(110,new P.OscHandler(G=>this.restoreFgColor(G))),this._parser.registerOscHandler(111,new P.OscHandler(G=>this.restoreBgColor(G))),this._parser.registerOscHandler(112,new P.OscHandler(G=>this.restoreCursorColor(G))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const G in w.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:G},()=>this.selectCharset("("+G)),this._parser.registerEscHandler({intermediates:")",final:G},()=>this.selectCharset(")"+G)),this._parser.registerEscHandler({intermediates:"*",final:G},()=>this.selectCharset("*"+G)),this._parser.registerEscHandler({intermediates:"+",final:G},()=>this.selectCharset("+"+G)),this._parser.registerEscHandler({intermediates:"-",final:G},()=>this.selectCharset("-"+G)),this._parser.registerEscHandler({intermediates:".",final:G},()=>this.selectCharset("."+G)),this._parser.registerEscHandler({intermediates:"/",final:G},()=>this.selectCharset("/"+G));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(G=>(this._logService.error("Parsing error: ",G),G)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new B.DcsHandler((G,ee)=>this.requestStatusString(G,ee)))}getAttrData(){return this._curAttrData}_preserveStack(Q,de,xe,we){this._parseStack.paused=!0,this._parseStack.cursorStartX=Q,this._parseStack.cursorStartY=de,this._parseStack.decodedLength=xe,this._parseStack.position=we}_logSlowResolvingAsync(Q){this._logService.logLevel<=M.LogLevelEnum.WARN&&Promise.race([Q,new Promise((de,xe)=>setTimeout(()=>xe("#SLOW_TIMEOUT"),5e3))]).catch(de=>{if("#SLOW_TIMEOUT"!==de)throw de;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(Q,de){let xe,we=this._activeBuffer.x,Xe=this._activeBuffer.y,rt=0;const Me=this._parseStack.paused;if(Me){if(xe=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,de))return this._logSlowResolvingAsync(xe),xe;we=this._parseStack.cursorStartX,Xe=this._parseStack.cursorStartY,this._parseStack.paused=!1,Q.length>U&&(rt=this._parseStack.position+U)}if(this._logService.logLevel<=M.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+("string"==typeof Q?` "${Q}"`:` "${Array.prototype.map.call(Q,_e=>String.fromCharCode(_e)).join("")}"`),"string"==typeof Q?Q.split("").map(_e=>_e.charCodeAt(0)):Q),this._parseBuffer.length<Q.length&&this._parseBuffer.length<U&&(this._parseBuffer=new Uint32Array(Math.min(Q.length,U))),Me||this._dirtyRowTracker.clearRange(),Q.length>U)for(let _e=rt;_e<Q.length;_e+=U){const ge=_e+U<Q.length?_e+U:Q.length,G="string"==typeof Q?this._stringDecoder.decode(Q.substring(_e,ge),this._parseBuffer):this._utf8Decoder.decode(Q.subarray(_e,ge),this._parseBuffer);if(xe=this._parser.parse(this._parseBuffer,G))return this._preserveStack(we,Xe,G,_e),this._logSlowResolvingAsync(xe),xe}else if(!Me){const _e="string"==typeof Q?this._stringDecoder.decode(Q,this._parseBuffer):this._utf8Decoder.decode(Q,this._parseBuffer);if(xe=this._parser.parse(this._parseBuffer,_e))return this._preserveStack(we,Xe,_e,0),this._logSlowResolvingAsync(xe),xe}this._activeBuffer.x===we&&this._activeBuffer.y===Xe||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(Q,de,xe){let we,Xe;const rt=this._charsetService.charset,Me=this._optionsService.rawOptions.screenReaderMode,_e=this._bufferService.cols,ge=this._coreService.decPrivateModes.wraparound,G=this._coreService.modes.insertMode,ee=this._curAttrData;let z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&xe-de>0&&2===z.getWidth(this._activeBuffer.x-1)&&z.setCellFromCodePoint(this._activeBuffer.x-1,0,1,ee.fg,ee.bg,ee.extended);for(let ye=de;ye<xe;++ye){if(we=Q[ye],Xe=this._unicodeService.wcwidth(we),we<127&&rt){const Ge=rt[String.fromCharCode(we)];Ge&&(we=Ge.charCodeAt(0))}if(Me&&this._onA11yChar.fire((0,x.stringFromCodePoint)(we)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),Xe||!this._activeBuffer.x){if(this._activeBuffer.x+Xe-1>=_e)if(ge){for(;this._activeBuffer.x<_e;)z.setCellFromCodePoint(this._activeBuffer.x++,0,1,ee.fg,ee.bg,ee.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=_e-1,2===Xe)continue;if(G&&(z.insertCells(this._activeBuffer.x,Xe,this._activeBuffer.getNullCell(ee),ee),2===z.getWidth(_e-1)&&z.setCellFromCodePoint(_e-1,m.NULL_CELL_CODE,m.NULL_CELL_WIDTH,ee.fg,ee.bg,ee.extended)),z.setCellFromCodePoint(this._activeBuffer.x++,we,Xe,ee.fg,ee.bg,ee.extended),Xe>0)for(;--Xe;)z.setCellFromCodePoint(this._activeBuffer.x++,0,0,ee.fg,ee.bg,ee.extended)}else z.getWidth(this._activeBuffer.x-1)?z.addCodepointToCell(this._activeBuffer.x-1,we):z.addCodepointToCell(this._activeBuffer.x-2,we)}xe-de>0&&(z.loadCell(this._activeBuffer.x-1,this._workCell),this._parser.precedingCodepoint=2===this._workCell.getWidth()||this._workCell.getCode()>65535?0:this._workCell.isCombined()?this._workCell.getChars().charCodeAt(0):this._workCell.content),this._activeBuffer.x<_e&&xe-de>0&&0===z.getWidth(this._activeBuffer.x)&&!z.hasContent(this._activeBuffer.x)&&z.setCellFromCodePoint(this._activeBuffer.x,0,1,ee.fg,ee.bg,ee.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(Q,de){return this._parser.registerCsiHandler(Q,"t"!==Q.final||Q.prefix||Q.intermediates?de:xe=>!ae(xe.params[0],this._optionsService.rawOptions.windowOptions)||de(xe))}registerDcsHandler(Q,de){return this._parser.registerDcsHandler(Q,new B.DcsHandler(de))}registerEscHandler(Q,de){return this._parser.registerEscHandler(Q,de)}registerOscHandler(Q,de){return this._parser.registerOscHandler(Q,new P.OscHandler(de))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var Q;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&null!==(Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))&&void 0!==Q&&Q.isWrapped){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);de.hasWidth(this._activeBuffer.x)&&!de.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const Q=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-Q),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(Q=this._bufferService.cols-1){this._activeBuffer.x=Math.min(Q,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(Q,de){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=Q,this._activeBuffer.y=this._activeBuffer.scrollTop+de):(this._activeBuffer.x=Q,this._activeBuffer.y=de),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(Q,de){this._restrictCursor(),this._setCursor(this._activeBuffer.x+Q,this._activeBuffer.y+de)}cursorUp(Q){const de=this._activeBuffer.y-this._activeBuffer.scrollTop;return this._moveCursor(0,de>=0?-Math.min(de,Q.params[0]||1):-(Q.params[0]||1)),!0}cursorDown(Q){const de=this._activeBuffer.scrollBottom-this._activeBuffer.y;return this._moveCursor(0,de>=0?Math.min(de,Q.params[0]||1):Q.params[0]||1),!0}cursorForward(Q){return this._moveCursor(Q.params[0]||1,0),!0}cursorBackward(Q){return this._moveCursor(-(Q.params[0]||1),0),!0}cursorNextLine(Q){return this.cursorDown(Q),this._activeBuffer.x=0,!0}cursorPrecedingLine(Q){return this.cursorUp(Q),this._activeBuffer.x=0,!0}cursorCharAbsolute(Q){return this._setCursor((Q.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(Q){return this._setCursor(Q.length>=2?(Q.params[1]||1)-1:0,(Q.params[0]||1)-1),!0}charPosAbsolute(Q){return this._setCursor((Q.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(Q){return this._moveCursor(Q.params[0]||1,0),!0}linePosAbsolute(Q){return this._setCursor(this._activeBuffer.x,(Q.params[0]||1)-1),!0}vPositionRelative(Q){return this._moveCursor(0,Q.params[0]||1),!0}hVPosition(Q){return this.cursorPosition(Q),!0}tabClear(Q){const de=Q.params[0];return 0===de?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===de&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(Q){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let de=Q.params[0]||1;for(;de--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(Q){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let de=Q.params[0]||1;for(;de--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(Q){const de=Q.params[0];return 1===de&&(this._curAttrData.bg|=536870912),2!==de&&0!==de||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(Q,de,xe,we=!1,Xe=!1){const rt=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);rt.replaceCells(de,xe,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),Xe),we&&(rt.isWrapped=!1)}_resetBufferLine(Q,de=!1){const xe=this._activeBuffer.lines.get(this._activeBuffer.ybase+Q);xe&&(xe.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),de),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+Q),xe.isWrapped=!1)}eraseInDisplay(Q,de=!1){let xe;switch(this._restrictCursor(this._bufferService.cols),Q.params[0]){case 0:for(xe=this._activeBuffer.y,this._dirtyRowTracker.markDirty(xe),this._eraseInBufferLine(xe++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,de);xe<this._bufferService.rows;xe++)this._resetBufferLine(xe,de);this._dirtyRowTracker.markDirty(xe);break;case 1:for(xe=this._activeBuffer.y,this._dirtyRowTracker.markDirty(xe),this._eraseInBufferLine(xe,0,this._activeBuffer.x+1,!0,de),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(xe+1).isWrapped=!1);xe--;)this._resetBufferLine(xe,de);this._dirtyRowTracker.markDirty(0);break;case 2:for(xe=this._bufferService.rows,this._dirtyRowTracker.markDirty(xe-1);xe--;)this._resetBufferLine(xe,de);this._dirtyRowTracker.markDirty(0);break;case 3:const we=this._activeBuffer.lines.length-this._bufferService.rows;we>0&&(this._activeBuffer.lines.trimStart(we),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-we,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-we,0),this._onScroll.fire(0))}return!0}eraseInLine(Q,de=!1){switch(this._restrictCursor(this._bufferService.cols),Q.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,de);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,de);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,de)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(Q){this._restrictCursor();let de=Q.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const xe=this._activeBuffer.ybase+this._activeBuffer.y,Xe=this._bufferService.rows-1+this._activeBuffer.ybase-(this._bufferService.rows-1-this._activeBuffer.scrollBottom)+1;for(;de--;)this._activeBuffer.lines.splice(Xe-1,1),this._activeBuffer.lines.splice(xe,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(Q){this._restrictCursor();let de=Q.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const xe=this._activeBuffer.ybase+this._activeBuffer.y;let we;for(we=this._bufferService.rows-1-this._activeBuffer.scrollBottom,we=this._bufferService.rows-1+this._activeBuffer.ybase-we;de--;)this._activeBuffer.lines.splice(xe,1),this._activeBuffer.lines.splice(we,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(Q){this._restrictCursor();const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return de&&(de.insertCells(this._activeBuffer.x,Q.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(Q){this._restrictCursor();const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return de&&(de.deleteCells(this._activeBuffer.x,Q.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(Q){let de=Q.params[0]||1;for(;de--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(Q){let de=Q.params[0]||1;for(;de--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(o.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const de=Q.params[0]||1;for(let xe=this._activeBuffer.scrollTop;xe<=this._activeBuffer.scrollBottom;++xe){const we=this._activeBuffer.lines.get(this._activeBuffer.ybase+xe);we.deleteCells(0,de,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),we.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const de=Q.params[0]||1;for(let xe=this._activeBuffer.scrollTop;xe<=this._activeBuffer.scrollBottom;++xe){const we=this._activeBuffer.lines.get(this._activeBuffer.ybase+xe);we.insertCells(0,de,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),we.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const de=Q.params[0]||1;for(let xe=this._activeBuffer.scrollTop;xe<=this._activeBuffer.scrollBottom;++xe){const we=this._activeBuffer.lines.get(this._activeBuffer.ybase+xe);we.insertCells(this._activeBuffer.x,de,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),we.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(Q){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const de=Q.params[0]||1;for(let xe=this._activeBuffer.scrollTop;xe<=this._activeBuffer.scrollBottom;++xe){const we=this._activeBuffer.lines.get(this._activeBuffer.ybase+xe);we.deleteCells(this._activeBuffer.x,de,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),we.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(Q){this._restrictCursor();const de=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return de&&(de.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(Q.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(Q){if(!this._parser.precedingCodepoint)return!0;const de=Q.params[0]||1,xe=new Uint32Array(de);for(let we=0;we<de;++we)xe[we]=this._parser.precedingCodepoint;return this.print(xe,0,xe.length),!0}sendDeviceAttributesPrimary(Q){return Q.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(Q){return Q.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(Q.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(Q){return 0===(this._optionsService.rawOptions.termName+"").indexOf(Q)}setMode(Q){for(let de=0;de<Q.length;de++)switch(Q.params[de]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(Q){for(let de=0;de<Q.length;de++)switch(Q.params[de]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),this._charsetService.setgCharset(1,w.DEFAULT_CHARSET),this._charsetService.setgCharset(2,w.DEFAULT_CHARSET),this._charsetService.setgCharset(3,w.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(Q){for(let de=0;de<Q.length;de++)switch(Q.params[de]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(Q){for(let de=0;de<Q.length;de++)switch(Q.params[de]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===Q.params[de]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(Q,de){const xe=this._coreService.decPrivateModes,{activeProtocol:we,activeEncoding:Xe}=this._coreMouseService,rt=this._coreService,{buffers:Me,cols:_e}=this._bufferService,{active:ge,alt:G}=Me,ee=this._optionsService.rawOptions,z=re=>re?1:2,ye=Q.params[0];return Ge=ye,Se=de?2===ye?4:4===ye?z(rt.modes.insertMode):12===ye?3:20===ye?z(ee.convertEol):0:1===ye?z(xe.applicationCursorKeys):3===ye?ee.windowOptions.setWinLines?80===_e?2:132===_e?1:0:0:6===ye?z(xe.origin):7===ye?z(xe.wraparound):8===ye?3:9===ye?z("X10"===we):12===ye?z(ee.cursorBlink):25===ye?z(!rt.isCursorHidden):45===ye?z(xe.reverseWraparound):66===ye?z(xe.applicationKeypad):67===ye?4:1e3===ye?z("VT200"===we):1002===ye?z("DRAG"===we):1003===ye?z("ANY"===we):1004===ye?z(xe.sendFocus):1005===ye?4:1006===ye?z("SGR"===Xe):1015===ye?4:1016===ye?z("SGR_PIXELS"===Xe):1048===ye?1:47===ye||1047===ye||1049===ye?z(ge===G):2004===ye?z(xe.bracketedPasteMode):0,rt.triggerDataEvent(`${f.C0.ESC}[${de?"":"?"}${Ge};${Se}$y`),!0;var Ge,Se}_updateAttrColor(Q,de,xe,we,Xe){return 2===de?(Q|=50331648,Q&=-16777216,Q|=y.AttributeData.fromColorRGB([xe,we,Xe])):5===de&&(Q&=-50331904,Q|=33554432|255&xe),Q}_extractColor(Q,de,xe){const we=[0,0,-1,0,0,0];let Xe=0,rt=0;do{if(we[rt+Xe]=Q.params[de+rt],Q.hasSubParams(de+rt)){const Me=Q.getSubParams(de+rt);let _e=0;do{5===we[1]&&(Xe=1),we[rt+_e+1+Xe]=Me[_e]}while(++_e<Me.length&&_e+rt+1+Xe<we.length);break}if(5===we[1]&&rt+Xe>=2||2===we[1]&&rt+Xe>=5)break;we[1]&&(Xe=1)}while(++rt+de<Q.length&&rt+Xe<we.length);for(let Me=2;Me<we.length;++Me)-1===we[Me]&&(we[Me]=0);switch(we[0]){case 38:xe.fg=this._updateAttrColor(xe.fg,we[1],we[3],we[4],we[5]);break;case 48:xe.bg=this._updateAttrColor(xe.bg,we[1],we[3],we[4],we[5]);break;case 58:xe.extended=xe.extended.clone(),xe.extended.underlineColor=this._updateAttrColor(xe.extended.underlineColor,we[1],we[3],we[4],we[5])}return rt}_processUnderline(Q,de){de.extended=de.extended.clone(),(!~Q||Q>5)&&(Q=1),de.extended.underlineStyle=Q,de.fg|=268435456,0===Q&&(de.fg&=-268435457),de.updateExtended()}_processSGR0(Q){Q.fg=o.DEFAULT_ATTR_DATA.fg,Q.bg=o.DEFAULT_ATTR_DATA.bg,Q.extended=Q.extended.clone(),Q.extended.underlineStyle=0,Q.extended.underlineColor&=-67108864,Q.updateExtended()}charAttributes(Q){if(1===Q.length&&0===Q.params[0])return this._processSGR0(this._curAttrData),!0;const de=Q.length;let xe;const we=this._curAttrData;for(let Xe=0;Xe<de;Xe++)xe=Q.params[Xe],xe>=30&&xe<=37?(we.fg&=-50331904,we.fg|=16777216|xe-30):xe>=40&&xe<=47?(we.bg&=-50331904,we.bg|=16777216|xe-40):xe>=90&&xe<=97?(we.fg&=-50331904,we.fg|=16777224|xe-90):xe>=100&&xe<=107?(we.bg&=-50331904,we.bg|=16777224|xe-100):0===xe?this._processSGR0(we):1===xe?we.fg|=134217728:3===xe?we.bg|=67108864:4===xe?(we.fg|=268435456,this._processUnderline(Q.hasSubParams(Xe)?Q.getSubParams(Xe)[0]:1,we)):5===xe?we.fg|=536870912:7===xe?we.fg|=67108864:8===xe?we.fg|=1073741824:9===xe?we.fg|=2147483648:2===xe?we.bg|=134217728:21===xe?this._processUnderline(2,we):22===xe?(we.fg&=-134217729,we.bg&=-134217729):23===xe?we.bg&=-67108865:24===xe?(we.fg&=-268435457,this._processUnderline(0,we)):25===xe?we.fg&=-536870913:27===xe?we.fg&=-67108865:28===xe?we.fg&=-1073741825:29===xe?we.fg&=2147483647:39===xe?(we.fg&=-67108864,we.fg|=16777215&o.DEFAULT_ATTR_DATA.fg):49===xe?(we.bg&=-67108864,we.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):38===xe||48===xe||58===xe?Xe+=this._extractColor(Q,Xe,we):53===xe?we.bg|=1073741824:55===xe?we.bg&=-1073741825:59===xe?(we.extended=we.extended.clone(),we.extended.underlineColor=-1,we.updateExtended()):100===xe?(we.fg&=-67108864,we.fg|=16777215&o.DEFAULT_ATTR_DATA.fg,we.bg&=-67108864,we.bg|=16777215&o.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",xe);return!0}deviceStatus(Q){switch(Q.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:this._coreService.triggerDataEvent(`${f.C0.ESC}[${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`)}return!0}deviceStatusPrivate(Q){return 6===Q.params[0]&&this._coreService.triggerDataEvent(`${f.C0.ESC}[?${this._activeBuffer.y+1};${this._activeBuffer.x+1}R`),!0}softReset(Q){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(Q){const de=Q.params[0]||1;switch(de){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}return this._optionsService.options.cursorBlink=de%2==1,!0}setScrollRegion(Q){const de=Q.params[0]||1;let xe;return(Q.length<2||(xe=Q.params[1])>this._bufferService.rows||0===xe)&&(xe=this._bufferService.rows),xe>de&&(this._activeBuffer.scrollTop=de-1,this._activeBuffer.scrollBottom=xe-1,this._setCursor(0,0)),!0}windowOptions(Q){if(!ae(Q.params[0],this._optionsService.rawOptions.windowOptions))return!0;const de=Q.length>1?Q.params[1]:0;switch(Q.params[0]){case 14:2!==de&&this._onRequestWindowsOptionsReport.fire(ne.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(ne.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:0!==de&&2!==de||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==de&&1!==de||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==de&&2!==de||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==de&&1!==de||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(Q){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(Q){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(Q){return this._windowTitle=Q,this._onTitleChange.fire(Q),!0}setIconName(Q){return this._iconName=Q,!0}setOrReportIndexedColor(Q){const de=[],xe=Q.split(";");for(;xe.length>1;){const we=xe.shift(),Xe=xe.shift();if(/^\d+$/.exec(we)){const rt=parseInt(we);if(0<=rt&&rt<256)if("?"===Xe)de.push({type:0,index:rt});else{const Me=(0,v.parseColor)(Xe);Me&&de.push({type:1,index:rt,color:Me})}}}return de.length&&this._onColor.fire(de),!0}setHyperlink(Q){const de=Q.split(";");return!(de.length<2)&&(de[1]?this._createHyperlink(de[0],de[1]):!de[0]&&this._finishHyperlink())}_createHyperlink(Q,de){this._getCurrentLinkId()&&this._finishHyperlink();const xe=Q.split(":");let we;const Xe=xe.findIndex(rt=>rt.startsWith("id="));return-1!==Xe&&(we=xe[Xe].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:we,uri:de}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(Q,de){const xe=Q.split(";");for(let we=0;we<xe.length&&!(de>=this._specialColors.length);++we,++de)if("?"===xe[we])this._onColor.fire([{type:0,index:this._specialColors[de]}]);else{const Xe=(0,v.parseColor)(xe[we]);Xe&&this._onColor.fire([{type:1,index:this._specialColors[de],color:Xe}])}return!0}setOrReportFgColor(Q){return this._setOrReportSpecialColor(Q,0)}setOrReportBgColor(Q){return this._setOrReportSpecialColor(Q,1)}setOrReportCursorColor(Q){return this._setOrReportSpecialColor(Q,2)}restoreIndexedColor(Q){if(!Q)return this._onColor.fire([{type:2}]),!0;const de=[],xe=Q.split(";");for(let we=0;we<xe.length;++we)if(/^\d+$/.exec(xe[we])){const Xe=parseInt(xe[we]);0<=Xe&&Xe<256&&de.push({type:2,index:Xe})}return de.length&&this._onColor.fire(de),!0}restoreFgColor(Q){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(Q){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(Q){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,w.DEFAULT_CHARSET),!0}selectCharset(Q){return 2!==Q.length?(this.selectDefaultCharset(),!0):("/"===Q[0]||this._charsetService.setgCharset(I[Q[0]],w.CHARSETS[Q[1]]||w.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){return this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop?(this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)):(this._activeBuffer.y--,this._restrictCursor()),!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=o.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=o.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(Q){return this._charsetService.setgLevel(Q),!0}screenAlignmentPattern(){const Q=new u.CellData;Q.content=4194304|"E".charCodeAt(0),Q.fg=this._curAttrData.fg,Q.bg=this._curAttrData.bg,this._setCursor(0,0);for(let de=0;de<this._bufferService.rows;++de){const we=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y+de);we&&(we.fill(Q),we.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(Q,de){const xe=this._bufferService.buffer,we=this._optionsService.rawOptions;return(Xe=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${Xe}${f.C0.ESC}\\`),!0))('"q'===Q?`P1$r${this._curAttrData.isProtected()?1:0}"q`:'"p'===Q?'P1$r61;1"p':"r"===Q?`P1$r${xe.scrollTop+1};${xe.scrollBottom+1}r`:"m"===Q?"P1$r0m":" q"===Q?`P1$r${{block:2,underline:4,bar:6}[we.cursorStyle]-(we.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(Q,de){this._dirtyRowTracker.markRangeDirty(Q,de)}};let Ze=class{constructor($e){this._bufferService=$e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty($e){$e<this.start?this.start=$e:$e>this.end&&(this.end=$e)}markRangeDirty($e,Q){$e>Q&&(he=$e,$e=Q,Q=he),$e<this.start&&(this.start=$e),Q>this.end&&(this.end=Q)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};Ze=b([C(0,M.IBufferService)],Ze)},844:(E,d)=>{function h(b){for(const C of b)C.dispose();b.length=0}Object.defineProperty(d,"__esModule",{value:!0}),d.getDisposeArrayDisposable=d.disposeArray=d.toDisposable=d.Disposable=void 0,d.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const b of this._disposables)b.dispose();this._disposables.length=0}register(b){return this._disposables.push(b),b}unregister(b){const C=this._disposables.indexOf(b);-1!==C&&this._disposables.splice(C,1)}},d.toDisposable=function(b){return{dispose:b}},d.disposeArray=h,d.getDisposeArrayDisposable=function(b){return{dispose:()=>h(b)}}},1505:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FourKeyMap=d.TwoKeyMap=void 0;class h{constructor(){this._data={}}set(C,f,w){this._data[C]||(this._data[C]={}),this._data[C][f]=w}get(C,f){return this._data[C]?this._data[C][f]:void 0}clear(){this._data={}}}d.TwoKeyMap=h,d.FourKeyMap=class{constructor(){this._data=new h}set(b,C,f,w,k){this._data.get(b,C)||this._data.set(b,C,new h),this._data.get(b,C).set(f,w,k)}get(b,C,f,w){var k;return null===(k=this._data.get(b,C))||void 0===k?void 0:k.get(f,w)}clear(){this._data.clear()}}},6114:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.isChromeOS=d.isLinux=d.isWindows=d.isIphone=d.isIpad=d.isMac=d.getSafariVersion=d.isSafari=d.isLegacyEdge=d.isFirefox=d.isNode=void 0,d.isNode=typeof navigator>"u";const h=d.isNode?"node":navigator.userAgent,b=d.isNode?"node":navigator.platform;d.isFirefox=h.includes("Firefox"),d.isLegacyEdge=h.includes("Edge"),d.isSafari=/^((?!chrome|android).)*safari/i.test(h),d.getSafariVersion=function(){if(!d.isSafari)return 0;const C=h.match(/Version\/(\d+)/);return null===C||C.length<2?0:parseInt(C[1])},d.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(b),d.isIpad="iPad"===b,d.isIphone="iPhone"===b,d.isWindows=["Windows","Win16","Win32","WinCE"].includes(b),d.isLinux=b.indexOf("Linux")>=0,d.isChromeOS=/\bCrOS\b/.test(h)},6106:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SortedList=void 0;let h=0;d.SortedList=class{constructor(b){this._getKey=b,this._array=[]}clear(){this._array.length=0}insert(b){0!==this._array.length?(h=this._search(this._getKey(b),0,this._array.length-1),this._array.splice(h,0,b)):this._array.push(b)}delete(b){if(0===this._array.length)return!1;const C=this._getKey(b);if(void 0===C||(h=this._search(C,0,this._array.length-1),-1===h)||this._getKey(this._array[h])!==C)return!1;do{if(this._array[h]===b)return this._array.splice(h,1),!0}while(++h<this._array.length&&this._getKey(this._array[h])===C);return!1}*getKeyIterator(b){if(0!==this._array.length&&(h=this._search(b,0,this._array.length-1),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===b))do{yield this._array[h]}while(++h<this._array.length&&this._getKey(this._array[h])===b)}forEachByKey(b,C){if(0!==this._array.length&&(h=this._search(b,0,this._array.length-1),!(h<0||h>=this._array.length)&&this._getKey(this._array[h])===b))do{C(this._array[h])}while(++h<this._array.length&&this._getKey(this._array[h])===b)}values(){return this._array.values()}_search(b,C,f){if(f<C)return C;let w=Math.floor((C+f)/2);const k=this._getKey(this._array[w]);if(k>b)return this._search(b,C,w-1);if(k<b)return this._search(b,w+1,f);for(;w>0&&this._getKey(this._array[w-1])===b;)w--;return w}}},7226:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DebouncedIdleTask=d.IdleTaskQueue=d.PriorityTaskQueue=void 0;const b=h(6114);class C{constructor(){this._tasks=[],this._i=0}enqueue(k){this._tasks.push(k),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(k){this._idleCallback=void 0;let S=0,x=0,o=k.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),x=Math.max(S,x),p=k.timeRemaining(),1.5*x>p)return o-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(o-S))}ms`),void this._start();o=p}this.clear()}}class f extends C{_requestCallback(k){return setTimeout(()=>k(this._createDeadline(16)))}_cancelCallback(k){clearTimeout(k)}_createDeadline(k){const S=Date.now()+k;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}d.PriorityTaskQueue=f,d.IdleTaskQueue=!b.isNode&&"requestIdleCallback"in window?class extends C{_requestCallback(w){return requestIdleCallback(w)}_cancelCallback(w){cancelIdleCallback(w)}}:f,d.DebouncedIdleTask=class{constructor(){this._queue=new d.IdleTaskQueue}set(w){this._queue.clear(),this._queue.enqueue(w)}flush(){this._queue.flush()}}},9282:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.updateWindowsModeWrappedState=void 0;const b=h(643);d.updateWindowsModeWrappedState=function(C){const f=C.buffer.lines.get(C.buffer.ybase+C.buffer.y-1),w=f?.get(C.cols-1),k=C.buffer.lines.get(C.buffer.ybase+C.buffer.y);k&&w&&(k.isWrapped=w[b.CHAR_DATA_CODE_INDEX]!==b.NULL_CELL_CODE&&w[b.CHAR_DATA_CODE_INDEX]!==b.WHITESPACE_CELL_CODE)}},3734:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ExtendedAttrs=d.AttributeData=void 0;class h{constructor(){this.fg=0,this.bg=0,this.extended=new b}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new h;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}d.AttributeData=h;class b{constructor(f=0,w=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=w}get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}clone(){return new b(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}d.ExtendedAttrs=b},9092:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Buffer=d.MAX_BUFFER_SIZE=void 0;const b=h(6349),C=h(8437),f=h(511),w=h(643),k=h(4634),S=h(4863),x=h(7116),o=h(3734),p=h(7226);d.MAX_BUFFER_SIZE=4294967295,d.Buffer=class{constructor(m,u,y){this._hasScrollback=m,this._optionsService=u,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=C.DEFAULT_ATTR_DATA.clone(),this.savedCharset=x.DEFAULT_CHARSET,this.markers=[],this._nullCell=f.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=f.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new p.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new b.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(m){return m?(this._nullCell.fg=m.fg,this._nullCell.bg=m.bg,this._nullCell.extended=m.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new o.ExtendedAttrs),this._nullCell}getWhitespaceCell(m){return m?(this._whitespaceCell.fg=m.fg,this._whitespaceCell.bg=m.bg,this._whitespaceCell.extended=m.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new o.ExtendedAttrs),this._whitespaceCell}getBlankLine(m,u){return new C.BufferLine(this._bufferService.cols,this.getNullCell(m),u)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const m=this.ybase+this.y-this.ydisp;return m>=0&&m<this._rows}_getCorrectBufferLength(m){if(!this._hasScrollback)return m;const u=m+this._optionsService.rawOptions.scrollback;return u>d.MAX_BUFFER_SIZE?d.MAX_BUFFER_SIZE:u}fillViewportRows(m){if(0===this.lines.length){void 0===m&&(m=C.DEFAULT_ATTR_DATA);let u=this._rows;for(;u--;)this.lines.push(this.getBlankLine(m))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new b.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(m,u){const y=this.getNullCell(C.DEFAULT_ATTR_DATA);let M=0;const P=this._getCorrectBufferLength(u);if(P>this.lines.maxLength&&(this.lines.maxLength=P),this.lines.length>0){if(this._cols<m)for(let v=0;v<this.lines.length;v++)M+=+this.lines.get(v).resize(m,y);let B=0;if(this._rows<u)for(let v=this._rows;v<u;v++)this.lines.length<u+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new C.BufferLine(m,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+B+1?(this.ybase--,B++,this.ydisp>0&&this.ydisp--):this.lines.push(new C.BufferLine(m,y)));else for(let v=this._rows;v>u;v--)this.lines.length>u+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(P<this.lines.maxLength){const v=this.lines.length-P;v>0&&(this.lines.trimStart(v),this.ybase=Math.max(this.ybase-v,0),this.ydisp=Math.max(this.ydisp-v,0),this.savedY=Math.max(this.savedY-v,0)),this.lines.maxLength=P}this.x=Math.min(this.x,m-1),this.y=Math.min(this.y,u-1),B&&(this.y+=B),this.savedX=Math.min(this.savedX,m-1),this.scrollTop=0}if(this.scrollBottom=u-1,this._isReflowEnabled&&(this._reflow(m,u),this._cols>m))for(let B=0;B<this.lines.length;B++)M+=+this.lines.get(B).resize(m,y);this._cols=m,this._rows=u,this._memoryCleanupQueue.clear(),M>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let m=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,m=!1);let u=0;for(;this._memoryCleanupPosition<this.lines.length;)if(u+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),u>100)return!0;return m}get _isReflowEnabled(){const m=this._optionsService.rawOptions.windowsPty;return m&&m.buildNumber?this._hasScrollback&&"conpty"===m.backend&&m.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(m,u){this._cols!==m&&(m>this._cols?this._reflowLarger(m,u):this._reflowSmaller(m,u))}_reflowLarger(m,u){const y=(0,k.reflowLargerGetLinesToRemove)(this.lines,this._cols,m,this.ybase+this.y,this.getNullCell(C.DEFAULT_ATTR_DATA));if(y.length>0){const M=(0,k.reflowLargerCreateNewLayout)(this.lines,y);(0,k.reflowLargerApplyNewLayout)(this.lines,M.layout),this._reflowLargerAdjustViewport(m,u,M.countRemoved)}}_reflowLargerAdjustViewport(m,u,y){const M=this.getNullCell(C.DEFAULT_ATTR_DATA);let P=y;for(;P-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<u&&this.lines.push(new C.BufferLine(m,M))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(m,u){const y=this.getNullCell(C.DEFAULT_ATTR_DATA),M=[];let P=0;for(let B=this.lines.length-1;B>=0;B--){let v=this.lines.get(B);if(!v||!v.isWrapped&&v.getTrimmedLength()<=m)continue;const I=[v];for(;v.isWrapped&&B>0;)v=this.lines.get(--B),I.unshift(v);const U=this.ybase+this.y;if(U>=B&&U<B+I.length)continue;const ae=I[I.length-1].getTrimmedLength(),ne=(0,k.reflowSmallerGetNewLineLengths)(I,this._cols,m),he=ne.length-I.length;let je;je=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+he):Math.max(0,this.lines.length-this.lines.maxLength+he);const Ze=[];for(let Xe=0;Xe<he;Xe++){const rt=this.getBlankLine(C.DEFAULT_ATTR_DATA,!0);Ze.push(rt)}Ze.length>0&&(M.push({start:B+I.length+P,newLines:Ze}),P+=Ze.length),I.push(...Ze);let $e=ne.length-1,Q=ne[$e];0===Q&&($e--,Q=ne[$e]);let de=I.length-he-1,xe=ae;for(;de>=0;){const Xe=Math.min(xe,Q);if(void 0===I[$e])break;if(I[$e].copyCellsFrom(I[de],xe-Xe,Q-Xe,Xe,!0),Q-=Xe,0===Q&&($e--,Q=ne[$e]),xe-=Xe,0===xe){de--;const rt=Math.max(de,0);xe=(0,k.getWrappedLineTrimmedLength)(I,rt,this._cols)}}for(let Xe=0;Xe<I.length;Xe++)ne[Xe]<m&&I[Xe].setCell(ne[Xe],y);let we=he-je;for(;we-- >0;)0===this.ybase?this.y<u-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+P)-u&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+he,this.ybase+u-1)}if(M.length>0){const B=[],v=[];for(let $e=0;$e<this.lines.length;$e++)v.push(this.lines.get($e));const I=this.lines.length;let U=I-1,ae=0,ne=M[ae];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+P);let he=0;for(let $e=Math.min(this.lines.maxLength-1,I+P-1);$e>=0;$e--)if(ne&&ne.start>U+he){for(let Q=ne.newLines.length-1;Q>=0;Q--)this.lines.set($e--,ne.newLines[Q]);$e++,B.push({index:U+1,amount:ne.newLines.length}),he+=ne.newLines.length,ne=M[++ae]}else this.lines.set($e,v[U--]);let je=0;for(let $e=B.length-1;$e>=0;$e--)B[$e].index+=je,this.lines.onInsertEmitter.fire(B[$e]),je+=B[$e].amount;const Ze=Math.max(0,I+P-this.lines.maxLength);Ze>0&&this.lines.onTrimEmitter.fire(Ze)}}translateBufferLineToString(m,u,y=0,M){const P=this.lines.get(m);return P?P.translateToString(u,y,M):""}getWrappedRangeForLine(m){let u=m,y=m;for(;u>0&&this.lines.get(u).isWrapped;)u--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:u,last:y}}setupTabStops(m){for(null!=m?this.tabs[m]||(m=this.prevStop(m)):(this.tabs={},m=0);m<this._cols;m+=this._optionsService.rawOptions.tabStopWidth)this.tabs[m]=!0}prevStop(m){for(null==m&&(m=this.x);!this.tabs[--m]&&m>0;);return m>=this._cols?this._cols-1:m<0?0:m}nextStop(m){for(null==m&&(m=this.x);!this.tabs[++m]&&m<this._cols;);return m>=this._cols?this._cols-1:m<0?0:m}clearMarkers(m){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].line===m&&(this.markers[u].dispose(),this.markers.splice(u--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let m=0;m<this.markers.length;m++)this.markers[m].dispose(),this.markers.splice(m--,1);this._isClearing=!1}addMarker(m){const u=new S.Marker(m);return this.markers.push(u),u.register(this.lines.onTrim(y=>{u.line-=y,u.line<0&&u.dispose()})),u.register(this.lines.onInsert(y=>{u.line>=y.index&&(u.line+=y.amount)})),u.register(this.lines.onDelete(y=>{u.line>=y.index&&u.line<y.index+y.amount&&u.dispose(),u.line>y.index&&(u.line-=y.amount)})),u.register(u.onDispose(()=>this._removeMarker(u))),u}_removeMarker(m){this._isClearing||this.markers.splice(this.markers.indexOf(m),1)}}},8437:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferLine=d.DEFAULT_ATTR_DATA=void 0;const b=h(482),C=h(643),f=h(511),w=h(3734);d.DEFAULT_ATTR_DATA=Object.freeze(new w.AttributeData);let k=0;class S{constructor(o,p,m=!1){this.isWrapped=m,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*o);const u=p||f.CellData.fromCharData([0,C.NULL_CELL_CHAR,C.NULL_CELL_WIDTH,C.NULL_CELL_CODE]);for(let y=0;y<o;++y)this.setCell(y,u);this.length=o}get(o){const p=this._data[3*o+0],m=2097151&p;return[this._data[3*o+1],2097152&p?this._combined[o]:m?(0,b.stringFromCodePoint)(m):"",p>>22,2097152&p?this._combined[o].charCodeAt(this._combined[o].length-1):m]}set(o,p){this._data[3*o+1]=p[C.CHAR_DATA_ATTR_INDEX],p[C.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[o]=p[1],this._data[3*o+0]=2097152|o|p[C.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*o+0]=p[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[C.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(o){return this._data[3*o+0]>>22}hasWidth(o){return 12582912&this._data[3*o+0]}getFg(o){return this._data[3*o+1]}getBg(o){return this._data[3*o+2]}hasContent(o){return 4194303&this._data[3*o+0]}getCodePoint(o){const p=this._data[3*o+0];return 2097152&p?this._combined[o].charCodeAt(this._combined[o].length-1):2097151&p}isCombined(o){return 2097152&this._data[3*o+0]}getString(o){const p=this._data[3*o+0];return 2097152&p?this._combined[o]:2097151&p?(0,b.stringFromCodePoint)(2097151&p):""}isProtected(o){return 536870912&this._data[3*o+2]}loadCell(o,p){return k=3*o,p.content=this._data[k+0],p.fg=this._data[k+1],p.bg=this._data[k+2],2097152&p.content&&(p.combinedData=this._combined[o]),268435456&p.bg&&(p.extended=this._extendedAttrs[o]),p}setCell(o,p){2097152&p.content&&(this._combined[o]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[o]=p.extended),this._data[3*o+0]=p.content,this._data[3*o+1]=p.fg,this._data[3*o+2]=p.bg}setCellFromCodePoint(o,p,m,u,y,M){268435456&y&&(this._extendedAttrs[o]=M),this._data[3*o+0]=p|m<<22,this._data[3*o+1]=u,this._data[3*o+2]=y}addCodepointToCell(o,p){let m=this._data[3*o+0];2097152&m?this._combined[o]+=(0,b.stringFromCodePoint)(p):(2097151&m?(this._combined[o]=(0,b.stringFromCodePoint)(2097151&m)+(0,b.stringFromCodePoint)(p),m&=-2097152,m|=2097152):m=4194304|p,this._data[3*o+0]=m)}insertCells(o,p,m,u){if((o%=this.length)&&2===this.getWidth(o-1)&&this.setCellFromCodePoint(o-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs),p<this.length-o){const y=new f.CellData;for(let M=this.length-o-p-1;M>=0;--M)this.setCell(o+p+M,this.loadCell(o+M,y));for(let M=0;M<p;++M)this.setCell(o+M,m)}else for(let y=o;y<this.length;++y)this.setCell(y,m);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs)}deleteCells(o,p,m,u){if(p<this.length-(o%=this.length)){const y=new f.CellData;for(let M=0;M<this.length-o-p;++M)this.setCell(o+M,this.loadCell(o+p+M,y));for(let M=this.length-p;M<this.length;++M)this.setCell(M,m)}else for(let y=o;y<this.length;++y)this.setCell(y,m);o&&2===this.getWidth(o-1)&&this.setCellFromCodePoint(o-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs),0!==this.getWidth(o)||this.hasContent(o)||this.setCellFromCodePoint(o,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs)}replaceCells(o,p,m,u,y=!1){if(y)for(o&&2===this.getWidth(o-1)&&!this.isProtected(o-1)&&this.setCellFromCodePoint(o-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs),p<this.length&&2===this.getWidth(p-1)&&!this.isProtected(p)&&this.setCellFromCodePoint(p,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs);o<p&&o<this.length;)this.isProtected(o)||this.setCell(o,m),o++;else for(o&&2===this.getWidth(o-1)&&this.setCellFromCodePoint(o-1,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs),p<this.length&&2===this.getWidth(p-1)&&this.setCellFromCodePoint(p,0,1,u?.fg||0,u?.bg||0,u?.extended||new w.ExtendedAttrs);o<p&&o<this.length;)this.setCell(o++,m)}resize(o,p){if(o===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const m=3*o;if(o>this.length){if(this._data.buffer.byteLength>=4*m)this._data=new Uint32Array(this._data.buffer,0,m);else{const u=new Uint32Array(m);u.set(this._data),this._data=u}for(let u=this.length;u<o;++u)this.setCell(u,p)}else{this._data=this._data.subarray(0,m);const u=Object.keys(this._combined);for(let M=0;M<u.length;M++){const P=parseInt(u[M],10);P>=o&&delete this._combined[P]}const y=Object.keys(this._extendedAttrs);for(let M=0;M<y.length;M++){const P=parseInt(y[M],10);P>=o&&delete this._extendedAttrs[P]}}return this.length=o,4*m*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const o=new Uint32Array(this._data.length);return o.set(this._data),this._data=o,1}return 0}fill(o,p=!1){if(p)for(let m=0;m<this.length;++m)this.isProtected(m)||this.setCell(m,o);else{this._combined={},this._extendedAttrs={};for(let m=0;m<this.length;++m)this.setCell(m,o)}}copyFrom(o){this.length!==o.length?this._data=new Uint32Array(o._data):this._data.set(o._data),this.length=o.length,this._combined={};for(const p in o._combined)this._combined[p]=o._combined[p];this._extendedAttrs={};for(const p in o._extendedAttrs)this._extendedAttrs[p]=o._extendedAttrs[p];this.isWrapped=o.isWrapped}clone(){const o=new S(0);o._data=new Uint32Array(this._data),o.length=this.length;for(const p in this._combined)o._combined[p]=this._combined[p];for(const p in this._extendedAttrs)o._extendedAttrs[p]=this._extendedAttrs[p];return o.isWrapped=this.isWrapped,o}getTrimmedLength(){for(let o=this.length-1;o>=0;--o)if(4194303&this._data[3*o+0])return o+(this._data[3*o+0]>>22);return 0}copyCellsFrom(o,p,m,u,y){const M=o._data;if(y)for(let B=u-1;B>=0;B--){for(let v=0;v<3;v++)this._data[3*(m+B)+v]=M[3*(p+B)+v];268435456&M[3*(p+B)+2]&&(this._extendedAttrs[m+B]=o._extendedAttrs[p+B])}else for(let B=0;B<u;B++){for(let v=0;v<3;v++)this._data[3*(m+B)+v]=M[3*(p+B)+v];268435456&M[3*(p+B)+2]&&(this._extendedAttrs[m+B]=o._extendedAttrs[p+B])}const P=Object.keys(o._combined);for(let B=0;B<P.length;B++){const v=parseInt(P[B],10);v>=p&&(this._combined[v-p+m]=o._combined[v])}}translateToString(o=!1,p=0,m=this.length){o&&(m=Math.min(m,this.getTrimmedLength()));let u="";for(;p<m;){const y=this._data[3*p+0],M=2097151&y;u+=2097152&y?this._combined[p]:M?(0,b.stringFromCodePoint)(M):C.WHITESPACE_CELL_CHAR,p+=y>>22||1}return u}}d.BufferLine=S},4841:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.getRangeLength=void 0,d.getRangeLength=function(h,b){if(h.start.y>h.end.y)throw new Error(`Buffer range end (${h.end.x}, ${h.end.y}) cannot be before start (${h.start.x}, ${h.start.y})`);return b*(h.end.y-h.start.y)+(h.end.x-h.start.x+1)}},4634:(E,d)=>{function h(b,C,f){if(C===b.length-1)return b[C].getTrimmedLength();const w=!b[C].hasContent(f-1)&&1===b[C].getWidth(f-1),k=2===b[C+1].getWidth(0);return w&&k?f-1:f}Object.defineProperty(d,"__esModule",{value:!0}),d.getWrappedLineTrimmedLength=d.reflowSmallerGetNewLineLengths=d.reflowLargerApplyNewLayout=d.reflowLargerCreateNewLayout=d.reflowLargerGetLinesToRemove=void 0,d.reflowLargerGetLinesToRemove=function(b,C,f,w,k){const S=[];for(let x=0;x<b.length-1;x++){let o=x,p=b.get(++o);if(!p.isWrapped)continue;const m=[b.get(x)];for(;o<b.length&&p.isWrapped;)m.push(p),p=b.get(++o);if(w>=x&&w<o){x+=m.length-1;continue}let u=0,y=h(m,u,C),M=1,P=0;for(;M<m.length;){const v=h(m,M,C),ae=Math.min(v-P,f-y);m[u].copyCellsFrom(m[M],P,y,ae,!1),y+=ae,y===f&&(u++,y=0),P+=ae,P===v&&(M++,P=0),0===y&&0!==u&&2===m[u-1].getWidth(f-1)&&(m[u].copyCellsFrom(m[u-1],f-1,y++,1,!1),m[u-1].setCell(f-1,k))}m[u].replaceCells(y,f,k);let B=0;for(let v=m.length-1;v>0&&(v>u||0===m[v].getTrimmedLength());v--)B++;B>0&&(S.push(x+m.length-B),S.push(B)),x+=m.length-1}return S},d.reflowLargerCreateNewLayout=function(b,C){const f=[];let w=0,k=C[w],S=0;for(let x=0;x<b.length;x++)if(k===x){const o=C[++w];b.onDeleteEmitter.fire({index:x-S,amount:o}),x+=o-1,S+=o,k=C[++w]}else f.push(x);return{layout:f,countRemoved:S}},d.reflowLargerApplyNewLayout=function(b,C){const f=[];for(let w=0;w<C.length;w++)f.push(b.get(C[w]));for(let w=0;w<f.length;w++)b.set(w,f[w]);b.length=C.length},d.reflowSmallerGetNewLineLengths=function(b,C,f){const w=[],k=b.map((p,m)=>h(b,m,C)).reduce((p,m)=>p+m);let S=0,x=0,o=0;for(;o<k;){if(k-o<f){w.push(k-o);break}S+=f;const p=h(b,x,C);S>p&&(S-=p,x++);const m=2===b[x].getWidth(S-1);m&&S--;const u=m?f-1:f;w.push(u),o+=u}return w},d.getWrappedLineTrimmedLength=h},5295:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferSet=void 0;const b=h(9092),C=h(8460),f=h(844);d.BufferSet=class w extends f.Disposable{constructor(S,x){super(),this._optionsService=S,this._bufferService=x,this._onBufferActivate=this.register(new C.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new b.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new b.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,x){this._normal.resize(S,x),this._alt.resize(S,x),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}},511:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CellData=void 0;const b=h(482),C=h(643),f=h(3734);class w extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const x=new w;return x.setFromCharData(S),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,b.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[C.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(S[C.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(2===S[C.CHAR_DATA_CHAR_INDEX].length){const o=S[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=o&&o<=56319){const p=S[C.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(o-55296)+p-56320+65536|S[C.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=S[C.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[C.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=S[C.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[C.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}d.CellData=w},643:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WHITESPACE_CELL_CODE=d.WHITESPACE_CELL_WIDTH=d.WHITESPACE_CELL_CHAR=d.NULL_CELL_CODE=d.NULL_CELL_WIDTH=d.NULL_CELL_CHAR=d.CHAR_DATA_CODE_INDEX=d.CHAR_DATA_WIDTH_INDEX=d.CHAR_DATA_CHAR_INDEX=d.CHAR_DATA_ATTR_INDEX=d.DEFAULT_EXT=d.DEFAULT_ATTR=d.DEFAULT_COLOR=void 0,d.DEFAULT_COLOR=0,d.DEFAULT_ATTR=256|d.DEFAULT_COLOR<<9,d.DEFAULT_EXT=0,d.CHAR_DATA_ATTR_INDEX=0,d.CHAR_DATA_CHAR_INDEX=1,d.CHAR_DATA_WIDTH_INDEX=2,d.CHAR_DATA_CODE_INDEX=3,d.NULL_CELL_CHAR="",d.NULL_CELL_WIDTH=1,d.NULL_CELL_CODE=0,d.WHITESPACE_CELL_CHAR=" ",d.WHITESPACE_CELL_WIDTH=1,d.WHITESPACE_CELL_CODE=32},4863:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Marker=void 0;const b=h(8460),C=h(844);class f{constructor(k){this.line=k,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new b.EventEmitter),this.onDispose=this._onDispose.event}get id(){return this._id}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,C.disposeArray)(this._disposables),this._disposables.length=0)}register(k){return this._disposables.push(k),k}}d.Marker=f,f._nextId=1},7116:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DEFAULT_CHARSET=d.CHARSETS=void 0,d.CHARSETS={},d.DEFAULT_CHARSET=d.CHARSETS.B,d.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},d.CHARSETS.A={"#":"\xa3"},d.CHARSETS.B=void 0,d.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},d.CHARSETS.C=d.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},d.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},d.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},d.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},d.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},d.CHARSETS.E=d.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},d.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},d.CHARSETS.H=d.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},d.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(E,d)=>{var h,b,C;Object.defineProperty(d,"__esModule",{value:!0}),d.C1_ESCAPED=d.C1=d.C0=void 0,(C=h=d.C0||(d.C0={})).NUL="\0",C.SOH="\x01",C.STX="\x02",C.ETX="\x03",C.EOT="\x04",C.ENQ="\x05",C.ACK="\x06",C.BEL="\x07",C.BS="\b",C.HT="\t",C.LF="\n",C.VT="\v",C.FF="\f",C.CR="\r",C.SO="\x0e",C.SI="\x0f",C.DLE="\x10",C.DC1="\x11",C.DC2="\x12",C.DC3="\x13",C.DC4="\x14",C.NAK="\x15",C.SYN="\x16",C.ETB="\x17",C.CAN="\x18",C.EM="\x19",C.SUB="\x1a",C.ESC="\x1b",C.FS="\x1c",C.GS="\x1d",C.RS="\x1e",C.US="\x1f",C.SP=" ",C.DEL="\x7f",(b=d.C1||(d.C1={})).PAD="\x80",b.HOP="\x81",b.BPH="\x82",b.NBH="\x83",b.IND="\x84",b.NEL="\x85",b.SSA="\x86",b.ESA="\x87",b.HTS="\x88",b.HTJ="\x89",b.VTS="\x8a",b.PLD="\x8b",b.PLU="\x8c",b.RI="\x8d",b.SS2="\x8e",b.SS3="\x8f",b.DCS="\x90",b.PU1="\x91",b.PU2="\x92",b.STS="\x93",b.CCH="\x94",b.MW="\x95",b.SPA="\x96",b.EPA="\x97",b.SOS="\x98",b.SGCI="\x99",b.SCI="\x9a",b.CSI="\x9b",b.ST="\x9c",b.OSC="\x9d",b.PM="\x9e",b.APC="\x9f",(d.C1_ESCAPED||(d.C1_ESCAPED={})).ST=`${h.ESC}\\`},7399:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.evaluateKeyboardEvent=void 0;const b=h(2584),C={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};d.evaluateKeyboardEvent=function(f,w,k,S){const x={type:0,cancel:!1,key:void 0},o=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:"UIKeyInputUpArrow"===f.key?x.key=w?b.C0.ESC+"OA":b.C0.ESC+"[A":"UIKeyInputLeftArrow"===f.key?x.key=w?b.C0.ESC+"OD":b.C0.ESC+"[D":"UIKeyInputRightArrow"===f.key?x.key=w?b.C0.ESC+"OC":b.C0.ESC+"[C":"UIKeyInputDownArrow"===f.key&&(x.key=w?b.C0.ESC+"OB":b.C0.ESC+"[B");break;case 8:if(f.altKey){x.key=b.C0.ESC+b.C0.DEL;break}x.key=b.C0.DEL;break;case 9:if(f.shiftKey){x.key=b.C0.ESC+"[Z";break}x.key=b.C0.HT,x.cancel=!0;break;case 13:x.key=f.altKey?b.C0.ESC+b.C0.CR:b.C0.CR,x.cancel=!0;break;case 27:x.key=b.C0.ESC,f.altKey&&(x.key=b.C0.ESC+b.C0.ESC),x.cancel=!0;break;case 37:if(f.metaKey)break;o?(x.key=b.C0.ESC+"[1;"+(o+1)+"D",x.key===b.C0.ESC+"[1;3D"&&(x.key=b.C0.ESC+(k?"b":"[1;5D"))):x.key=w?b.C0.ESC+"OD":b.C0.ESC+"[D";break;case 39:if(f.metaKey)break;o?(x.key=b.C0.ESC+"[1;"+(o+1)+"C",x.key===b.C0.ESC+"[1;3C"&&(x.key=b.C0.ESC+(k?"f":"[1;5C"))):x.key=w?b.C0.ESC+"OC":b.C0.ESC+"[C";break;case 38:if(f.metaKey)break;o?(x.key=b.C0.ESC+"[1;"+(o+1)+"A",k||x.key!==b.C0.ESC+"[1;3A"||(x.key=b.C0.ESC+"[1;5A")):x.key=w?b.C0.ESC+"OA":b.C0.ESC+"[A";break;case 40:if(f.metaKey)break;o?(x.key=b.C0.ESC+"[1;"+(o+1)+"B",k||x.key!==b.C0.ESC+"[1;3B"||(x.key=b.C0.ESC+"[1;5B")):x.key=w?b.C0.ESC+"OB":b.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(x.key=b.C0.ESC+"[2~");break;case 46:x.key=o?b.C0.ESC+"[3;"+(o+1)+"~":b.C0.ESC+"[3~";break;case 36:x.key=o?b.C0.ESC+"[1;"+(o+1)+"H":w?b.C0.ESC+"OH":b.C0.ESC+"[H";break;case 35:x.key=o?b.C0.ESC+"[1;"+(o+1)+"F":w?b.C0.ESC+"OF":b.C0.ESC+"[F";break;case 33:f.shiftKey?x.type=2:x.key=f.ctrlKey?b.C0.ESC+"[5;"+(o+1)+"~":b.C0.ESC+"[5~";break;case 34:f.shiftKey?x.type=3:x.key=f.ctrlKey?b.C0.ESC+"[6;"+(o+1)+"~":b.C0.ESC+"[6~";break;case 112:x.key=o?b.C0.ESC+"[1;"+(o+1)+"P":b.C0.ESC+"OP";break;case 113:x.key=o?b.C0.ESC+"[1;"+(o+1)+"Q":b.C0.ESC+"OQ";break;case 114:x.key=o?b.C0.ESC+"[1;"+(o+1)+"R":b.C0.ESC+"OR";break;case 115:x.key=o?b.C0.ESC+"[1;"+(o+1)+"S":b.C0.ESC+"OS";break;case 116:x.key=o?b.C0.ESC+"[15;"+(o+1)+"~":b.C0.ESC+"[15~";break;case 117:x.key=o?b.C0.ESC+"[17;"+(o+1)+"~":b.C0.ESC+"[17~";break;case 118:x.key=o?b.C0.ESC+"[18;"+(o+1)+"~":b.C0.ESC+"[18~";break;case 119:x.key=o?b.C0.ESC+"[19;"+(o+1)+"~":b.C0.ESC+"[19~";break;case 120:x.key=o?b.C0.ESC+"[20;"+(o+1)+"~":b.C0.ESC+"[20~";break;case 121:x.key=o?b.C0.ESC+"[21;"+(o+1)+"~":b.C0.ESC+"[21~";break;case 122:x.key=o?b.C0.ESC+"[23;"+(o+1)+"~":b.C0.ESC+"[23~";break;case 123:x.key=o?b.C0.ESC+"[24;"+(o+1)+"~":b.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(k&&!S||!f.altKey||f.metaKey)!k||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&1===f.key.length?x.key=f.key:f.key&&f.ctrlKey&&("_"===f.key&&(x.key=b.C0.US),"@"===f.key&&(x.key=b.C0.NUL)):65===f.keyCode&&(x.type=1);else{const p=C[f.keyCode],m=p?.[f.shiftKey?1:0];if(m)x.key=b.C0.ESC+m;else if(f.keyCode>=65&&f.keyCode<=90){let y=String.fromCharCode(f.ctrlKey?f.keyCode-64:f.keyCode+32);f.shiftKey&&(y=y.toUpperCase()),x.key=b.C0.ESC+y}else if(32===f.keyCode)x.key=b.C0.ESC+(f.ctrlKey?b.C0.NUL:" ");else if("Dead"===f.key&&f.code.startsWith("Key")){let u=f.code.slice(3,4);f.shiftKey||(u=u.toLowerCase()),x.key=b.C0.ESC+u,x.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?x.key=String.fromCharCode(f.keyCode-64):32===f.keyCode?x.key=b.C0.NUL:f.keyCode>=51&&f.keyCode<=55?x.key=String.fromCharCode(f.keyCode-51+27):56===f.keyCode?x.key=b.C0.DEL:219===f.keyCode?x.key=b.C0.ESC:220===f.keyCode?x.key=b.C0.FS:221===f.keyCode&&(x.key=b.C0.GS)}return x}},482:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Utf8ToUtf32=d.StringToUtf32=d.utf32ToString=d.stringFromCodePoint=void 0,d.stringFromCodePoint=function(h){return h>65535?(h-=65536,String.fromCharCode(55296+(h>>10))+String.fromCharCode(h%1024+56320)):String.fromCharCode(h)},d.utf32ToString=function(h,b=0,C=h.length){let f="";for(let w=b;w<C;++w){let k=h[w];k>65535?(k-=65536,f+=String.fromCharCode(55296+(k>>10))+String.fromCharCode(k%1024+56320)):f+=String.fromCharCode(k)}return f},d.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(h,b){const C=h.length;if(!C)return 0;let f=0,w=0;if(this._interim){const k=h.charCodeAt(w++);56320<=k&&k<=57343?b[f++]=1024*(this._interim-55296)+k-56320+65536:(b[f++]=this._interim,b[f++]=k),this._interim=0}for(let k=w;k<C;++k){const S=h.charCodeAt(k);if(55296<=S&&S<=56319){if(++k>=C)return this._interim=S,f;const x=h.charCodeAt(k);56320<=x&&x<=57343?b[f++]=1024*(S-55296)+x-56320+65536:(b[f++]=S,b[f++]=x)}else 65279!==S&&(b[f++]=S)}return f}},d.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(h,b){const C=h.length;if(!C)return 0;let f,w,k,S,x=0,o=0,p=0;if(this.interim[0]){let y=!1,M=this.interim[0];M&=192==(224&M)?31:224==(240&M)?15:7;let P,B=0;for(;(P=63&this.interim[++B])&&B<4;)M<<=6,M|=P;const v=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,I=v-B;for(;p<I;){if(p>=C)return 0;if(P=h[p++],128!=(192&P)){p--,y=!0;break}this.interim[B++]=P,M<<=6,M|=63&P}y||(2===v?M<128?p--:b[x++]=M:3===v?M<2048||M>=55296&&M<=57343||65279===M||(b[x++]=M):M<65536||M>1114111||(b[x++]=M)),this.interim.fill(0)}const m=C-4;let u=p;for(;u<C;){for(;!(!(u<m)||128&(f=h[u])||128&(w=h[u+1])||128&(k=h[u+2])||128&(S=h[u+3]));)b[x++]=f,b[x++]=w,b[x++]=k,b[x++]=S,u+=4;if(f=h[u++],f<128)b[x++]=f;else if(192==(224&f)){if(u>=C)return this.interim[0]=f,x;if(w=h[u++],128!=(192&w)){u--;continue}if(o=(31&f)<<6|63&w,o<128){u--;continue}b[x++]=o}else if(224==(240&f)){if(u>=C)return this.interim[0]=f,x;if(w=h[u++],128!=(192&w)){u--;continue}if(u>=C)return this.interim[0]=f,this.interim[1]=w,x;if(k=h[u++],128!=(192&k)){u--;continue}if(o=(15&f)<<12|(63&w)<<6|63&k,o<2048||o>=55296&&o<=57343||65279===o)continue;b[x++]=o}else if(240==(248&f)){if(u>=C)return this.interim[0]=f,x;if(w=h[u++],128!=(192&w)){u--;continue}if(u>=C)return this.interim[0]=f,this.interim[1]=w,x;if(k=h[u++],128!=(192&k)){u--;continue}if(u>=C)return this.interim[0]=f,this.interim[1]=w,this.interim[2]=k,x;if(S=h[u++],128!=(192&S)){u--;continue}if(o=(7&f)<<18|(63&w)<<12|(63&k)<<6|63&S,o<65536||o>1114111)continue;b[x++]=o}}return x}}},225:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UnicodeV6=void 0;const h=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],b=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let C;d.UnicodeV6=class{constructor(){if(this.version="6",!C){C=new Uint8Array(65536),C.fill(1),C[0]=0,C.fill(0,1,32),C.fill(0,127,160),C.fill(2,4352,4448),C[9001]=2,C[9002]=2,C.fill(2,11904,42192),C[12351]=1,C.fill(2,44032,55204),C.fill(2,63744,64256),C.fill(2,65040,65050),C.fill(2,65072,65136),C.fill(2,65280,65377),C.fill(2,65504,65511);for(let f=0;f<h.length;++f)C.fill(0,h[f][0],h[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?C[f]:function(w,k){let S,x=0,o=k.length-1;if(w<k[0][0]||w>k[o][1])return!1;for(;o>=x;)if(S=x+o>>1,w>k[S][1])x=S+1;else{if(!(w<k[S][0]))return!0;o=S-1}return!1}(f,b)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.WriteBuffer=void 0;const b=h(8460),C=h(844);d.WriteBuffer=class f extends C.Disposable{constructor(k){super(),this._action=k,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new b.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(k,S){if(void 0!==S&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=k.length,this._writeBuffer.push(k),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const o=this._callbacks.shift();o&&o()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(k,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=k.length,this._writeBuffer.push(k),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=k.length,this._writeBuffer.push(k),this._callbacks.push(S)}_innerWrite(k=0,S=!0){const x=k||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const o=this._writeBuffer[this._bufferOffset],p=this._action(o,S);if(p){const u=y=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(x,y);return void p.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(u)}const m=this._callbacks[this._bufferOffset];if(m&&m(),this._bufferOffset++,this._pendingData-=o.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}},5941:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.toRgbString=d.parseColor=void 0;const h=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,b=/^[\da-f]+$/;function C(f,w){const k=f.toString(16),S=k.length<2?"0"+k:k;switch(w){case 4:return k[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}d.parseColor=function(f){if(!f)return;let w=f.toLowerCase();if(0===w.indexOf("rgb:")){w=w.slice(4);const k=h.exec(w);if(k){const S=k[1]?15:k[4]?255:k[7]?4095:65535;return[Math.round(parseInt(k[1]||k[4]||k[7]||k[10],16)/S*255),Math.round(parseInt(k[2]||k[5]||k[8]||k[11],16)/S*255),Math.round(parseInt(k[3]||k[6]||k[9]||k[12],16)/S*255)]}}else if(0===w.indexOf("#")&&(w=w.slice(1),b.exec(w)&&[3,6,9,12].includes(w.length))){const k=w.length/3,S=[0,0,0];for(let x=0;x<3;++x){const o=parseInt(w.slice(k*x,k*x+k),16);S[x]=1===k?o<<4:2===k?o:3===k?o>>4:o>>8}return S}},d.toRgbString=function(f,w=16){const[k,S,x]=f;return`rgb:${C(k,w)}/${C(S,w)}/${C(x,w)}`}},5770:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PAYLOAD_LIMIT=void 0,d.PAYLOAD_LIMIT=1e7},6351:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DcsHandler=d.DcsParser=void 0;const b=h(482),C=h(8742),f=h(5770),w=[];d.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=w,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=w}registerHandler(S,x){void 0===this._handlers[S]&&(this._handlers[S]=[]);const o=this._handlers[S];return o.push(x),{dispose:()=>{const p=o.indexOf(x);-1!==p&&o.splice(p,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=w,this._ident=0}hook(S,x){if(this.reset(),this._ident=S,this._active=this._handlers[S]||w,this._active.length)for(let o=this._active.length-1;o>=0;o--)this._active[o].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(S,x,o){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(S,x,o);else this._handlerFb(this._ident,"PUT",(0,b.utf32ToString)(S,x,o))}unhook(S,x=!0){if(this._active.length){let o=!1,p=this._active.length-1,m=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,o=x,m=this._stack.fallThrough,this._stack.paused=!1),!m&&!1===o){for(;p>=0&&(o=this._active[p].unhook(S),!0!==o);p--)if(o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,o;p--}for(;p>=0;p--)if(o=this._active[p].unhook(!1),o instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,o}else this._handlerFb(this._ident,"UNHOOK",S);this._active=w,this._ident=0}};const k=new C.Params;k.addParam(0),d.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=k,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():k,this._data="",this._hitLimit=!1}put(S,x,o){this._hitLimit||(this._data+=(0,b.utf32ToString)(S,x,o),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let x=!1;if(this._hitLimit)x=!1;else if(S&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(o=>(this._params=k,this._data="",this._hitLimit=!1,o));return this._params=k,this._data="",this._hitLimit=!1,x}}},2015:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.EscapeSequenceParser=d.VT500_TRANSITION_TABLE=d.TransitionTable=void 0;const b=h(844),C=h(8742),f=h(6242),w=h(6351);class k{constructor(p){this.table=new Uint8Array(p)}setDefault(p,m){this.table.fill(p<<4|m)}add(p,m,u,y){this.table[m<<8|p]=u<<4|y}addMany(p,m,u,y){for(let M=0;M<p.length;M++)this.table[m<<8|p[M]]=u<<4|y}}d.TransitionTable=k;const S=160;d.VT500_TRANSITION_TABLE=function(){const o=new k(4095),p=Array.apply(null,Array(256)).map((B,v)=>v),m=(B,v)=>p.slice(B,v),u=m(32,127),y=m(0,24);y.push(25),y.push.apply(y,m(28,32));const M=m(0,14);let P;for(P in o.setDefault(1,0),o.addMany(u,0,2,0),M)o.addMany([24,26,153,154],P,3,0),o.addMany(m(128,144),P,3,0),o.addMany(m(144,152),P,3,0),o.add(156,P,0,0),o.add(27,P,11,1),o.add(157,P,4,8),o.addMany([152,158,159],P,0,7),o.add(155,P,11,3),o.add(144,P,11,9);return o.addMany(y,0,3,0),o.addMany(y,1,3,1),o.add(127,1,0,1),o.addMany(y,8,0,8),o.addMany(y,3,3,3),o.add(127,3,0,3),o.addMany(y,4,3,4),o.add(127,4,0,4),o.addMany(y,6,3,6),o.addMany(y,5,3,5),o.add(127,5,0,5),o.addMany(y,2,3,2),o.add(127,2,0,2),o.add(93,1,4,8),o.addMany(u,8,5,8),o.add(127,8,5,8),o.addMany([156,27,24,26,7],8,6,0),o.addMany(m(28,32),8,0,8),o.addMany([88,94,95],1,0,7),o.addMany(u,7,0,7),o.addMany(y,7,0,7),o.add(156,7,0,0),o.add(127,7,0,7),o.add(91,1,11,3),o.addMany(m(64,127),3,7,0),o.addMany(m(48,60),3,8,4),o.addMany([60,61,62,63],3,9,4),o.addMany(m(48,60),4,8,4),o.addMany(m(64,127),4,7,0),o.addMany([60,61,62,63],4,0,6),o.addMany(m(32,64),6,0,6),o.add(127,6,0,6),o.addMany(m(64,127),6,0,0),o.addMany(m(32,48),3,9,5),o.addMany(m(32,48),5,9,5),o.addMany(m(48,64),5,0,6),o.addMany(m(64,127),5,7,0),o.addMany(m(32,48),4,9,5),o.addMany(m(32,48),1,9,2),o.addMany(m(32,48),2,9,2),o.addMany(m(48,127),2,10,0),o.addMany(m(48,80),1,10,0),o.addMany(m(81,88),1,10,0),o.addMany([89,90,92],1,10,0),o.addMany(m(96,127),1,10,0),o.add(80,1,11,9),o.addMany(y,9,0,9),o.add(127,9,0,9),o.addMany(m(28,32),9,0,9),o.addMany(m(32,48),9,9,12),o.addMany(m(48,60),9,8,10),o.addMany([60,61,62,63],9,9,10),o.addMany(y,11,0,11),o.addMany(m(32,128),11,0,11),o.addMany(m(28,32),11,0,11),o.addMany(y,10,0,10),o.add(127,10,0,10),o.addMany(m(28,32),10,0,10),o.addMany(m(48,60),10,8,10),o.addMany([60,61,62,63],10,0,11),o.addMany(m(32,48),10,9,12),o.addMany(y,12,0,12),o.add(127,12,0,12),o.addMany(m(28,32),12,0,12),o.addMany(m(32,48),12,9,12),o.addMany(m(48,64),12,0,11),o.addMany(m(64,127),12,12,13),o.addMany(m(64,127),10,12,13),o.addMany(m(64,127),9,12,13),o.addMany(y,13,13,13),o.addMany(u,13,13,13),o.add(127,13,0,13),o.addMany([27,156,24,26],13,14,0),o.add(S,0,2,0),o.add(S,8,5,8),o.add(S,6,0,6),o.add(S,11,0,11),o.add(S,13,13,13),o}(),d.EscapeSequenceParser=class x extends b.Disposable{constructor(p=d.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new C.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(m,u,y)=>{},this._executeHandlerFb=m=>{},this._csiHandlerFb=(m,u)=>{},this._escHandlerFb=m=>{},this._errorHandlerFb=m=>m,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,b.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new w.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,m=[64,126]){let u=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(u=p.prefix.charCodeAt(0),u&&60>u||u>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let M=0;M<p.intermediates.length;++M){const P=p.intermediates.charCodeAt(M);if(32>P||P>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");u<<=8,u|=P}}if(1!==p.final.length)throw new Error("final must be a single byte");const y=p.final.charCodeAt(0);if(m[0]>y||y>m[1])throw new Error(`final must be in range ${m[0]} .. ${m[1]}`);return u<<=8,u|=y,u}identToString(p){const m=[];for(;p;)m.push(String.fromCharCode(255&p)),p>>=8;return m.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,m){const u=this._identifier(p,[48,126]);void 0===this._escHandlers[u]&&(this._escHandlers[u]=[]);const y=this._escHandlers[u];return y.push(m),{dispose:()=>{const M=y.indexOf(m);-1!==M&&y.splice(M,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,m){this._executeHandlers[p.charCodeAt(0)]=m}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,m){const u=this._identifier(p);void 0===this._csiHandlers[u]&&(this._csiHandlers[u]=[]);const y=this._csiHandlers[u];return y.push(m),{dispose:()=>{const M=y.indexOf(m);-1!==M&&y.splice(M,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,m){return this._dcsParser.registerHandler(this._identifier(p),m)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,m){return this._oscParser.registerHandler(p,m)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,m,u,y,M){this._parseStack.state=p,this._parseStack.handlers=m,this._parseStack.handlerPos=u,this._parseStack.transition=y,this._parseStack.chunkPos=M}parse(p,m,u){let y,M=0,P=0,B=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,B=this._parseStack.chunkPos+1;else{if(void 0===u||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const v=this._parseStack.handlers;let I=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===u&&I>-1)for(;I>=0&&(y=v[I](this._params),!0!==y);I--)if(y instanceof Promise)return this._parseStack.handlerPos=I,y;this._parseStack.handlers=[];break;case 4:if(!1===u&&I>-1)for(;I>=0&&(y=v[I](),!0!==y);I--)if(y instanceof Promise)return this._parseStack.handlerPos=I,y;this._parseStack.handlers=[];break;case 6:if(M=p[this._parseStack.chunkPos],y=this._dcsParser.unhook(24!==M&&26!==M,u),y)return y;27===M&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(M=p[this._parseStack.chunkPos],y=this._oscParser.end(24!==M&&26!==M,u),y)return y;27===M&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,B=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let v=B;v<m;++v){switch(M=p[v],P=this._transitions.table[this.currentState<<8|(M<160?M:S)],P>>4){case 2:for(let he=v+1;;++he){if(he>=m||(M=p[he])<32||M>126&&M<S){this._printHandler(p,v,he),v=he-1;break}if(++he>=m||(M=p[he])<32||M>126&&M<S){this._printHandler(p,v,he),v=he-1;break}if(++he>=m||(M=p[he])<32||M>126&&M<S){this._printHandler(p,v,he),v=he-1;break}if(++he>=m||(M=p[he])<32||M>126&&M<S){this._printHandler(p,v,he),v=he-1;break}}break;case 3:this._executeHandlers[M]?this._executeHandlers[M]():this._executeHandlerFb(M),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:v,code:M,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const I=this._csiHandlers[this._collect<<8|M];let U=I?I.length-1:-1;for(;U>=0&&(y=I[U](this._params),!0!==y);U--)if(y instanceof Promise)return this._preserveStack(3,I,U,P,v),y;U<0&&this._csiHandlerFb(this._collect<<8|M,this._params),this.precedingCodepoint=0;break;case 8:do{switch(M){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(M-48)}}while(++v<m&&(M=p[v])>47&&M<60);v--;break;case 9:this._collect<<=8,this._collect|=M;break;case 10:const ae=this._escHandlers[this._collect<<8|M];let ne=ae?ae.length-1:-1;for(;ne>=0&&(y=ae[ne](),!0!==y);ne--)if(y instanceof Promise)return this._preserveStack(4,ae,ne,P,v),y;ne<0&&this._escHandlerFb(this._collect<<8|M),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|M,this._params);break;case 13:for(let he=v+1;;++he)if(he>=m||24===(M=p[he])||26===M||27===M||M>127&&M<S){this._dcsParser.put(p,v,he),v=he-1;break}break;case 14:if(y=this._dcsParser.unhook(24!==M&&26!==M),y)return this._preserveStack(6,[],0,P,v),y;27===M&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let he=v+1;;he++)if(he>=m||(M=p[he])<32||M>127&&M<S){this._oscParser.put(p,v,he),v=he-1;break}break;case 6:if(y=this._oscParser.end(24!==M&&26!==M),y)return this._preserveStack(5,[],0,P,v),y;27===M&&(P|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&P}}}},6242:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OscHandler=d.OscParser=void 0;const b=h(5770),C=h(482),f=[];d.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(w,k){void 0===this._handlers[w]&&(this._handlers[w]=[]);const S=this._handlers[w];return S.push(k),{dispose:()=>{const x=S.indexOf(k);-1!==x&&S.splice(x,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(2===this._state)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].start();else this._handlerFb(this._id,"START")}_put(w,k,S){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(w,k,S);else this._handlerFb(this._id,"PUT",(0,C.utf32ToString)(w,k,S))}start(){this.reset(),this._state=1}put(w,k,S){if(3!==this._state){if(1===this._state)for(;k<S;){const x=w[k++];if(59===x){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+x-48}2===this._state&&S-k>0&&this._put(w,k,S)}}end(w,k=!0){if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let S=!1,x=this._active.length-1,o=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,S=k,o=this._stack.fallThrough,this._stack.paused=!1),!o&&!1===S){for(;x>=0&&(S=this._active[x].end(w),!0!==S);x--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,S;x--}for(;x>=0;x--)if(S=this._active[x].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",w);this._active=f,this._id=-1,this._state=0}}},d.OscHandler=class{constructor(w){this._handler=w,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(w,k,S){this._hitLimit||(this._data+=(0,C.utf32ToString)(w,k,S),this._data.length>b.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(w){let k=!1;if(this._hitLimit)k=!1;else if(w&&(k=this._handler(this._data),k instanceof Promise))return k.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,k}}},8742:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.Params=void 0;const h=2147483647;class b{constructor(f=32,w=32){if(this.maxLength=f,this.maxSubParamsLength=w,w>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(w),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}static fromArray(f){const w=new b;if(!f.length)return w;for(let k=Array.isArray(f[0])?1:0;k<f.length;++k){const S=f[k];if(Array.isArray(S))for(let x=0;x<S.length;++x)w.addSubParam(S[x]);else w.addParam(S)}return w}clone(){const f=new b(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let w=0;w<this.length;++w){f.push(this.params[w]);const k=this._subParamsIdx[w]>>8,S=255&this._subParamsIdx[w];S-k>0&&f.push(Array.prototype.slice.call(this._subParams,k,S))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>h?h:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>h?h:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const w=this._subParamsIdx[f]>>8,k=255&this._subParamsIdx[f];return k-w>0?this._subParams.subarray(w,k):null}getSubParamsAll(){const f={};for(let w=0;w<this.length;++w){const k=this._subParamsIdx[w]>>8,S=255&this._subParamsIdx[w];S-k>0&&(f[w]=this._subParams.slice(k,S))}return f}addDigit(f){let w;if(this._rejectDigits||!(w=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const k=this._digitIsSub?this._subParams:this.params,S=k[w-1];k[w-1]=~S?Math.min(10*S+f,h):f}}d.Params=b},5741:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.AddonManager=void 0,d.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let h=this._addons.length-1;h>=0;h--)this._addons[h].instance.dispose()}loadAddon(h,b){const C={instance:b,dispose:b.dispose,isDisposed:!1};this._addons.push(C),b.dispose=()=>this._wrappedAddonDispose(C),b.activate(h)}_wrappedAddonDispose(h){if(h.isDisposed)return;let b=-1;for(let C=0;C<this._addons.length;C++)if(this._addons[C]===h){b=C;break}if(-1===b)throw new Error("Could not dispose an addon that has not been loaded");h.isDisposed=!0,h.dispose.apply(h.instance),this._addons.splice(b,1)}}},8771:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferApiView=void 0;const b=h(3785),C=h(511);d.BufferApiView=class{constructor(f,w){this._buffer=f,this.type=w}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const w=this._buffer.lines.get(f);if(w)return new b.BufferLineApiView(w)}getNullCell(){return new C.CellData}}},3785:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferLineApiView=void 0;const b=h(511);d.BufferLineApiView=class{constructor(C){this._line=C}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(C,f){if(!(C<0||C>=this._line.length))return f?(this._line.loadCell(C,f),f):this._line.loadCell(C,new b.CellData)}translateToString(C,f,w){return this._line.translateToString(C,f,w)}}},8285:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BufferNamespaceApi=void 0;const b=h(8771),C=h(8460);d.BufferNamespaceApi=class{constructor(f){this._core=f,this._onBufferChange=new C.EventEmitter,this.onBufferChange=this._onBufferChange.event,this._normal=new b.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new b.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}},7975:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ParserApi=void 0,d.ParserApi=class{constructor(h){this._core=h}registerCsiHandler(h,b){return this._core.registerCsiHandler(h,C=>b(C.toArray()))}addCsiHandler(h,b){return this.registerCsiHandler(h,b)}registerDcsHandler(h,b){return this._core.registerDcsHandler(h,(C,f)=>b(C,f.toArray()))}addDcsHandler(h,b){return this.registerDcsHandler(h,b)}registerEscHandler(h,b){return this._core.registerEscHandler(h,b)}addEscHandler(h,b){return this.registerEscHandler(h,b)}registerOscHandler(h,b){return this._core.registerOscHandler(h,b)}addOscHandler(h,b){return this.registerOscHandler(h,b)}}},7090:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UnicodeApi=void 0,d.UnicodeApi=class{constructor(h){this._core=h}register(h){this._core.unicodeService.register(h)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(h){this._core.unicodeService.activeVersion=h}}},744:function(E,d,h){var b=this&&this.__decorate||function(o,p,m,u){var y,M=arguments.length,P=M<3?p:null===u?u=Object.getOwnPropertyDescriptor(p,m):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)P=Reflect.decorate(o,p,m,u);else for(var B=o.length-1;B>=0;B--)(y=o[B])&&(P=(M<3?y(P):M>3?y(p,m,P):y(p,m))||P);return M>3&&P&&Object.defineProperty(p,m,P),P},C=this&&this.__param||function(o,p){return function(m,u){p(m,u,o)}};Object.defineProperty(d,"__esModule",{value:!0}),d.BufferService=d.MINIMUM_ROWS=d.MINIMUM_COLS=void 0;const f=h(2585),w=h(5295),k=h(8460),S=h(844);d.MINIMUM_COLS=2,d.MINIMUM_ROWS=1;let x=class extends S.Disposable{constructor(o){super(),this.isUserScrolling=!1,this._onResize=this.register(new k.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new k.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(o.rawOptions.cols||0,d.MINIMUM_COLS),this.rows=Math.max(o.rawOptions.rows||0,d.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(o,this))}get buffer(){return this.buffers.active}resize(o,p){this.cols=o,this.rows=p,this.buffers.resize(o,p),this._onResize.fire({cols:o,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(o,p=!1){const m=this.buffer;let u;u=this._cachedBlankLine,u&&u.length===this.cols&&u.getFg(0)===o.fg&&u.getBg(0)===o.bg||(u=m.getBlankLine(o,p),this._cachedBlankLine=u),u.isWrapped=p;const y=m.ybase+m.scrollTop,M=m.ybase+m.scrollBottom;if(0===m.scrollTop){const P=m.lines.isFull;M===m.lines.length-1?P?m.lines.recycle().copyFrom(u):m.lines.push(u.clone()):m.lines.splice(M+1,0,u.clone()),P?this.isUserScrolling&&(m.ydisp=Math.max(m.ydisp-1,0)):(m.ybase++,this.isUserScrolling||m.ydisp++)}else m.lines.shiftElements(y+1,M-y+1-1,-1),m.lines.set(M,u.clone());this.isUserScrolling||(m.ydisp=m.ybase),this._onScroll.fire(m.ydisp)}scrollLines(o,p,m){const u=this.buffer;if(o<0){if(0===u.ydisp)return;this.isUserScrolling=!0}else o+u.ydisp>=u.ybase&&(this.isUserScrolling=!1);const y=u.ydisp;u.ydisp=Math.max(Math.min(u.ydisp+o,u.ybase),0),y!==u.ydisp&&(p||this._onScroll.fire(u.ydisp))}scrollPages(o){this.scrollLines(o*(this.rows-1))}scrollToTop(){this.scrollLines(-this.buffer.ydisp)}scrollToBottom(){this.scrollLines(this.buffer.ybase-this.buffer.ydisp)}scrollToLine(o){const p=o-this.buffer.ydisp;0!==p&&this.scrollLines(p)}};x=b([C(0,f.IOptionsService)],x),d.BufferService=x},7994:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.CharsetService=void 0,d.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(h){this.glevel=h,this.charset=this._charsets[h]}setgCharset(h,b){this._charsets[h]=b,this.glevel===h&&(this.charset=b)}}},1753:function(E,d,h){var b=this&&this.__decorate||function(u,y,M,P){var B,v=arguments.length,I=v<3?y:null===P?P=Object.getOwnPropertyDescriptor(y,M):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(u,y,M,P);else for(var U=u.length-1;U>=0;U--)(B=u[U])&&(I=(v<3?B(I):v>3?B(y,M,I):B(y,M))||I);return v>3&&I&&Object.defineProperty(y,M,I),I},C=this&&this.__param||function(u,y){return function(M,P){y(M,P,u)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CoreMouseService=void 0;const f=h(2585),w=h(8460),k=h(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:u=>4!==u.button&&1===u.action&&(u.ctrl=!1,u.alt=!1,u.shift=!1,!0)},VT200:{events:19,restrict:u=>32!==u.action},DRAG:{events:23,restrict:u=>32!==u.action||3!==u.button},ANY:{events:31,restrict:u=>!0}};function x(u,y){let M=(u.ctrl?16:0)|(u.shift?4:0)|(u.alt?8:0);return 4===u.button?(M|=64,M|=u.action):(M|=3&u.button,4&u.button&&(M|=64),8&u.button&&(M|=128),32===u.action?M|=32:0!==u.action||y||(M|=3)),M}const o=String.fromCharCode,p={DEFAULT:u=>{const y=[x(u,!1)+32,u.col+32,u.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1b[M${o(y[0])}${o(y[1])}${o(y[2])}`},SGR:u=>{const y=0===u.action&&4!==u.button?"m":"M";return`\x1b[<${x(u,!0)};${u.col};${u.row}${y}`},SGR_PIXELS:u=>{const y=0===u.action&&4!==u.button?"m":"M";return`\x1b[<${x(u,!0)};${u.x};${u.y}${y}`}};let m=class extends k.Disposable{constructor(u,y){super(),this._bufferService=u,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new w.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const M of Object.keys(S))this.addProtocol(M,S[M]);for(const M of Object.keys(p))this.addEncoding(M,p[M]);this.reset()}addProtocol(u,y){this._protocols[u]=y}addEncoding(u,y){this._encodings[u]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(u){if(!this._protocols[u])throw new Error(`unknown protocol "${u}"`);this._activeProtocol=u,this._onProtocolChange.fire(this._protocols[u].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(u){if(!this._encodings[u])throw new Error(`unknown encoding "${u}"`);this._activeEncoding=u}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(u){if(u.col<0||u.col>=this._bufferService.cols||u.row<0||u.row>=this._bufferService.rows||4===u.button&&32===u.action||3===u.button&&32!==u.action||4!==u.button&&(2===u.action||3===u.action)||(u.col++,u.row++,32===u.action&&this._lastEvent&&this._equalEvents(this._lastEvent,u,"SGR_PIXELS"===this._activeEncoding))||!this._protocols[this._activeProtocol].restrict(u))return!1;const y=this._encodings[this._activeEncoding](u);return y&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=u,!0}explainEvents(u){return{down:!!(1&u),up:!!(2&u),drag:!!(4&u),move:!!(8&u),wheel:!!(16&u)}}_equalEvents(u,y,M){if(M){if(u.x!==y.x||u.y!==y.y)return!1}else if(u.col!==y.col||u.row!==y.row)return!1;return u.button===y.button&&u.action===y.action&&u.ctrl===y.ctrl&&u.alt===y.alt&&u.shift===y.shift}};m=b([C(0,f.IBufferService),C(1,f.ICoreService)],m),d.CoreMouseService=m},6975:function(E,d,h){var b=this&&this.__decorate||function(m,u,y,M){var P,B=arguments.length,v=B<3?u:null===M?M=Object.getOwnPropertyDescriptor(u,y):M;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(m,u,y,M);else for(var I=m.length-1;I>=0;I--)(P=m[I])&&(v=(B<3?P(v):B>3?P(u,y,v):P(u,y))||v);return B>3&&v&&Object.defineProperty(u,y,v),v},C=this&&this.__param||function(m,u){return function(y,M){u(y,M,m)}};Object.defineProperty(d,"__esModule",{value:!0}),d.CoreService=void 0;const f=h(2585),w=h(8460),k=h(1439),S=h(844),x=Object.freeze({insertMode:!1}),o=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=class extends S.Disposable{constructor(m,u,y){super(),this._bufferService=m,this._logService=u,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new w.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new w.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new w.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new w.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,k.clone)(x),this.decPrivateModes=(0,k.clone)(o)}reset(){this.modes=(0,k.clone)(x),this.decPrivateModes=(0,k.clone)(o)}triggerDataEvent(m,u=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;u&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),u&&this._onUserInput.fire(),this._logService.debug(`sending data "${m}"`,()=>m.split("").map(M=>M.charCodeAt(0))),this._onData.fire(m)}triggerBinaryEvent(m){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${m}"`,()=>m.split("").map(u=>u.charCodeAt(0))),this._onBinary.fire(m))}};p=b([C(0,f.IBufferService),C(1,f.ILogService),C(2,f.IOptionsService)],p),d.CoreService=p},9074:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.DecorationService=void 0;const b=h(8055),C=h(8460),f=h(844),w=h(6106);let k=0,S=0;d.DecorationService=class x extends f.Disposable{constructor(){super(),this._decorations=new w.SortedList(m=>m?.marker.line),this._onDecorationRegistered=this.register(new C.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new C.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)(()=>{for(const m of this._decorations.values())this._onDecorationRemoved.fire(m);this.reset()}))}get decorations(){return this._decorations.values()}registerDecoration(m){if(m.marker.isDisposed)return;const u=new o(m);if(u){const y=u.marker.onDispose(()=>u.dispose());u.onDispose(()=>{u&&(this._decorations.delete(u)&&this._onDecorationRemoved.fire(u),y.dispose())}),this._decorations.insert(u),this._onDecorationRegistered.fire(u)}return u}reset(){for(const m of this._decorations.values())m.dispose();this._decorations.clear()}*getDecorationsAtCell(m,u,y){var M,P,B;let v=0,I=0;for(const U of this._decorations.getKeyIterator(u))v=null!==(M=U.options.x)&&void 0!==M?M:0,I=v+(null!==(P=U.options.width)&&void 0!==P?P:1),m>=v&&m<I&&(!y||(null!==(B=U.options.layer)&&void 0!==B?B:"bottom")===y)&&(yield U)}forEachDecorationAtCell(m,u,y,M){this._decorations.forEachByKey(u,P=>{var B,v,I;k=null!==(B=P.options.x)&&void 0!==B?B:0,S=k+(null!==(v=P.options.width)&&void 0!==v?v:1),m>=k&&m<S&&(!y||(null!==(I=P.options.layer)&&void 0!==I?I:"bottom")===y)&&M(P)})}dispose(){for(const m of this._decorations.values())this._onDecorationRemoved.fire(m);this.reset()}};class o extends f.Disposable{constructor(m){super(),this.options=m,this.onRenderEmitter=this.register(new C.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new C.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=m.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this._cachedBg=this.options.backgroundColor?b.css.toColor(this.options.backgroundColor):void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this._cachedFg=this.options.foregroundColor?b.css.toColor(this.options.foregroundColor):void 0),this._cachedFg}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.InstantiationService=d.ServiceCollection=void 0;const b=h(2585),C=h(8343);class f{constructor(...k){this._entries=new Map;for(const[S,x]of k)this.set(S,x)}set(k,S){const x=this._entries.get(k);return this._entries.set(k,S),x}forEach(k){for(const[S,x]of this._entries.entries())k(S,x)}has(k){return this._entries.has(k)}get(k){return this._entries.get(k)}}d.ServiceCollection=f,d.InstantiationService=class{constructor(){this._services=new f,this._services.set(b.IInstantiationService,this)}setService(w,k){this._services.set(w,k)}getService(w){return this._services.get(w)}createInstance(w,...k){const S=(0,C.getServiceDependencies)(w).sort((p,m)=>p.index-m.index),x=[];for(const p of S){const m=this._services.get(p.id);if(!m)throw new Error(`[createInstance] ${w.name} depends on UNKNOWN service ${p.id}.`);x.push(m)}const o=S.length>0?S[0].index:k.length;if(k.length!==o)throw new Error(`[createInstance] First service dependency of ${w.name} at position ${o+1} conflicts with ${k.length} static arguments`);return new w(...k,...x)}}},7866:function(E,d,h){var b=this&&this.__decorate||function(x,o,p,m){var u,y=arguments.length,M=y<3?o:null===m?m=Object.getOwnPropertyDescriptor(o,p):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)M=Reflect.decorate(x,o,p,m);else for(var P=x.length-1;P>=0;P--)(u=x[P])&&(M=(y<3?u(M):y>3?u(o,p,M):u(o,p))||M);return y>3&&M&&Object.defineProperty(o,p,M),M},C=this&&this.__param||function(x,o){return function(p,m){o(p,m,x)}};Object.defineProperty(d,"__esModule",{value:!0}),d.LogService=void 0;const f=h(844),w=h(2585),k={debug:w.LogLevelEnum.DEBUG,info:w.LogLevelEnum.INFO,warn:w.LogLevelEnum.WARN,error:w.LogLevelEnum.ERROR,off:w.LogLevelEnum.OFF};let S=class extends f.Disposable{constructor(x){super(),this._optionsService=x,this.logLevel=w.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel()))}_updateLogLevel(){this.logLevel=k[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(x){for(let o=0;o<x.length;o++)"function"==typeof x[o]&&(x[o]=x[o]())}_log(x,o,p){this._evalLazyOptionalParams(p),x.call(console,"xterm.js: "+o,...p)}debug(x,...o){this.logLevel<=w.LogLevelEnum.DEBUG&&this._log(console.log,x,o)}info(x,...o){this.logLevel<=w.LogLevelEnum.INFO&&this._log(console.info,x,o)}warn(x,...o){this.logLevel<=w.LogLevelEnum.WARN&&this._log(console.warn,x,o)}error(x,...o){this.logLevel<=w.LogLevelEnum.ERROR&&this._log(console.error,x,o)}};S=b([C(0,w.IOptionsService)],S),d.LogService=S},7302:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.OptionsService=d.DEFAULT_OPTIONS=void 0;const b=h(8460),C=h(6114),f=h(844);d.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:C.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const w=["normal","bold","100","200","300","400","500","600","700","800","900"];d.OptionsService=class k extends f.Disposable{constructor(x){super(),this._onOptionChange=this.register(new b.EventEmitter),this.onOptionChange=this._onOptionChange.event;const o=Object.assign({},d.DEFAULT_OPTIONS);for(const p in x)if(p in o)try{o[p]=this._sanitizeAndValidateOption(p,x[p])}catch(m){console.error(m)}this.rawOptions=o,this.options=Object.assign({},o),this._setupOptions()}onSpecificOptionChange(x,o){return this.onOptionChange(p=>{p===x&&o(this.rawOptions[x])})}onMultipleOptionChange(x,o){return this.onOptionChange(p=>{-1!==x.indexOf(p)&&o()})}_setupOptions(){const x=p=>{if(!(p in d.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},o=(p,m)=>{if(!(p in d.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);m=this._sanitizeAndValidateOption(p,m),this.rawOptions[p]!==m&&(this.rawOptions[p]=m,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const m={get:x.bind(this,p),set:o.bind(this,p)};Object.defineProperty(this.options,p,m)}}_sanitizeAndValidateOption(x,o){switch(x){case"cursorStyle":if(o||(o=d.DEFAULT_OPTIONS[x]),"block"!==(p=o)&&"underline"!==p&&"bar"!==p)throw new Error(`"${o}" is not a valid value for ${x}`);break;case"wordSeparator":o||(o=d.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof o&&1<=o&&o<=1e3)break;o=w.includes(o)?o:d.DEFAULT_OPTIONS[x];break;case"cursorWidth":o=Math.floor(o);case"lineHeight":case"tabStopWidth":if(o<1)throw new Error(`${x} cannot be less than 1, value: ${o}`);break;case"minimumContrastRatio":o=Math.max(1,Math.min(21,Math.round(10*o)/10));break;case"scrollback":if((o=Math.min(o,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${o}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(o<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${o}`);break;case"rows":case"cols":if(!o&&0!==o)throw new Error(`${x} must be numeric, value: ${o}`);break;case"windowsPty":o=o??{}}var p;return o}}},2660:function(E,d,h){var b=this&&this.__decorate||function(k,S,x,o){var p,m=arguments.length,u=m<3?S:null===o?o=Object.getOwnPropertyDescriptor(S,x):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(k,S,x,o);else for(var y=k.length-1;y>=0;y--)(p=k[y])&&(u=(m<3?p(u):m>3?p(S,x,u):p(S,x))||u);return m>3&&u&&Object.defineProperty(S,x,u),u},C=this&&this.__param||function(k,S){return function(x,o){S(x,o,k)}};Object.defineProperty(d,"__esModule",{value:!0}),d.OscLinkService=void 0;const f=h(2585);let w=class{constructor(k){this._bufferService=k,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(k){const S=this._bufferService.buffer;if(void 0===k.id){const y=S.addMarker(S.ybase+S.y),M={data:k,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(M,y)),this._dataByLinkId.set(M.id,M),M.id}const x=k,o=this._getEntryIdKey(x),p=this._entriesWithId.get(o);if(p)return this.addLineToLink(p.id,S.ybase+S.y),p.id;const m=S.addMarker(S.ybase+S.y),u={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(u,m)),this._entriesWithId.set(u.key,u),this._dataByLinkId.set(u.id,u),u.id}addLineToLink(k,S){const x=this._dataByLinkId.get(k);if(x&&x.lines.every(o=>o.line!==S)){const o=this._bufferService.buffer.addMarker(S);x.lines.push(o),o.onDispose(()=>this._removeMarkerFromLink(x,o))}}getLinkData(k){var S;return null===(S=this._dataByLinkId.get(k))||void 0===S?void 0:S.data}_getEntryIdKey(k){return`${k.id};;${k.uri}`}_removeMarkerFromLink(k,S){const x=k.lines.indexOf(S);-1!==x&&(k.lines.splice(x,1),0===k.lines.length&&(void 0!==k.data.id&&this._entriesWithId.delete(k.key),this._dataByLinkId.delete(k.id)))}};w=b([C(0,f.IBufferService)],w),d.OscLinkService=w},8343:(E,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.createDecorator=d.getServiceDependencies=d.serviceRegistry=void 0,d.serviceRegistry=new Map,d.getServiceDependencies=function(b){return b.di$dependencies||[]},d.createDecorator=function(b){if(d.serviceRegistry.has(b))return d.serviceRegistry.get(b);const C=function(f,w,k){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function h(b,C,f){C.di$target===C?C.di$dependencies.push({id:b,index:f}):(C.di$dependencies=[{id:b,index:f}],C.di$target=C)}(C,f,k)};return C.toString=()=>b,d.serviceRegistry.set(b,C),C}},2585:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.IDecorationService=d.IUnicodeService=d.IOscLinkService=d.IOptionsService=d.ILogService=d.LogLevelEnum=d.IInstantiationService=d.ICharsetService=d.ICoreService=d.ICoreMouseService=d.IBufferService=void 0;const b=h(8343);var C;d.IBufferService=(0,b.createDecorator)("BufferService"),d.ICoreMouseService=(0,b.createDecorator)("CoreMouseService"),d.ICoreService=(0,b.createDecorator)("CoreService"),d.ICharsetService=(0,b.createDecorator)("CharsetService"),d.IInstantiationService=(0,b.createDecorator)("InstantiationService"),(C=d.LogLevelEnum||(d.LogLevelEnum={}))[C.DEBUG=0]="DEBUG",C[C.INFO=1]="INFO",C[C.WARN=2]="WARN",C[C.ERROR=3]="ERROR",C[C.OFF=4]="OFF",d.ILogService=(0,b.createDecorator)("LogService"),d.IOptionsService=(0,b.createDecorator)("OptionsService"),d.IOscLinkService=(0,b.createDecorator)("OscLinkService"),d.IUnicodeService=(0,b.createDecorator)("UnicodeService"),d.IDecorationService=(0,b.createDecorator)("DecorationService")},1480:(E,d,h)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.UnicodeService=void 0;const b=h(8460),C=h(225);d.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new b.EventEmitter,this.onChange=this._onChange.event;const f=new C.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let w=0;const k=f.length;for(let S=0;S<k;++S){let x=f.charCodeAt(S);if(55296<=x&&x<=56319){if(++S>=k)return w+this.wcwidth(x);const o=f.charCodeAt(S);56320<=o&&o<=57343?x=1024*(x-55296)+o-56320+65536:w+=this.wcwidth(o)}w+=this.wcwidth(x)}return w}}}},T={};function l(E){var d=T[E];if(void 0!==d)return d.exports;var h=T[E]={exports:{}};return Te[E].call(h.exports,h,h.exports,l),h.exports}var n={};return(()=>{var E=n;Object.defineProperty(E,"__esModule",{value:!0}),E.Terminal=void 0;const d=l(3236),h=l(9042),b=l(7975),C=l(7090),f=l(5741),w=l(8285),k=["cols","rows"];E.Terminal=class{constructor(S){this._core=new d.Terminal(S),this._addonManager=new f.AddonManager,this._publicOptions=Object.assign({},this._core.options);const x=p=>this._core.options[p],o=(p,m)=>{this._checkReadonlyOptions(p),this._core.options[p]=m};for(const p in this._core.options){const m={get:x.bind(this,p),set:o.bind(this,p)};Object.defineProperty(this._publicOptions,p,m)}}_checkReadonlyOptions(S){if(k.includes(S))throw new Error(`Option "${S}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new b.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new C.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=new w.BufferNamespaceApi(this._core)),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const S=this._core.coreService.decPrivateModes;let x="none";switch(this._core.coreMouseService.activeProtocol){case"X10":x="x10";break;case"VT200":x="vt200";break;case"DRAG":x="drag";break;case"ANY":x="any"}return{applicationCursorKeysMode:S.applicationCursorKeys,applicationKeypadMode:S.applicationKeypad,bracketedPasteMode:S.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:x,originMode:S.origin,reverseWraparoundMode:S.reverseWraparound,sendFocusMode:S.sendFocus,wraparoundMode:S.wraparound}}get options(){return this._publicOptions}set options(S){for(const x in S)this._publicOptions[x]=S[x]}blur(){this._core.blur()}focus(){this._core.focus()}resize(S,x){this._verifyIntegers(S,x),this._core.resize(S,x)}open(S){this._core.open(S)}attachCustomKeyEventHandler(S){this._core.attachCustomKeyEventHandler(S)}registerLinkProvider(S){return this._core.registerLinkProvider(S)}registerCharacterJoiner(S){return this._checkProposedApi(),this._core.registerCharacterJoiner(S)}deregisterCharacterJoiner(S){this._checkProposedApi(),this._core.deregisterCharacterJoiner(S)}registerMarker(S=0){return this._verifyIntegers(S),this._core.addMarker(S)}registerDecoration(S){var x,o,p;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(x=S.x)&&void 0!==x?x:0,null!==(o=S.width)&&void 0!==o?o:0,null!==(p=S.height)&&void 0!==p?p:0),this._core.registerDecoration(S)}hasSelection(){return this._core.hasSelection()}select(S,x,o){this._verifyIntegers(S,x,o),this._core.select(S,x,o)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(S,x){this._verifyIntegers(S,x),this._core.selectLines(S,x)}dispose(){this._addonManager.dispose(),this._core.dispose()}scrollLines(S){this._verifyIntegers(S),this._core.scrollLines(S)}scrollPages(S){this._verifyIntegers(S),this._core.scrollPages(S)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(S){this._verifyIntegers(S),this._core.scrollToLine(S)}clear(){this._core.clear()}write(S,x){this._core.write(S,x)}writeln(S,x){this._core.write(S),this._core.write("\r\n",x)}paste(S){this._core.paste(S)}refresh(S,x){this._verifyIntegers(S,x),this._core.refresh(S,x)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(S){return this._addonManager.loadAddon(this,S)}static get strings(){return h}_verifyIntegers(...S){for(const x of S)if(x===1/0||isNaN(x)||x%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...S){for(const x of S)if(x&&(x===1/0||isNaN(x)||x%1!=0||x<0))throw new Error("This API only accepts positive integers")}}})(),n})()},6825:(ot,Te,T)=>{T.d(Te,{F4:()=>k,IO:()=>m,LC:()=>n,SB:()=>w,X$:()=>d,ZE:()=>M,ZN:()=>y,_j:()=>l,eR:()=>S,jt:()=>h,k1:()=>P,l3:()=>E,oB:()=>f,pV:()=>o,ru:()=>b,vP:()=>C});class l{}class n{}const E="*";function d(B,v){return{type:7,name:B,definitions:v,options:{}}}function h(B,v=null){return{type:4,styles:v,timings:B}}function b(B,v=null){return{type:3,steps:B,options:v}}function C(B,v=null){return{type:2,steps:B,options:v}}function f(B){return{type:6,styles:B,offset:null}}function w(B,v,I){return{type:0,name:B,styles:v,options:I}}function k(B){return{type:5,steps:B}}function S(B,v,I=null){return{type:1,expr:B,animation:v,options:I}}function o(B=null){return{type:9,options:B}}function m(B,v,I=null){return{type:11,selector:B,animation:v,options:I}}class y{constructor(v=0,I=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=v+I}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(v=>v()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(v){this._position=this.totalTime?v*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(v){const I="start"==v?this._onStartFns:this._onDoneFns;I.forEach(U=>U()),I.length=0}}class M{constructor(v){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=v;let I=0,U=0,ae=0;const ne=this.players.length;0==ne?queueMicrotask(()=>this._onFinish()):this.players.forEach(he=>{he.onDone(()=>{++I==ne&&this._onFinish()}),he.onDestroy(()=>{++U==ne&&this._onDestroy()}),he.onStart(()=>{++ae==ne&&this._onStart()})}),this.totalTime=this.players.reduce((he,je)=>Math.max(he,je.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this.players.forEach(v=>v.init())}onStart(v){this._onStartFns.push(v)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(v=>v()),this._onStartFns=[])}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(v=>v.play())}pause(){this.players.forEach(v=>v.pause())}restart(){this.players.forEach(v=>v.restart())}finish(){this._onFinish(),this.players.forEach(v=>v.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(v=>v.destroy()),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this.players.forEach(v=>v.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(v){const I=v*this.totalTime;this.players.forEach(U=>{const ae=U.totalTime?Math.min(1,I/U.totalTime):1;U.setPosition(ae)})}getPosition(){const v=this.players.reduce((I,U)=>null===I||U.totalTime>I.totalTime?U:I,null);return null!=v?v.getPosition():0}beforeDestroy(){this.players.forEach(v=>{v.beforeDestroy&&v.beforeDestroy()})}triggerCallback(v){const I="start"==v?this._onStartFns:this._onDoneFns;I.forEach(U=>U()),I.length=0}}const P="!"},7849:(ot,Te,T)=>{T.d(Te,{rt:()=>be,Em:()=>re,tE:()=>Ct,qV:()=>ei,qm:()=>Z,ic:()=>He,Zf:()=>we,X6:()=>ut,yG:()=>Ot,iD:()=>Xe});var l=T(3595),n=T(7970),E=T(2831),d=T(8645),h=T(7394),b=T(5619),C=T(2096),f=T(6028),w=T(9397),k=T(3620),S=T(2181),x=T(7398),o=T(8180);function p(le){return(0,S.h)((ce,Re)=>le<=Re)}var m=T(3997),u=T(9773),y=T(2495),M=T(7131),P=T(2572),B=T(5211),v=T(5592),I=T(7921);const ae=new Set;let ne,he=(()=>{var le;class ce{constructor(pe,ke){this._platform=pe,this._nonce=ke,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ze}matchMedia(pe){return(this._platform.WEBKIT||this._platform.BLINK)&&function je(le,ce){if(!ae.has(le))try{ne||(ne=document.createElement("style"),ce&&(ne.nonce=ce),ne.setAttribute("type","text/css"),document.head.appendChild(ne)),ne.sheet&&(ne.sheet.insertRule(`@media ${le} {body{ }}`,0),ae.add(le))}catch(Re){console.error(Re)}}(pe,this._nonce),this._matchMedia(pe)}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(n.CSP_NONCE,8))},le.\u0275prov=n.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"}),ce})();function Ze(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let $e=(()=>{var le;class ce{constructor(pe,ke){this._mediaMatcher=pe,this._zone=ke,this._queries=new Map,this._destroySubject=new d.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(pe){return Q((0,y.Eq)(pe)).some(Je=>this._registerQuery(Je).mql.matches)}observe(pe){const Je=Q((0,y.Eq)(pe)).map(ft=>this._registerQuery(ft).observable);let mt=(0,P.a)(Je);return mt=(0,B.z)(mt.pipe((0,o.q)(1)),mt.pipe(p(1),(0,k.b)(0))),mt.pipe((0,x.U)(ft=>{const Nt={matches:!1,breakpoints:{}};return ft.forEach(({matches:Kt,query:Dt})=>{Nt.matches=Nt.matches||Kt,Nt.breakpoints[Dt]=Kt}),Nt}))}_registerQuery(pe){if(this._queries.has(pe))return this._queries.get(pe);const ke=this._mediaMatcher.matchMedia(pe),mt={observable:new v.y(ft=>{const Nt=Kt=>this._zone.run(()=>ft.next(Kt));return ke.addListener(Nt),()=>{ke.removeListener(Nt)}}).pipe((0,I.O)(ke),(0,x.U)(({matches:ft})=>({query:pe,matches:ft})),(0,u.R)(this._destroySubject)),mql:ke};return this._queries.set(pe,mt),mt}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(he),n.\u0275\u0275inject(n.NgZone))},le.\u0275prov=n.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"}),ce})();function Q(le){return le.map(ce=>ce.split(",")).reduce((ce,Re)=>ce.concat(Re)).map(ce=>ce.trim())}const xe=" ";function we(le,ce,Re){const pe=rt(le,ce);pe.some(ke=>ke.trim()==Re.trim())||(pe.push(Re.trim()),le.setAttribute(ce,pe.join(xe)))}function Xe(le,ce,Re){const ke=rt(le,ce).filter(Je=>Je!=Re.trim());ke.length?le.setAttribute(ce,ke.join(xe)):le.removeAttribute(ce)}function rt(le,ce){return(le.getAttribute(ce)||"").match(/\S+/g)||[]}class Ge{constructor(ce){this._items=ce,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new d.x,this._typeaheadSubscription=h.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=Re=>Re.disabled,this._pressedLetters=[],this.tabOut=new d.x,this.change=new d.x,ce instanceof n.QueryList&&(this._itemChangesSubscription=ce.changes.subscribe(Re=>{if(this._activeItem){const ke=Re.toArray().indexOf(this._activeItem);ke>-1&&ke!==this._activeItemIndex&&(this._activeItemIndex=ke)}}))}skipPredicate(ce){return this._skipPredicateFn=ce,this}withWrap(ce=!0){return this._wrap=ce,this}withVerticalOrientation(ce=!0){return this._vertical=ce,this}withHorizontalOrientation(ce){return this._horizontal=ce,this}withAllowedModifierKeys(ce){return this._allowedModifierKeys=ce,this}withTypeAhead(ce=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,w.b)(Re=>this._pressedLetters.push(Re)),(0,k.b)(ce),(0,S.h)(()=>this._pressedLetters.length>0),(0,x.U)(()=>this._pressedLetters.join(""))).subscribe(Re=>{const pe=this._getItemsArray();for(let ke=1;ke<pe.length+1;ke++){const Je=(this._activeItemIndex+ke)%pe.length,mt=pe[Je];if(!this._skipPredicateFn(mt)&&0===mt.getLabel().toUpperCase().trim().indexOf(Re)){this.setActiveItem(Je);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(ce=!0){return this._homeAndEnd=ce,this}withPageUpDown(ce=!0,Re=10){return this._pageUpAndDown={enabled:ce,delta:Re},this}setActiveItem(ce){const Re=this._activeItem;this.updateActiveItem(ce),this._activeItem!==Re&&this.change.next(this._activeItemIndex)}onKeydown(ce){const Re=ce.keyCode,ke=["altKey","ctrlKey","metaKey","shiftKey"].every(Je=>!ce[Je]||this._allowedModifierKeys.indexOf(Je)>-1);switch(Re){case f.Mf:return void this.tabOut.next();case f.JH:if(this._vertical&&ke){this.setNextItemActive();break}return;case f.LH:if(this._vertical&&ke){this.setPreviousItemActive();break}return;case f.SV:if(this._horizontal&&ke){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case f.oh:if(this._horizontal&&ke){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case f.Sd:if(this._homeAndEnd&&ke){this.setFirstItemActive();break}return;case f.uR:if(this._homeAndEnd&&ke){this.setLastItemActive();break}return;case f.Ku:if(this._pageUpAndDown.enabled&&ke){const Je=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Je>0?Je:0,1);break}return;case f.VM:if(this._pageUpAndDown.enabled&&ke){const Je=this._activeItemIndex+this._pageUpAndDown.delta,mt=this._getItemsArray().length;this._setActiveItemByIndex(Je<mt?Je:mt-1,-1);break}return;default:return void((ke||(0,f.Vb)(ce,"shiftKey"))&&(ce.key&&1===ce.key.length?this._letterKeyStream.next(ce.key.toLocaleUpperCase()):(Re>=f.A&&Re<=f.Z||Re>=f.xE&&Re<=f.aO)&&this._letterKeyStream.next(String.fromCharCode(Re))))}this._pressedLetters=[],ce.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(ce){const Re=this._getItemsArray(),pe="number"==typeof ce?ce:Re.indexOf(ce);this._activeItem=Re[pe]??null,this._activeItemIndex=pe}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(ce){this._wrap?this._setActiveInWrapMode(ce):this._setActiveInDefaultMode(ce)}_setActiveInWrapMode(ce){const Re=this._getItemsArray();for(let pe=1;pe<=Re.length;pe++){const ke=(this._activeItemIndex+ce*pe+Re.length)%Re.length;if(!this._skipPredicateFn(Re[ke]))return void this.setActiveItem(ke)}}_setActiveInDefaultMode(ce){this._setActiveItemByIndex(this._activeItemIndex+ce,ce)}_setActiveItemByIndex(ce,Re){const pe=this._getItemsArray();if(pe[ce]){for(;this._skipPredicateFn(pe[ce]);)if(!pe[ce+=Re])return;this.setActiveItem(ce)}}_getItemsArray(){return this._items instanceof n.QueryList?this._items.toArray():this._items}}class re extends Ge{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(ce){return this._origin=ce,this}setActiveItem(ce){super.setActiveItem(ce),this.activeItem&&this.activeItem.focus(this._origin)}}let He=(()=>{var le;class ce{constructor(pe){this._platform=pe}isDisabled(pe){return pe.hasAttribute("disabled")}isVisible(pe){return function Pe(le){return!!(le.offsetWidth||le.offsetHeight||"function"==typeof le.getClientRects&&le.getClientRects().length)}(pe)&&"visible"===getComputedStyle(pe).visibility}isTabbable(pe){if(!this._platform.isBrowser)return!1;const ke=function oe(le){try{return le.frameElement}catch{return null}}(function Ut(le){return le.ownerDocument&&le.ownerDocument.defaultView||window}(pe));if(ke&&(-1===wt(ke)||!this.isVisible(ke)))return!1;let Je=pe.nodeName.toLowerCase(),mt=wt(pe);return pe.hasAttribute("contenteditable")?-1!==mt:!("iframe"===Je||"object"===Je||this._platform.WEBKIT&&this._platform.IOS&&!function Rt(le){let ce=le.nodeName.toLowerCase(),Re="input"===ce&&le.type;return"text"===Re||"password"===Re||"select"===ce||"textarea"===ce}(pe))&&("audio"===Je?!!pe.hasAttribute("controls")&&-1!==mt:"video"===Je?-1!==mt&&(null!==mt||this._platform.FIREFOX||pe.hasAttribute("controls")):pe.tabIndex>=0)}isFocusable(pe,ke){return function Gt(le){return!function gt(le){return function jt(le){return"input"==le.nodeName.toLowerCase()}(le)&&"hidden"==le.type}(le)&&(function at(le){let ce=le.nodeName.toLowerCase();return"input"===ce||"select"===ce||"button"===ce||"textarea"===ce}(le)||function Mt(le){return function zt(le){return"a"==le.nodeName.toLowerCase()}(le)&&le.hasAttribute("href")}(le)||le.hasAttribute("contenteditable")||$t(le))}(pe)&&!this.isDisabled(pe)&&(ke?.ignoreVisibility||this.isVisible(pe))}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(E.t4))},le.\u0275prov=n.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"}),ce})();function $t(le){if(!le.hasAttribute("tabindex")||void 0===le.tabIndex)return!1;let ce=le.getAttribute("tabindex");return!(!ce||isNaN(parseInt(ce,10)))}function wt(le){if(!$t(le))return null;const ce=parseInt(le.getAttribute("tabindex")||"",10);return isNaN(ce)?-1:ce}class ni{get enabled(){return this._enabled}set enabled(ce){this._enabled=ce,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ce,this._startAnchor),this._toggleAnchorTabIndex(ce,this._endAnchor))}constructor(ce,Re,pe,ke,Je=!1){this._element=ce,this._checker=Re,this._ngZone=pe,this._document=ke,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Je||this.attachAnchors()}destroy(){const ce=this._startAnchor,Re=this._endAnchor;ce&&(ce.removeEventListener("focus",this.startAnchorListener),ce.remove()),Re&&(Re.removeEventListener("focus",this.endAnchorListener),Re.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(ce){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusInitialElement(ce)))})}focusFirstTabbableElementWhenReady(ce){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusFirstTabbableElement(ce)))})}focusLastTabbableElementWhenReady(ce){return new Promise(Re=>{this._executeOnStable(()=>Re(this.focusLastTabbableElement(ce)))})}_getRegionBoundary(ce){const Re=this._element.querySelectorAll(`[cdk-focus-region-${ce}], [cdkFocusRegion${ce}], [cdk-focus-${ce}]`);return"start"==ce?Re.length?Re[0]:this._getFirstTabbableElement(this._element):Re.length?Re[Re.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(ce){const Re=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Re){if(!this._checker.isFocusable(Re)){const pe=this._getFirstTabbableElement(Re);return pe?.focus(ce),!!pe}return Re.focus(ce),!0}return this.focusFirstTabbableElement(ce)}focusFirstTabbableElement(ce){const Re=this._getRegionBoundary("start");return Re&&Re.focus(ce),!!Re}focusLastTabbableElement(ce){const Re=this._getRegionBoundary("end");return Re&&Re.focus(ce),!!Re}hasAttached(){return this._hasAttached}_getFirstTabbableElement(ce){if(this._checker.isFocusable(ce)&&this._checker.isTabbable(ce))return ce;const Re=ce.children;for(let pe=0;pe<Re.length;pe++){const ke=Re[pe].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Re[pe]):null;if(ke)return ke}return null}_getLastTabbableElement(ce){if(this._checker.isFocusable(ce)&&this._checker.isTabbable(ce))return ce;const Re=ce.children;for(let pe=Re.length-1;pe>=0;pe--){const ke=Re[pe].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Re[pe]):null;if(ke)return ke}return null}_createAnchor(){const ce=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,ce),ce.classList.add("cdk-visually-hidden"),ce.classList.add("cdk-focus-trap-anchor"),ce.setAttribute("aria-hidden","true"),ce}_toggleAnchorTabIndex(ce,Re){ce?Re.setAttribute("tabindex","0"):Re.removeAttribute("tabindex")}toggleAnchors(ce){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(ce,this._startAnchor),this._toggleAnchorTabIndex(ce,this._endAnchor))}_executeOnStable(ce){this._ngZone.isStable?ce():this._ngZone.onStable.pipe((0,o.q)(1)).subscribe(ce)}}let ei=(()=>{var le;class ce{constructor(pe,ke,Je){this._checker=pe,this._ngZone=ke,this._document=Je}create(pe,ke=!1){return new ni(pe,this._checker,this._ngZone,this._document,ke)}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(He),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(l.DOCUMENT))},le.\u0275prov=n.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"}),ce})();function ut(le){return 0===le.buttons||0===le.offsetX&&0===le.offsetY}function Ot(le){const ce=le.touches&&le.touches[0]||le.changedTouches&&le.changedTouches[0];return!(!ce||-1!==ce.identifier||null!=ce.radiusX&&1!==ce.radiusX||null!=ce.radiusY&&1!==ce.radiusY)}const Fe=new n.InjectionToken("cdk-input-modality-detector-options"),We={ignoreKeys:[f.zL,f.jx,f.b2,f.MW,f.JU]},ue=(0,E.i$)({passive:!0,capture:!0});let Ie=(()=>{var le;class ce{get mostRecentModality(){return this._modality.value}constructor(pe,ke,Je,mt){this._platform=pe,this._mostRecentTarget=null,this._modality=new b.X(null),this._lastTouchMs=0,this._onKeydown=ft=>{this._options?.ignoreKeys?.some(Nt=>Nt===ft.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,E.sA)(ft))},this._onMousedown=ft=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ut(ft)?"keyboard":"mouse"),this._mostRecentTarget=(0,E.sA)(ft))},this._onTouchstart=ft=>{Ot(ft)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,E.sA)(ft))},this._options={...We,...mt},this.modalityDetected=this._modality.pipe(p(1)),this.modalityChanged=this.modalityDetected.pipe((0,m.x)()),pe.isBrowser&&ke.runOutsideAngular(()=>{Je.addEventListener("keydown",this._onKeydown,ue),Je.addEventListener("mousedown",this._onMousedown,ue),Je.addEventListener("touchstart",this._onTouchstart,ue)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ue),document.removeEventListener("mousedown",this._onMousedown,ue),document.removeEventListener("touchstart",this._onTouchstart,ue))}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(l.DOCUMENT),n.\u0275\u0275inject(Fe,8))},le.\u0275prov=n.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"}),ce})();const Ue=new n.InjectionToken("cdk-focus-monitor-default-options"),dt=(0,E.i$)({passive:!0,capture:!0});let Ct=(()=>{var le;class ce{constructor(pe,ke,Je,mt,ft){this._ngZone=pe,this._platform=ke,this._inputModalityDetector=Je,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new d.x,this._rootNodeFocusAndBlurListener=Nt=>{for(let Dt=(0,E.sA)(Nt);Dt;Dt=Dt.parentElement)"focus"===Nt.type?this._onFocus(Nt,Dt):this._onBlur(Nt,Dt)},this._document=mt,this._detectionMode=ft?.detectionMode||0}monitor(pe,ke=!1){const Je=(0,y.fI)(pe);if(!this._platform.isBrowser||1!==Je.nodeType)return(0,C.of)();const mt=(0,E.kV)(Je)||this._getDocument(),ft=this._elementInfo.get(Je);if(ft)return ke&&(ft.checkChildren=!0),ft.subject;const Nt={checkChildren:ke,subject:new d.x,rootNode:mt};return this._elementInfo.set(Je,Nt),this._registerGlobalListeners(Nt),Nt.subject}stopMonitoring(pe){const ke=(0,y.fI)(pe),Je=this._elementInfo.get(ke);Je&&(Je.subject.complete(),this._setClasses(ke),this._elementInfo.delete(ke),this._removeGlobalListeners(Je))}focusVia(pe,ke,Je){const mt=(0,y.fI)(pe);mt===this._getDocument().activeElement?this._getClosestElementsInfo(mt).forEach(([Nt,Kt])=>this._originChanged(Nt,ke,Kt)):(this._setOrigin(ke),"function"==typeof mt.focus&&mt.focus(Je))}ngOnDestroy(){this._elementInfo.forEach((pe,ke)=>this.stopMonitoring(ke))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(pe){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(pe)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:pe&&this._isLastInteractionFromInputLabel(pe)?"mouse":"program"}_shouldBeAttributedToTouch(pe){return 1===this._detectionMode||!!pe?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(pe,ke){pe.classList.toggle("cdk-focused",!!ke),pe.classList.toggle("cdk-touch-focused","touch"===ke),pe.classList.toggle("cdk-keyboard-focused","keyboard"===ke),pe.classList.toggle("cdk-mouse-focused","mouse"===ke),pe.classList.toggle("cdk-program-focused","program"===ke)}_setOrigin(pe,ke=!1){this._ngZone.runOutsideAngular(()=>{this._origin=pe,this._originFromTouchInteraction="touch"===pe&&ke,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(pe,ke){const Je=this._elementInfo.get(ke),mt=(0,E.sA)(pe);!Je||!Je.checkChildren&&ke!==mt||this._originChanged(ke,this._getFocusOrigin(mt),Je)}_onBlur(pe,ke){const Je=this._elementInfo.get(ke);!Je||Je.checkChildren&&pe.relatedTarget instanceof Node&&ke.contains(pe.relatedTarget)||(this._setClasses(ke),this._emitOrigin(Je,null))}_emitOrigin(pe,ke){pe.subject.observers.length&&this._ngZone.run(()=>pe.subject.next(ke))}_registerGlobalListeners(pe){if(!this._platform.isBrowser)return;const ke=pe.rootNode,Je=this._rootNodeFocusListenerCount.get(ke)||0;Je||this._ngZone.runOutsideAngular(()=>{ke.addEventListener("focus",this._rootNodeFocusAndBlurListener,dt),ke.addEventListener("blur",this._rootNodeFocusAndBlurListener,dt)}),this._rootNodeFocusListenerCount.set(ke,Je+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,u.R)(this._stopInputModalityDetector)).subscribe(mt=>{this._setOrigin(mt,!0)}))}_removeGlobalListeners(pe){const ke=pe.rootNode;if(this._rootNodeFocusListenerCount.has(ke)){const Je=this._rootNodeFocusListenerCount.get(ke);Je>1?this._rootNodeFocusListenerCount.set(ke,Je-1):(ke.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dt),ke.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dt),this._rootNodeFocusListenerCount.delete(ke))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(pe,ke,Je){this._setClasses(pe,ke),this._emitOrigin(Je,ke),this._lastFocusOrigin=ke}_getClosestElementsInfo(pe){const ke=[];return this._elementInfo.forEach((Je,mt)=>{(mt===pe||Je.checkChildren&&mt.contains(pe))&&ke.push([mt,Je])}),ke}_isLastInteractionFromInputLabel(pe){const{_mostRecentTarget:ke,mostRecentModality:Je}=this._inputModalityDetector;if("mouse"!==Je||!ke||ke===pe||"INPUT"!==pe.nodeName&&"TEXTAREA"!==pe.nodeName||pe.disabled)return!1;const mt=pe.labels;if(mt)for(let ft=0;ft<mt.length;ft++)if(mt[ft].contains(ke))return!0;return!1}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(Ie),n.\u0275\u0275inject(l.DOCUMENT,8),n.\u0275\u0275inject(Ue,8))},le.\u0275prov=n.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"}),ce})();const q="cdk-high-contrast-black-on-white",$="cdk-high-contrast-white-on-black",W="cdk-high-contrast-active";let Z=(()=>{var le;class ce{constructor(pe,ke){this._platform=pe,this._document=ke,this._breakpointSubscription=(0,n.inject)($e).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const pe=this._document.createElement("div");pe.style.backgroundColor="rgb(1,2,3)",pe.style.position="absolute",this._document.body.appendChild(pe);const ke=this._document.defaultView||window,Je=ke&&ke.getComputedStyle?ke.getComputedStyle(pe):null,mt=(Je&&Je.backgroundColor||"").replace(/ /g,"");switch(pe.remove(),mt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const pe=this._document.body.classList;pe.remove(W,q,$),this._hasCheckedHighContrastMode=!0;const ke=this.getHighContrastMode();1===ke?pe.add(W,q):2===ke&&pe.add(W,$)}}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(E.t4),n.\u0275\u0275inject(l.DOCUMENT))},le.\u0275prov=n.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac,providedIn:"root"}),ce})(),be=(()=>{var le;class ce{constructor(pe){pe._applyBodyHighContrastModeCssClasses()}}return(le=ce).\u0275fac=function(pe){return new(pe||le)(n.\u0275\u0275inject(Z))},le.\u0275mod=n.\u0275\u0275defineNgModule({type:le}),le.\u0275inj=n.\u0275\u0275defineInjector({imports:[M.Q8]}),ce})()},9388:(ot,Te,T)=>{T.d(Te,{Is:()=>C,vT:()=>w});var l=T(7970),n=T(3595);const E=new l.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function d(){return(0,l.inject)(n.DOCUMENT)}}),h=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let C=(()=>{var k;class S{constructor(o){this.value="ltr",this.change=new l.EventEmitter,o&&(this.value=function b(k){const S=k?.toLowerCase()||"";return"auto"===S&&typeof navigator<"u"&&navigator?.language?h.test(navigator.language)?"rtl":"ltr":"rtl"===S?"rtl":"ltr"}((o.body?o.body.dir:null)||(o.documentElement?o.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(k=S).\u0275fac=function(o){return new(o||k)(l.\u0275\u0275inject(E,8))},k.\u0275prov=l.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"}),S})(),w=(()=>{var k;class S{}return(k=S).\u0275fac=function(o){return new(o||k)},k.\u0275mod=l.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=l.\u0275\u0275defineInjector({}),S})()},2495:(ot,Te,T)=>{T.d(Te,{Eq:()=>h,HM:()=>b,Ig:()=>n,fI:()=>C,su:()=>E});var l=T(7970);function n(w){return null!=w&&"false"!=`${w}`}function E(w,k=0){return function d(w){return!isNaN(parseFloat(w))&&!isNaN(Number(w))}(w)?Number(w):k}function h(w){return Array.isArray(w)?w:[w]}function b(w){return null==w?"":"string"==typeof w?w:`${w}px`}function C(w){return w instanceof l.ElementRef?w.nativeElement:w}},6028:(ot,Te,T)=>{T.d(Te,{A:()=>G,JH:()=>B,JU:()=>b,K5:()=>h,Ku:()=>o,LH:()=>M,L_:()=>x,MW:()=>Ee,Mf:()=>E,SV:()=>P,Sd:()=>u,VM:()=>p,Vb:()=>Ui,Z:()=>it,ZH:()=>n,aO:()=>Xe,b2:()=>Si,hY:()=>S,jx:()=>C,oh:()=>y,uR:()=>m,xE:()=>ne,yY:()=>ae,zL:()=>f});const n=8,E=9,h=13,b=16,C=17,f=18,S=27,x=32,o=33,p=34,m=35,u=36,y=37,M=38,P=39,B=40,ae=46,ne=48,Xe=57,G=65,it=90,Ee=91,Si=224;function Ui(Ii,...vi){return vi.length?vi.some(Ai=>Ii[Ai]):Ii.altKey||Ii.shiftKey||Ii.ctrlKey||Ii.metaKey}},7131:(ot,Te,T)=>{T.d(Te,{Q8:()=>w,wD:()=>f});var l=T(2495),n=T(7970),E=T(5592),d=T(8645),h=T(3620);let b=(()=>{var k;class S{create(o){return typeof MutationObserver>"u"?null:new MutationObserver(o)}}return(k=S).\u0275fac=function(o){return new(o||k)},k.\u0275prov=n.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"}),S})(),C=(()=>{var k;class S{constructor(o){this._mutationObserverFactory=o,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((o,p)=>this._cleanupObserver(p))}observe(o){const p=(0,l.fI)(o);return new E.y(m=>{const y=this._observeElement(p).subscribe(m);return()=>{y.unsubscribe(),this._unobserveElement(p)}})}_observeElement(o){if(this._observedElements.has(o))this._observedElements.get(o).count++;else{const p=new d.x,m=this._mutationObserverFactory.create(u=>p.next(u));m&&m.observe(o,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(o,{observer:m,stream:p,count:1})}return this._observedElements.get(o).stream}_unobserveElement(o){this._observedElements.has(o)&&(this._observedElements.get(o).count--,this._observedElements.get(o).count||this._cleanupObserver(o))}_cleanupObserver(o){if(this._observedElements.has(o)){const{observer:p,stream:m}=this._observedElements.get(o);p&&p.disconnect(),m.complete(),this._observedElements.delete(o)}}}return(k=S).\u0275fac=function(o){return new(o||k)(n.\u0275\u0275inject(b))},k.\u0275prov=n.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"}),S})(),f=(()=>{var k;class S{get disabled(){return this._disabled}set disabled(o){this._disabled=(0,l.Ig)(o),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(o){this._debounce=(0,l.su)(o),this._subscribe()}constructor(o,p,m){this._contentObserver=o,this._elementRef=p,this._ngZone=m,this.event=new n.EventEmitter,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const o=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?o.pipe((0,h.b)(this.debounce)):o).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return(k=S).\u0275fac=function(o){return new(o||k)(n.\u0275\u0275directiveInject(C),n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(n.NgZone))},k.\u0275dir=n.\u0275\u0275defineDirective({type:k,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),S})(),w=(()=>{var k;class S{}return(k=S).\u0275fac=function(o){return new(o||k)},k.\u0275mod=n.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=n.\u0275\u0275defineInjector({providers:[b]}),S})()},2831:(ot,Te,T)=>{T.d(Te,{Mq:()=>p,Oy:()=>v,_i:()=>m,ht:()=>P,i$:()=>S,kV:()=>M,sA:()=>B,t4:()=>d});var l=T(7970),n=T(3595);let E;try{E=typeof Intl<"u"&&Intl.v8BreakIterator}catch{E=!1}let w,x,o,u,d=(()=>{var I;class U{constructor(ne){this._platformId=ne,this.isBrowser=this._platformId?(0,n.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!E)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(I=U).\u0275fac=function(ne){return new(ne||I)(l.\u0275\u0275inject(l.PLATFORM_ID))},I.\u0275prov=l.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),U})();function S(I){return function k(){if(null==w&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w=!0}))}finally{w=w||!1}return w}()?I:!!I.capture}function p(){if(null==o){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return o=!1,o;if("scrollBehavior"in document.documentElement.style)o=!0;else{const I=Element.prototype.scrollTo;o=!!I&&!/\{\s*\[native code\]\s*\}/.test(I.toString())}}return o}function m(){if("object"!=typeof document||!document)return 0;if(null==x){const I=document.createElement("div"),U=I.style;I.dir="rtl",U.width="1px",U.overflow="auto",U.visibility="hidden",U.pointerEvents="none",U.position="absolute";const ae=document.createElement("div"),ne=ae.style;ne.width="2px",ne.height="1px",I.appendChild(ae),document.body.appendChild(I),x=0,0===I.scrollLeft&&(I.scrollLeft=1,x=0===I.scrollLeft?1:2),I.remove()}return x}function M(I){if(function y(){if(null==u){const I=typeof document<"u"?document.head:null;u=!(!I||!I.createShadowRoot&&!I.attachShadow)}return u}()){const U=I.getRootNode?I.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&U instanceof ShadowRoot)return U}return null}function P(){let I=typeof document<"u"&&document?document.activeElement:null;for(;I&&I.shadowRoot;){const U=I.shadowRoot.activeElement;if(U===I)break;I=U}return I}function B(I){return I.composedPath?I.composedPath()[0]:I.target}function v(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},799:(ot,Te,T)=>{T.d(Te,{PQ:()=>oe,ZD:()=>ni,mF:()=>He,Cl:()=>ei,rL:()=>at});var l=T(2495),n=T(7970),E=T(8645),d=T(2096),h=T(5592),b=T(2438),C=T(1954),f=T(7394);const w={schedule(st){let Qe=requestAnimationFrame,it=cancelAnimationFrame;const{delegate:Ee}=w;Ee&&(Qe=Ee.requestAnimationFrame,it=Ee.cancelAnimationFrame);const qe=Qe(ct=>{it=void 0,st(ct)});return new f.w0(()=>it?.(qe))},requestAnimationFrame(...st){const{delegate:Qe}=w;return(Qe?.requestAnimationFrame||requestAnimationFrame)(...st)},cancelAnimationFrame(...st){const{delegate:Qe}=w;return(Qe?.cancelAnimationFrame||cancelAnimationFrame)(...st)},delegate:void 0};var S=T(9931);new class x extends S.v{flush(Qe){this._active=!0;const it=this._scheduled;this._scheduled=void 0;const{actions:Ee}=this;let qe;Qe=Qe||Ee.shift();do{if(qe=Qe.execute(Qe.state,Qe.delay))break}while((Qe=Ee[0])&&Qe.id===it&&Ee.shift());if(this._active=!1,qe){for(;(Qe=Ee[0])&&Qe.id===it&&Ee.shift();)Qe.unsubscribe();throw qe}}}(class k extends C.o{constructor(Qe,it){super(Qe,it),this.scheduler=Qe,this.work=it}requestAsyncId(Qe,it,Ee=0){return null!==Ee&&Ee>0?super.requestAsyncId(Qe,it,Ee):(Qe.actions.push(this),Qe._scheduled||(Qe._scheduled=w.requestAnimationFrame(()=>Qe.flush(void 0))))}recycleAsyncId(Qe,it,Ee=0){var qe;if(null!=Ee?Ee>0:this.delay>0)return super.recycleAsyncId(Qe,it,Ee);const{actions:ct}=Qe;null!=it&&(null===(qe=ct[ct.length-1])||void 0===qe?void 0:qe.id)!==it&&(w.cancelAnimationFrame(it),Qe._scheduled=void 0)}});let u,m=1;const y={};function M(st){return st in y&&(delete y[st],!0)}const P={setImmediate(st){const Qe=m++;return y[Qe]=!0,u||(u=Promise.resolve()),u.then(()=>M(Qe)&&st()),Qe},clearImmediate(st){M(st)}},{setImmediate:v,clearImmediate:I}=P,U={setImmediate(...st){const{delegate:Qe}=U;return(Qe?.setImmediate||v)(...st)},clearImmediate(st){const{delegate:Qe}=U;return(Qe?.clearImmediate||I)(st)},delegate:void 0};new class ne extends S.v{flush(Qe){this._active=!0;const it=this._scheduled;this._scheduled=void 0;const{actions:Ee}=this;let qe;Qe=Qe||Ee.shift();do{if(qe=Qe.execute(Qe.state,Qe.delay))break}while((Qe=Ee[0])&&Qe.id===it&&Ee.shift());if(this._active=!1,qe){for(;(Qe=Ee[0])&&Qe.id===it&&Ee.shift();)Qe.unsubscribe();throw qe}}}(class ae extends C.o{constructor(Qe,it){super(Qe,it),this.scheduler=Qe,this.work=it}requestAsyncId(Qe,it,Ee=0){return null!==Ee&&Ee>0?super.requestAsyncId(Qe,it,Ee):(Qe.actions.push(this),Qe._scheduled||(Qe._scheduled=U.setImmediate(Qe.flush.bind(Qe,void 0))))}recycleAsyncId(Qe,it,Ee=0){var qe;if(null!=Ee?Ee>0:this.delay>0)return super.recycleAsyncId(Qe,it,Ee);const{actions:ct}=Qe;null!=it&&(null===(qe=ct[ct.length-1])||void 0===qe?void 0:qe.id)!==it&&(U.clearImmediate(it),Qe._scheduled===it&&(Qe._scheduled=void 0))}});var Ze=T(6321),$e=T(9360),Q=T(4829),de=T(8251),we=T(4825);function Xe(st,Qe=Ze.z){return function xe(st){return(0,$e.e)((Qe,it)=>{let Ee=!1,qe=null,ct=null,ut=!1;const Ot=()=>{if(ct?.unsubscribe(),ct=null,Ee){Ee=!1;const We=qe;qe=null,it.next(We)}ut&&it.complete()},Fe=()=>{ct=null,ut&&it.complete()};Qe.subscribe((0,de.x)(it,We=>{Ee=!0,qe=We,ct||(0,Q.Xf)(st(We)).subscribe(ct=(0,de.x)(it,Ot,Fe))},()=>{ut=!0,(!Ee||!ct||ct.closed)&&it.complete()}))})}(()=>(0,we.H)(st,Qe))}var rt=T(2181),Me=T(9773),_e=T(2831),ge=T(3595),G=T(9388);let He=(()=>{var st;class Qe{constructor(Ee,qe,ct){this._ngZone=Ee,this._platform=qe,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ct}register(Ee){this.scrollContainers.has(Ee)||this.scrollContainers.set(Ee,Ee.elementScrolled().subscribe(()=>this._scrolled.next(Ee)))}deregister(Ee){const qe=this.scrollContainers.get(Ee);qe&&(qe.unsubscribe(),this.scrollContainers.delete(Ee))}scrolled(Ee=20){return this._platform.isBrowser?new h.y(qe=>{this._globalSubscription||this._addGlobalListener();const ct=Ee>0?this._scrolled.pipe(Xe(Ee)).subscribe(qe):this._scrolled.subscribe(qe);return this._scrolledCount++,()=>{ct.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,d.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ee,qe)=>this.deregister(qe)),this._scrolled.complete()}ancestorScrolled(Ee,qe){const ct=this.getAncestorScrollContainers(Ee);return this.scrolled(qe).pipe((0,rt.h)(ut=>!ut||ct.indexOf(ut)>-1))}getAncestorScrollContainers(Ee){const qe=[];return this.scrollContainers.forEach((ct,ut)=>{this._scrollableContainsElement(ut,Ee)&&qe.push(ut)}),qe}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ee,qe){let ct=(0,l.fI)(qe),ut=Ee.getElementRef().nativeElement;do{if(ct==ut)return!0}while(ct=ct.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ee=this._getWindow();return(0,b.R)(Ee.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(st=Qe).\u0275fac=function(Ee){return new(Ee||st)(n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(_e.t4),n.\u0275\u0275inject(ge.DOCUMENT,8))},st.\u0275prov=n.\u0275\u0275defineInjectable({token:st,factory:st.\u0275fac,providedIn:"root"}),Qe})(),oe=(()=>{var st;class Qe{constructor(Ee,qe,ct,ut){this.elementRef=Ee,this.scrollDispatcher=qe,this.ngZone=ct,this.dir=ut,this._destroyed=new E.x,this._elementScrolled=new h.y(Ot=>this.ngZone.runOutsideAngular(()=>(0,b.R)(this.elementRef.nativeElement,"scroll").pipe((0,Me.R)(this._destroyed)).subscribe(Ot)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Ee){const qe=this.elementRef.nativeElement,ct=this.dir&&"rtl"==this.dir.value;null==Ee.left&&(Ee.left=ct?Ee.end:Ee.start),null==Ee.right&&(Ee.right=ct?Ee.start:Ee.end),null!=Ee.bottom&&(Ee.top=qe.scrollHeight-qe.clientHeight-Ee.bottom),ct&&0!=(0,_e._i)()?(null!=Ee.left&&(Ee.right=qe.scrollWidth-qe.clientWidth-Ee.left),2==(0,_e._i)()?Ee.left=Ee.right:1==(0,_e._i)()&&(Ee.left=Ee.right?-Ee.right:Ee.right)):null!=Ee.right&&(Ee.left=qe.scrollWidth-qe.clientWidth-Ee.right),this._applyScrollToOptions(Ee)}_applyScrollToOptions(Ee){const qe=this.elementRef.nativeElement;(0,_e.Mq)()?qe.scrollTo(Ee):(null!=Ee.top&&(qe.scrollTop=Ee.top),null!=Ee.left&&(qe.scrollLeft=Ee.left))}measureScrollOffset(Ee){const qe="left",ut=this.elementRef.nativeElement;if("top"==Ee)return ut.scrollTop;if("bottom"==Ee)return ut.scrollHeight-ut.clientHeight-ut.scrollTop;const Ot=this.dir&&"rtl"==this.dir.value;return"start"==Ee?Ee=Ot?"right":qe:"end"==Ee&&(Ee=Ot?qe:"right"),Ot&&2==(0,_e._i)()?Ee==qe?ut.scrollWidth-ut.clientWidth-ut.scrollLeft:ut.scrollLeft:Ot&&1==(0,_e._i)()?Ee==qe?ut.scrollLeft+ut.scrollWidth-ut.clientWidth:-ut.scrollLeft:Ee==qe?ut.scrollLeft:ut.scrollWidth-ut.clientWidth-ut.scrollLeft}}return(st=Qe).\u0275fac=function(Ee){return new(Ee||st)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(He),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(G.Is,8))},st.\u0275dir=n.\u0275\u0275defineDirective({type:st,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),Qe})(),at=(()=>{var st;class Qe{constructor(Ee,qe,ct){this._platform=Ee,this._change=new E.x,this._changeListener=ut=>{this._change.next(ut)},this._document=ct,qe.runOutsideAngular(()=>{if(Ee.isBrowser){const ut=this._getWindow();ut.addEventListener("resize",this._changeListener),ut.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ee=this._getWindow();Ee.removeEventListener("resize",this._changeListener),Ee.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ee={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ee}getViewportRect(){const Ee=this.getViewportScrollPosition(),{width:qe,height:ct}=this.getViewportSize();return{top:Ee.top,left:Ee.left,bottom:Ee.top+ct,right:Ee.left+qe,height:ct,width:qe}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ee=this._document,qe=this._getWindow(),ct=Ee.documentElement,ut=ct.getBoundingClientRect();return{top:-ut.top||Ee.body.scrollTop||qe.scrollY||ct.scrollTop||0,left:-ut.left||Ee.body.scrollLeft||qe.scrollX||ct.scrollLeft||0}}change(Ee=20){return Ee>0?this._change.pipe(Xe(Ee)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ee=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ee.innerWidth,height:Ee.innerHeight}:{width:0,height:0}}}return(st=Qe).\u0275fac=function(Ee){return new(Ee||st)(n.\u0275\u0275inject(_e.t4),n.\u0275\u0275inject(n.NgZone),n.\u0275\u0275inject(ge.DOCUMENT,8))},st.\u0275prov=n.\u0275\u0275defineInjectable({token:st,factory:st.\u0275fac,providedIn:"root"}),Qe})(),ni=(()=>{var st;class Qe{}return(st=Qe).\u0275fac=function(Ee){return new(Ee||st)},st.\u0275mod=n.\u0275\u0275defineNgModule({type:st}),st.\u0275inj=n.\u0275\u0275defineInjector({}),Qe})(),ei=(()=>{var st;class Qe{}return(st=Qe).\u0275fac=function(Ee){return new(Ee||st)},st.\u0275mod=n.\u0275\u0275defineNgModule({type:st}),st.\u0275inj=n.\u0275\u0275defineInjector({imports:[G.vT,ni,G.vT,ni]}),Qe})()},5766:(ot,Te,T)=>{function l(k){for(let S in k){let x=k[S]??"";switch(S){case"display":k.display="flex"===x?["-webkit-flex","flex"]:"inline-flex"===x?["-webkit-inline-flex","inline-flex"]:x;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":k["-webkit-"+S]=x;break;case"flex-direction":k["-webkit-flex-direction"]=x,k["flex-direction"]=x;break;case"order":k.order=k["-webkit-"+S]=isNaN(+x)?"0":x}}return k}T.d(Te,{Ar:()=>d,GK:()=>l,iQ:()=>E,kt:()=>w,tj:()=>b});const n="inline",E=["row","column","row-reverse","column-reverse"];function d(k){let[S,x,o]=h(k);return function f(k,S=null,x=!1){return{display:x?"inline-flex":"flex","box-sizing":"border-box","flex-direction":k,"flex-wrap":S||null}}(S,x,o)}function h(k){k=k?.toLowerCase()??"";let[S,x,o]=k.split(" ");return E.find(p=>p===S)||(S=E[0]),x===n&&(x=o!==n?o:"",o=n),[S,C(x),!!o]}function b(k){let[S]=h(k);return S.indexOf("row")>-1}function C(k){if(k)switch(k.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":k="wrap-reverse";break;case"no":case"none":case"nowrap":k="nowrap";break;default:k="wrap"}return k}function w(k,...S){if(null==k)throw TypeError("Cannot convert undefined or null to object");for(let x of S)if(null!=x)for(let o in x)x.hasOwnProperty(o)&&(k[o]=x[o]);return k}},1462:(ot,Te,T)=>{T.d(Te,{Bs:()=>P,FL:()=>Ot,IR:()=>o,Ot:()=>qe,QI:()=>v,RK:()=>I,WU:()=>y,g5:()=>u,iR:()=>Rt,wY:()=>M,yB:()=>$t});var l=T(7970),n=T(3595),E=T(5619),d=T(5592),h=T(3019),b=T(8645),C=T(5766),f=T(2181),w=T(9397);const S={provide:l.APP_BOOTSTRAP_LISTENER,useFactory:function k(Fe,We){return()=>{if((0,n.isPlatformBrowser)(We)){const X=Array.from(Fe.querySelectorAll(`[class*=${x}]`)),ue=/\bflex-layout-.+?\b/g;X.forEach(Ie=>{Ie.classList.contains(`${x}ssr`)&&Ie.parentNode?Ie.parentNode.removeChild(Ie):Ie.className.replace(ue,"")})}}},deps:[n.DOCUMENT,l.PLATFORM_ID],multi:!0},x="flex-layout-";let o=(()=>{class Fe{}return Fe.\u0275fac=function(X){return new(X||Fe)},Fe.\u0275mod=l.\u0275\u0275defineNgModule({type:Fe}),Fe.\u0275inj=l.\u0275\u0275defineInjector({providers:[S]}),Fe})();class p{constructor(We=!1,X="all",ue="",Ie="",Le=0){this.matches=We,this.mediaQuery=X,this.mqAlias=ue,this.suffix=Ie,this.priority=Le,this.property=""}clone(){return new p(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let m=(()=>{class Fe{constructor(){this.stylesheet=new Map}addStyleToElement(X,ue,Ie){const Le=this.stylesheet.get(X);Le?Le.set(ue,Ie):this.stylesheet.set(X,new Map([[ue,Ie]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(X,ue){const Ie=this.stylesheet.get(X);let Le="";if(Ie){const ie=Ie.get(ue);("number"==typeof ie||"string"==typeof ie)&&(Le=ie+"")}return Le}}return Fe.\u0275fac=function(X){return new(X||Fe)},Fe.\u0275prov=l.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();const u={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},y=new l.InjectionToken("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>u}),M=new l.InjectionToken("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),P=new l.InjectionToken("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function B(Fe,We){return Fe=Fe?.clone()??new p,We&&(Fe.mqAlias=We.alias,Fe.mediaQuery=We.mediaQuery,Fe.suffix=We.suffix,Fe.priority=We.priority),Fe}class v{constructor(){this.shouldCache=!0}sideEffect(We,X,ue){}}let I=(()=>{class Fe{constructor(X,ue,Ie,Le){this._serverStylesheet=X,this._serverModuleLoaded=ue,this._platformId=Ie,this.layoutConfig=Le}applyStyleToElement(X,ue,Ie=null){let Le={};"string"==typeof ue&&(Le[ue]=Ie,ue=Le),Le=this.layoutConfig.disableVendorPrefixes?ue:(0,C.GK)(ue),this._applyMultiValueStyleToElement(Le,X)}applyStyleToElements(X,ue=[]){const Ie=this.layoutConfig.disableVendorPrefixes?X:(0,C.GK)(X);ue.forEach(Le=>{this._applyMultiValueStyleToElement(Ie,Le)})}getFlowDirection(X){const ue="flex-direction";let Ie=this.lookupStyle(X,ue);return[Ie||"row",this.lookupInlineStyle(X,ue)||(0,n.isPlatformServer)(this._platformId)&&this._serverModuleLoaded?Ie:""]}hasWrap(X){return"wrap"===this.lookupStyle(X,"flex-wrap")}lookupAttributeValue(X,ue){return X.getAttribute(ue)??""}lookupInlineStyle(X,ue){return(0,n.isPlatformBrowser)(this._platformId)?X.style.getPropertyValue(ue):function U(Fe,We){return he(Fe)[We]??""}(X,ue)}lookupStyle(X,ue,Ie=!1){let Le="";return X&&((Le=this.lookupInlineStyle(X,ue))||((0,n.isPlatformBrowser)(this._platformId)?Ie||(Le=getComputedStyle(X).getPropertyValue(ue)):this._serverModuleLoaded&&(Le=this._serverStylesheet.getStyleForElement(X,ue)))),Le?Le.trim():""}_applyMultiValueStyleToElement(X,ue){Object.keys(X).sort().forEach(Ie=>{const Le=X[Ie],ie=Array.isArray(Le)?Le:[Le];ie.sort();for(let ve of ie)ve=ve?ve+"":"",(0,n.isPlatformBrowser)(this._platformId)||!this._serverModuleLoaded?(0,n.isPlatformBrowser)(this._platformId)?ue.style.setProperty(Ie,ve):ae(ue,Ie,ve):this._serverStylesheet.addStyleToElement(ue,Ie,ve)})}}return Fe.\u0275fac=function(X){return new(X||Fe)(l.\u0275\u0275inject(m),l.\u0275\u0275inject(M),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(y))},Fe.\u0275prov=l.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();function ae(Fe,We,X){We=We.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const ue=he(Fe);ue[We]=X??"",function ne(Fe,We){let X="";for(const ue in We)We[ue]&&(X+=`${ue}:${We[ue]};`);Fe.setAttribute("style",X)}(Fe,ue)}function he(Fe){const We={},X=Fe.getAttribute("style");if(X){const ue=X.split(/;+/g);for(let Ie=0;Ie<ue.length;Ie++){const Le=ue[Ie].trim();if(Le.length>0){const ie=Le.indexOf(":");if(-1===ie)throw new Error(`Invalid CSS style: ${Le}`);We[Le.substr(0,ie).trim()]=Le.substr(ie+1).trim()}}}return We}function je(Fe,We){return(We&&We.priority||0)-(Fe&&Fe.priority||0)}function Ze(Fe,We){return(Fe.priority||0)-(We.priority||0)}let $e=(()=>{class Fe{constructor(X,ue,Ie){this._zone=X,this._platformId=ue,this._document=Ie,this.source=new E.X(new p(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const X=[];return this.registry.forEach((ue,Ie)=>{ue.matches&&X.push(Ie)}),X}isActive(X){return this.registry.get(X)?.matches??this.registerQuery(X).some(Ie=>Ie.matches)}observe(X,ue=!1){if(X&&X.length){const Ie=this._observable$.pipe((0,f.h)(ie=>!ue||X.indexOf(ie.mediaQuery)>-1)),Le=new d.y(ie=>{const ve=this.registerQuery(X);if(ve.length){const tt=ve.pop();ve.forEach(Oe=>{ie.next(Oe)}),this.source.next(tt)}ie.complete()});return(0,h.T)(Le,Ie)}return this._observable$}registerQuery(X){const ue=Array.isArray(X)?X:[X],Ie=[];return function de(Fe,We){const X=Fe.filter(ue=>!Q[ue]);if(X.length>0){const ue=X.join(", ");try{const Ie=We.createElement("style");Ie.setAttribute("type","text/css"),Ie.styleSheet||Ie.appendChild(We.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${ue} {.fx-query-test{ }}\n`)),We.head.appendChild(Ie),X.forEach(Le=>Q[Le]=Ie)}catch(Ie){console.error(Ie)}}}(ue,this._document),ue.forEach(Le=>{const ie=tt=>{this._zone.run(()=>this.source.next(new p(tt.matches,Le)))};let ve=this.registry.get(Le);ve||(ve=this.buildMQL(Le),ve.addListener(ie),this.pendingRemoveListenerFns.push(()=>ve.removeListener(ie)),this.registry.set(Le,ve)),ve.matches&&Ie.push(new p(!0,Le))}),Ie}ngOnDestroy(){let X;for(;X=this.pendingRemoveListenerFns.pop();)X()}buildMQL(X){return function we(Fe,We){return We&&window.matchMedia("all").addListener?window.matchMedia(Fe):function xe(Fe){const We=new EventTarget;return We.matches="all"===Fe||""===Fe,We.media=Fe,We.addListener=()=>{},We.removeListener=()=>{},We.addEventListener=()=>{},We.dispatchEvent=()=>!1,We.onchange=null,We}(Fe)}(X,(0,n.isPlatformBrowser)(this._platformId))}}return Fe.\u0275fac=function(X){return new(X||Fe)(l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(n.DOCUMENT))},Fe.\u0275prov=l.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();const Q={},Xe=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],rt="(orientation: portrait) and (max-width: 599.98px)",Me="(orientation: landscape) and (max-width: 959.98px)",_e="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",ge="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",G="(orientation: portrait) and (min-width: 840px)",ee="(orientation: landscape) and (min-width: 1280px)",z={HANDSET:`${rt}, ${Me}`,TABLET:`${_e} , ${ge}`,WEB:`${G}, ${ee} `,HANDSET_PORTRAIT:`${rt}`,TABLET_PORTRAIT:`${_e} `,WEB_PORTRAIT:`${G}`,HANDSET_LANDSCAPE:`${Me}`,TABLET_LANDSCAPE:`${ge}`,WEB_LANDSCAPE:`${ee}`},ye=[{alias:"handset",priority:2e3,mediaQuery:z.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:z.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:z.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:z.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:z.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:z.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:z.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:z.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:z.WEB_PORTRAIT,overlapping:!0}],Ge=/(\.|-|_)/g;function Se(Fe){let We=Fe.length>0?Fe.charAt(0):"",X=Fe.length>1?Fe.slice(1):"";return We.toUpperCase()+X}const oe=new l.InjectionToken("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const Fe=(0,l.inject)(P),We=(0,l.inject)(y),X=[].concat.apply([],(Fe||[]).map(Ie=>Array.isArray(Ie)?Ie:[Ie]));return function He(Fe,We=[]){const X={};return Fe.forEach(ue=>{X[ue.alias]=ue}),We.forEach(ue=>{X[ue.alias]?(0,C.kt)(X[ue.alias],ue):X[ue.alias]=ue}),function Ve(Fe){return Fe.forEach(We=>{We.suffix||(We.suffix=function re(Fe){return Fe.replace(Ge,"|").split("|").map(Se).join("")}(We.alias),We.overlapping=!!We.overlapping)}),Fe}(Object.keys(X).map(ue=>X[ue]))}((We.disableDefaultBps?[]:Xe).concat(We.addOrientationBps?ye:[]),X)}});let Pe=(()=>{class Fe{constructor(X){this.findByMap=new Map,this.items=[...X].sort(Ze)}findByAlias(X){return X?this.findWithPredicate(X,ue=>ue.alias===X):null}findByQuery(X){return this.findWithPredicate(X,ue=>ue.mediaQuery===X)}get overlappings(){return this.items.filter(X=>X.overlapping)}get aliases(){return this.items.map(X=>X.alias)}get suffixes(){return this.items.map(X=>X?.suffix??"")}findWithPredicate(X,ue){let Ie=this.findByMap.get(X);return Ie||(Ie=this.items.find(ue)??null,this.findByMap.set(X,Ie)),Ie??null}}return Fe.\u0275fac=function(X){return new(X||Fe)(l.\u0275\u0275inject(oe))},Fe.\u0275prov=l.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();const at="print",gt={alias:at,mediaQuery:at,priority:1e3};let Mt=(()=>{class Fe{constructor(X,ue,Ie){this.breakpoints=X,this.layoutConfig=ue,this._document=Ie,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new jt,this.deactivations=[]}withPrintQuery(X){return[...X,at]}isPrintEvent(X){return X.mediaQuery.startsWith(at)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(X=>this.breakpoints.findByAlias(X)).filter(X=>null!==X)}getEventBreakpoints({mediaQuery:X}){const ue=this.breakpoints.findByQuery(X);return(ue?[...this.printBreakPoints,ue]:this.printBreakPoints).sort(je)}updateEvent(X){let ue=this.breakpoints.findByQuery(X.mediaQuery);return this.isPrintEvent(X)&&(ue=this.getEventBreakpoints(X)[0],X.mediaQuery=ue?.mediaQuery??""),B(X,ue)}registerBeforeAfterPrintHooks(X){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const ue=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(X,this.getEventBreakpoints(new p(!0,at))),X.updateStyles())},Ie=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(X),X.updateStyles())};this._document.defaultView.addEventListener("beforeprint",ue),this._document.defaultView.addEventListener("afterprint",Ie),this.beforePrintEventListeners.push(ue),this.afterPrintEventListeners.push(Ie)}interceptEvents(X){return ue=>{this.isPrintEvent(ue)?ue.matches&&!this.isPrinting?(this.startPrinting(X,this.getEventBreakpoints(ue)),X.updateStyles()):!ue.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(X),X.updateStyles()):this.collectActivations(X,ue)}}blockPropagation(){return X=>!(this.isPrinting||this.isPrintEvent(X))}startPrinting(X,ue){this.isPrinting=!0,this.formerActivations=X.activatedBreakpoints,X.activatedBreakpoints=this.queue.addPrintBreakpoints(ue)}stopPrinting(X){X.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(X,ue){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!ue.matches){const Ie=this.breakpoints.findByQuery(ue.mediaQuery);if(Ie){const Le=this.formerActivations&&this.formerActivations.includes(Ie),ie=!this.formerActivations&&X.activatedBreakpoints.includes(Ie);(Le||ie)&&(this.deactivations.push(Ie),this.deactivations.sort(je))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(X=>this._document.defaultView.removeEventListener("beforeprint",X)),this.afterPrintEventListeners.forEach(X=>this._document.defaultView.removeEventListener("afterprint",X)))}}return Fe.\u0275fac=function(X){return new(X||Fe)(l.\u0275\u0275inject(Pe),l.\u0275\u0275inject(y),l.\u0275\u0275inject(n.DOCUMENT))},Fe.\u0275prov=l.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();class jt{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(We){return We.push(gt),We.sort(je),We.forEach(X=>this.addBreakpoint(X)),this.printBreakpoints}addBreakpoint(We){We&&void 0===this.printBreakpoints.find(ue=>ue.mediaQuery===We.mediaQuery)&&(this.printBreakpoints=function zt(Fe){return Fe?.mediaQuery.startsWith(at)??!1}(We)?[We,...this.printBreakpoints]:[...this.printBreakpoints,We])}clear(){this.printBreakpoints=[]}}let $t=(()=>{class Fe{constructor(X,ue,Ie){this.matchMedia=X,this.breakpoints=ue,this.hook=Ie,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new b.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(X){this._activatedBreakpoints=[...X]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(X){this._useFallbacks=X}onMediaChange(X){const ue=this.findByQuery(X.mediaQuery);if(ue){X=B(X,ue);const Ie=this.activatedBreakpoints.indexOf(ue);X.matches&&-1===Ie?(this._activatedBreakpoints.push(ue),this._activatedBreakpoints.sort(je),this.updateStyles()):!X.matches&&-1!==Ie&&(this._activatedBreakpoints.splice(Ie,1),this._activatedBreakpoints.sort(je),this.updateStyles())}}init(X,ue,Ie,Le,ie=[]){wt(this.updateMap,X,ue,Ie),wt(this.clearMap,X,ue,Le),this.buildElementKeyMap(X,ue),this.watchExtraTriggers(X,ue,ie)}getValue(X,ue,Ie){const Le=this.elementMap.get(X);if(Le){const ie=void 0!==Ie?Le.get(Ie):this.getActivatedValues(Le,ue);if(ie)return ie.get(ue)}}hasValue(X,ue){const Ie=this.elementMap.get(X);if(Ie){const Le=this.getActivatedValues(Ie,ue);if(Le)return void 0!==Le.get(ue)||!1}return!1}setValue(X,ue,Ie,Le){let ie=this.elementMap.get(X);if(ie){const tt=(ie.get(Le)??new Map).set(ue,Ie);ie.set(Le,tt),this.elementMap.set(X,ie)}else ie=(new Map).set(Le,(new Map).set(ue,Ie)),this.elementMap.set(X,ie);const ve=this.getValue(X,ue);void 0!==ve&&this.updateElement(X,ue,ve)}trackValue(X,ue){return this.subject.asObservable().pipe((0,f.h)(Ie=>Ie.element===X&&Ie.key===ue))}updateStyles(){this.elementMap.forEach((X,ue)=>{const Ie=new Set(this.elementKeyMap.get(ue));let Le=this.getActivatedValues(X);Le&&Le.forEach((ie,ve)=>{this.updateElement(ue,ve,ie),Ie.delete(ve)}),Ie.forEach(ie=>{if(Le=this.getActivatedValues(X,ie),Le){const ve=Le.get(ie);this.updateElement(ue,ie,ve)}else this.clearElement(ue,ie)})})}clearElement(X,ue){const Ie=this.clearMap.get(X);if(Ie){const Le=Ie.get(ue);Le&&(Le(),this.subject.next({element:X,key:ue,value:""}))}}updateElement(X,ue,Ie){const Le=this.updateMap.get(X);if(Le){const ie=Le.get(ue);ie&&(ie(Ie),this.subject.next({element:X,key:ue,value:Ie}))}}releaseElement(X){const ue=this.watcherMap.get(X);ue&&(ue.forEach(Le=>Le.unsubscribe()),this.watcherMap.delete(X));const Ie=this.elementMap.get(X);Ie&&(Ie.forEach((Le,ie)=>Ie.delete(ie)),this.elementMap.delete(X))}triggerUpdate(X,ue){const Ie=this.elementMap.get(X);if(Ie){const Le=this.getActivatedValues(Ie,ue);Le&&(ue?this.updateElement(X,ue,Le.get(ue)):Le.forEach((ie,ve)=>this.updateElement(X,ve,ie)))}}buildElementKeyMap(X,ue){let Ie=this.elementKeyMap.get(X);Ie||(Ie=new Set,this.elementKeyMap.set(X,Ie)),Ie.add(ue)}watchExtraTriggers(X,ue,Ie){if(Ie&&Ie.length){let Le=this.watcherMap.get(X);if(Le||(Le=new Map,this.watcherMap.set(X,Le)),!Le.get(ue)){const ve=(0,h.T)(...Ie).subscribe(()=>{const tt=this.getValue(X,ue);this.updateElement(X,ue,tt)});Le.set(ue,ve)}}}findByQuery(X){return this.breakpoints.findByQuery(X)}getActivatedValues(X,ue){for(let Le=0;Le<this.activatedBreakpoints.length;Le++){const ve=X.get(this.activatedBreakpoints[Le].alias);if(ve&&(void 0===ue||ve.has(ue)&&null!=ve.get(ue)))return ve}if(!this._useFallbacks)return;const Ie=X.get("");return void 0===ue||Ie&&Ie.has(ue)?Ie:void 0}observeActivations(){const X=this.breakpoints.items.map(ue=>ue.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(X)).pipe((0,w.b)(this.hook.interceptEvents(this)),(0,f.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return Fe.\u0275fac=function(X){return new(X||Fe)(l.\u0275\u0275inject($e),l.\u0275\u0275inject(Pe),l.\u0275\u0275inject(Mt))},Fe.\u0275prov=l.\u0275\u0275defineInjectable({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();function wt(Fe,We,X,ue){if(void 0!==ue){const Ie=Fe.get(We)??new Map;Ie.set(X,ue),Fe.set(We,Ie)}}let Rt=(()=>{class Fe{constructor(X,ue,Ie,Le){this.elementRef=X,this.styleBuilder=ue,this.styler=Ie,this.marshal=Le,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new b.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(X){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,X,this.marshal.activatedAlias)}ngOnChanges(X){Object.keys(X).forEach(ue=>{if(-1!==this.inputs.indexOf(ue)){const Ie=ue.split(".").slice(1).join(".");this.setValue(X[ue].currentValue,Ie)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(X=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),X)}addStyles(X,ue){const Ie=this.styleBuilder,Le=Ie.shouldCache;let ie=this.styleCache.get(X);(!ie||!Le)&&(ie=Ie.buildStyles(X,ue),Le&&this.styleCache.set(X,ie)),this.mru={...ie},this.applyStyleToElement(ie),Ie.sideEffect(X,ie,ue)}clearStyles(){Object.keys(this.mru).forEach(X=>{this.mru[X]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(X,ue=!1){if(X){const[Ie,Le]=this.styler.getFlowDirection(X);if(!Le&&ue){const ie=(0,C.Ar)(Ie);this.styler.applyStyleToElements(ie,[X])}return Ie.trim()}return"row"}hasWrap(X){return this.styler.hasWrap(X)}applyStyleToElement(X,ue,Ie=this.nativeElement){this.styler.applyStyleToElement(Ie,X,ue)}setValue(X,ue){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,X,ue)}updateWithValue(X){this.currentValue!==X&&(this.addStyles(X),this.currentValue=X)}}return Fe.\u0275fac=function(X){return new(X||Fe)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(v),l.\u0275\u0275directiveInject(I),l.\u0275\u0275directiveInject($t))},Fe.\u0275dir=l.\u0275\u0275defineDirective({type:Fe,features:[l.\u0275\u0275NgOnChangesFeature]}),Fe})();function qe(Fe,We="1",X="1"){let ue=[We,X,Fe],Ie=Fe.indexOf("calc");if(Ie>0){ue[2]=ct(Fe.substring(Ie).trim());let Le=Fe.substr(0,Ie).trim().split(" ");2==Le.length&&(ue[0]=Le[0],ue[1]=Le[1])}else if(0==Ie)ue[2]=ct(Fe.trim());else{let Le=Fe.split(" ");ue=3===Le.length?Le:[We,X,Fe]}return ue}function ct(Fe){return Fe.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}EventTarget;const ut="x";function Ot(Fe,We){if(void 0===We)return Fe;const X=ue=>{const Ie=+ue.slice(0,-ut.length);return Fe.endsWith(ut)&&!isNaN(Ie)?`${Ie*We.value}${We.unit}`:Fe};return Fe.includes(" ")?Fe.split(" ").map(X).join(" "):X(Fe)}},3814:(ot,Te,T)=>{T.d(Te,{SQ:()=>M,Wh:()=>qe,ae:()=>ie,xw:()=>S,yH:()=>xe});var l=T(7970),n=T(9388),E=T(1462),d=T(5766),h=T(8645),b=T(9773);let C=(()=>{class ve extends E.QI{buildStyles(Oe,{display:Ne}){const Ue=(0,d.Ar)(Oe);return{...Ue,display:"none"===Ne?Ne:Ue.display}}}return ve.\u0275fac=function(){let tt;return function(Ne){return(tt||(tt=l.\u0275\u0275getInheritedFactory(ve)))(Ne||ve)}}(),ve.\u0275prov=l.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const f=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let k=(()=>{class ve extends E.iR{constructor(Oe,Ne,Ue,dt,Ct){super(Oe,Ue,Ne,dt),this._config=Ct,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(Oe){const Ue=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=x.get(Ue)??new Map,x.set(Ue,this.styleCache),this.currentValue!==Oe&&(this.addStyles(Oe,{display:Ue}),this.currentValue=Oe)}}return ve.\u0275fac=function(Oe){return new(Oe||ve)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(E.RK),l.\u0275\u0275directiveInject(C),l.\u0275\u0275directiveInject(E.yB),l.\u0275\u0275directiveInject(E.WU))},ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})(),S=(()=>{class ve extends k{constructor(){super(...arguments),this.inputs=f}}return ve.\u0275fac=function(){let tt;return function(Ne){return(tt||(tt=l.\u0275\u0275getInheritedFactory(ve)))(Ne||ve)}}(),ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})();const x=new Map,o={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let p=(()=>{class ve extends E.QI{constructor(Oe,Ne){super(),this._styler=Oe,this._config=Ne}buildStyles(Oe,Ne){return Oe.endsWith(U)?(Oe=Oe.slice(0,Oe.indexOf(U)),function ne(ve,tt){const[Oe,Ne]=ve.split(" "),dt=$=>`-${$}`;let Ct="0px",De=dt(Ne??Oe),q="0px";return"rtl"===tt?q=dt(Oe):Ct=dt(Oe),{margin:`0px ${Ct} ${De} ${q}`}}(Oe=(0,E.FL)(Oe,this._config.multiplier),Ne.directionality)):{}}sideEffect(Oe,Ne,Ue){const dt=Ue.items;if(Oe.endsWith(U)){Oe=Oe.slice(0,Oe.indexOf(U));const Ct=function ae(ve,tt){const[Oe,Ne]=ve.split(" ");let dt="0px",De="0px";return"rtl"===tt?De=Oe:dt=Oe,{padding:`0px ${dt} ${Ne??Oe} ${De}`}}(Oe=(0,E.FL)(Oe,this._config.multiplier),Ue.directionality);this._styler.applyStyleToElements(Ct,Ue.items)}else{Oe=(0,E.FL)(Oe,this._config.multiplier),Oe=this.addFallbackUnit(Oe);const Ct=dt.pop(),De=function je(ve,tt){const Oe=he(tt.directionality,tt.layout),Ne={...o};return Ne[Oe]=ve,Ne}(Oe,Ue);this._styler.applyStyleToElements(De,dt),this._styler.applyStyleToElements(o,[Ct])}}addFallbackUnit(Oe){return isNaN(+Oe)?Oe:`${Oe}${this._config.defaultUnit}`}}return ve.\u0275fac=function(Oe){return new(Oe||ve)(l.\u0275\u0275inject(E.RK),l.\u0275\u0275inject(E.WU))},ve.\u0275prov=l.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const m=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let y=(()=>{class ve extends E.iR{constructor(Oe,Ne,Ue,dt,Ct,De){super(Oe,Ct,dt,De),this.zone=Ne,this.directionality=Ue,this.styleUtils=dt,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new h.x;const q=[this.directionality.change,this.observerSubject.asObservable()];this.init(q),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,b.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const Oe=this.nativeElement.children,Ne=[];for(let Ue=Oe.length;Ue--;)Ne[Ue]=Oe[Ue];return Ne}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(Oe){const Ue=Oe.value.split(" ");this.layout=Ue[0],d.iQ.find(dt=>dt===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(Oe){const Ne=this.childrenNodes.filter(Ue=>1===Ue.nodeType&&this.willDisplay(Ue)).sort((Ue,dt)=>{const Ct=+this.styler.lookupStyle(Ue,"order"),De=+this.styler.lookupStyle(dt,"order");return isNaN(Ct)||isNaN(De)||Ct===De?0:Ct>De?1:-1});if(Ne.length>0){const Ue=this.directionality.value,dt=this.layout;"row"===dt&&"rtl"===Ue?this.styleCache=P:"row"===dt&&"rtl"!==Ue?this.styleCache=v:"column"===dt&&"rtl"===Ue?this.styleCache=B:"column"===dt&&"rtl"!==Ue&&(this.styleCache=I),this.addStyles(Oe,{directionality:Ue,items:Ne,layout:dt})}}clearStyles(){const Oe=Object.keys(this.mru).length>0,Ne=Oe?"padding":he(this.directionality.value,this.layout);Oe&&super.clearStyles(),this.styleUtils.applyStyleToElements({[Ne]:""},this.childrenNodes)}willDisplay(Oe){const Ne=this.marshal.getValue(Oe,"show-hide");return!0===Ne||void 0===Ne&&"none"!==this.styleUtils.lookupStyle(Oe,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(Oe=>{Oe.some(Ue=>Ue.addedNodes&&Ue.addedNodes.length>0||Ue.removedNodes&&Ue.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return ve.\u0275fac=function(Oe){return new(Oe||ve)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(n.Is),l.\u0275\u0275directiveInject(E.RK),l.\u0275\u0275directiveInject(p),l.\u0275\u0275directiveInject(E.yB))},ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})(),M=(()=>{class ve extends y{constructor(){super(...arguments),this.inputs=m}}return ve.\u0275fac=function(){let tt;return function(Ne){return(tt||(tt=l.\u0275\u0275getInheritedFactory(ve)))(Ne||ve)}}(),ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})();const P=new Map,B=new Map,v=new Map,I=new Map,U=" grid";function he(ve,tt){switch(tt){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===ve?"margin-left":"margin-right";case"row-reverse":return"rtl"===ve?"margin-right":"margin-left"}}let Ze=(()=>{class ve extends E.QI{constructor(Oe){super(),this.layoutConfig=Oe}buildStyles(Oe,Ne){let[Ue,dt,...Ct]=Oe.split(" "),De=Ct.join(" ");const q=Ne.direction.indexOf("column")>-1?"column":"row",$=(0,d.tj)(q)?"max-width":"max-height",W=(0,d.tj)(q)?"min-width":"min-height",Z=String(De).indexOf("calc")>-1,be=Z||"auto"===De,le=String(De).indexOf("%")>-1&&!Z,ce=String(De).indexOf("px")>-1||String(De).indexOf("rem")>-1||String(De).indexOf("em")>-1||String(De).indexOf("vw")>-1||String(De).indexOf("vh")>-1;let Re=Z||ce;Ue="0"==Ue?0:Ue,dt="0"==dt?0:dt;const pe=!Ue&&!dt;let ke={};const Je={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(De||""){case"":De="row"===q?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":Ue=0,De="auto";break;case"grow":De="100%";break;case"noshrink":dt=0,De="auto";break;case"auto":break;case"none":Ue=0,dt=0,De="auto";break;default:!Re&&!le&&!isNaN(De)&&(De+="%"),"0%"===De&&(Re=!0),"0px"===De&&(De="0%"),ke=(0,d.kt)(Je,Z?{"flex-grow":Ue,"flex-shrink":dt,"flex-basis":Re?De:"100%"}:{flex:`${Ue} ${dt} ${Re?De:"100%"}`})}return ke.flex||ke["flex-grow"]||(ke=(0,d.kt)(Je,Z?{"flex-grow":Ue,"flex-shrink":dt,"flex-basis":De}:{flex:`${Ue} ${dt} ${De}`})),"0%"!==De&&"0px"!==De&&"0.000000001px"!==De&&"auto"!==De&&(ke[W]=pe||Re&&Ue?De:null,ke[$]=pe||!be&&dt?De:null),ke[W]||ke[$]?Ne.hasWrap&&(ke[Z?"flex-basis":"flex"]=ke[$]?Z?ke[$]:`${Ue} ${dt} ${ke[$]}`:Z?ke[W]:`${Ue} ${dt} ${ke[W]}`):ke=(0,d.kt)(Je,Z?{"flex-grow":Ue,"flex-shrink":dt,"flex-basis":De}:{flex:`${Ue} ${dt} ${De}`}),(0,d.kt)(ke,{"box-sizing":"border-box"})}}return ve.\u0275fac=function(Oe){return new(Oe||ve)(l.\u0275\u0275inject(E.WU))},ve.\u0275prov=l.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const $e=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let de=(()=>{class ve extends E.iR{constructor(Oe,Ne,Ue,dt,Ct){super(Oe,dt,Ne,Ct),this.layoutConfig=Ue,this.marshal=Ct,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(Oe){this.flexShrink=Oe||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(Oe){this.flexGrow=Oe||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,b.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,b.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(Oe){const Ue=Oe.value.split(" ");this.direction=Ue[0],this.wrap=void 0!==Ue[1]&&"wrap"===Ue[1],this.triggerUpdate()}updateWithValue(Oe){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const Ue=this.direction,dt=Ue.startsWith("row"),Ct=this.wrap;dt&&Ct?this.styleCache=rt:dt&&!Ct?this.styleCache=we:!dt&&Ct?this.styleCache=Me:!dt&&!Ct&&(this.styleCache=Xe);const De=String(Oe).replace(";",""),q=(0,E.Ot)(De,this.flexGrow,this.flexShrink);this.addStyles(q.join(" "),{direction:Ue,hasWrap:Ct})}triggerReflow(){const Oe=this.activatedValue;if(void 0!==Oe){const Ne=(0,E.Ot)(Oe+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,Ne.join(" "))}}}return ve.\u0275fac=function(Oe){return new(Oe||ve)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(E.RK),l.\u0275\u0275directiveInject(E.WU),l.\u0275\u0275directiveInject(Ze),l.\u0275\u0275directiveInject(E.yB))},ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})(),xe=(()=>{class ve extends de{constructor(){super(...arguments),this.inputs=$e}}return ve.\u0275fac=function(){let tt;return function(Ne){return(tt||(tt=l.\u0275\u0275getInheritedFactory(ve)))(Ne||ve)}}(),ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})();const we=new Map,Xe=new Map,rt=new Map,Me=new Map;let st=(()=>{class ve extends E.QI{buildStyles(Oe,Ne){const Ue={},[dt,Ct]=Oe.split(" ");switch(dt){case"center":Ue["justify-content"]="center";break;case"space-around":Ue["justify-content"]="space-around";break;case"space-between":Ue["justify-content"]="space-between";break;case"space-evenly":Ue["justify-content"]="space-evenly";break;case"end":case"flex-end":Ue["justify-content"]="flex-end";break;default:Ue["justify-content"]="flex-start"}switch(Ct){case"start":case"flex-start":Ue["align-items"]=Ue["align-content"]="flex-start";break;case"center":Ue["align-items"]=Ue["align-content"]="center";break;case"end":case"flex-end":Ue["align-items"]=Ue["align-content"]="flex-end";break;case"space-between":Ue["align-content"]="space-between",Ue["align-items"]="stretch";break;case"space-around":Ue["align-content"]="space-around",Ue["align-items"]="stretch";break;case"baseline":Ue["align-content"]="stretch",Ue["align-items"]="baseline";break;default:Ue["align-items"]=Ue["align-content"]="stretch"}return(0,d.kt)(Ue,{display:Ne.inline?"inline-flex":"flex","flex-direction":Ne.layout,"box-sizing":"border-box","max-width":"stretch"===Ct?(0,d.tj)(Ne.layout)?null:"100%":null,"max-height":"stretch"===Ct&&(0,d.tj)(Ne.layout)?"100%":null})}}return ve.\u0275fac=function(){let tt;return function(Ne){return(tt||(tt=l.\u0275\u0275getInheritedFactory(ve)))(Ne||ve)}}(),ve.\u0275prov=l.\u0275\u0275defineInjectable({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})();const Qe=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Ee=(()=>{class ve extends E.iR{constructor(Oe,Ne,Ue,dt){super(Oe,Ue,Ne,dt),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,b.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(Oe){const Ne=this.layout||"row",Ue=this.inline;"row"===Ne&&Ue?this.styleCache=We:"row"!==Ne||Ue?"row-reverse"===Ne&&Ue?this.styleCache=ue:"row-reverse"!==Ne||Ue?"column"===Ne&&Ue?this.styleCache=X:"column"!==Ne||Ue?"column-reverse"===Ne&&Ue?this.styleCache=Ie:"column-reverse"===Ne&&!Ue&&(this.styleCache=Fe):this.styleCache=ut:this.styleCache=Ot:this.styleCache=ct,this.addStyles(Oe,{layout:Ne,inline:Ue})}onLayoutChange(Oe){const Ne=Oe.value.split(" ");this.layout=Ne[0],this.inline=Oe.value.includes("inline"),d.iQ.find(Ue=>Ue===this.layout)||(this.layout="row"),this.triggerUpdate()}}return ve.\u0275fac=function(Oe){return new(Oe||ve)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(E.RK),l.\u0275\u0275directiveInject(st),l.\u0275\u0275directiveInject(E.yB))},ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})(),qe=(()=>{class ve extends Ee{constructor(){super(...arguments),this.inputs=Qe}}return ve.\u0275fac=function(){let tt;return function(Ne){return(tt||(tt=l.\u0275\u0275getInheritedFactory(ve)))(Ne||ve)}}(),ve.\u0275dir=l.\u0275\u0275defineDirective({type:ve,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[l.\u0275\u0275InheritDefinitionFeature]}),ve})();const ct=new Map,ut=new Map,Ot=new Map,Fe=new Map,We=new Map,X=new Map,ue=new Map,Ie=new Map;let ie=(()=>{class ve{}return ve.\u0275fac=function(Oe){return new(Oe||ve)},ve.\u0275mod=l.\u0275\u0275defineNgModule({type:ve}),ve.\u0275inj=l.\u0275\u0275defineInjector({imports:[E.IR,n.vT]}),ve})()},6223:(ot,Te,T)=>{T.d(Te,{Cf:()=>y,F:()=>Li,JU:()=>f,Zs:()=>Tn,a5:()=>Pe,kI:()=>B,sg:()=>hn,u5:()=>xr});var l=T(7970),E=(T(3595),T(7715)),d=T(9315),h=T(7398);const f=new l.InjectionToken("NgValueAccessor");function m(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function u(F){return null!=F&&"number"==typeof F.length}const y=new l.InjectionToken("NgValidators"),M=new l.InjectionToken("NgAsyncValidators"),P=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class B{static min(R){return function v(F){return R=>{if(m(R.value)||m(F))return null;const J=parseFloat(R.value);return!isNaN(J)&&J<F?{min:{min:F,actual:R.value}}:null}}(R)}static max(R){return function I(F){return R=>{if(m(R.value)||m(F))return null;const J=parseFloat(R.value);return!isNaN(J)&&J>F?{max:{max:F,actual:R.value}}:null}}(R)}static required(R){return U(R)}static requiredTrue(R){return ae(R)}static email(R){return function ne(F){return m(F.value)||P.test(F.value)?null:{email:!0}}(R)}static minLength(R){return function he(F){return R=>m(R.value)||!u(R.value)?null:R.value.length<F?{minlength:{requiredLength:F,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function je(F){return R=>u(R.value)&&R.value.length>F?{maxlength:{requiredLength:F,actualLength:R.value.length}}:null}(R)}static pattern(R){return function Ze(F){if(!F)return $e;let R,J;return"string"==typeof F?(J="","^"!==F.charAt(0)&&(J+="^"),J+=F,"$"!==F.charAt(F.length-1)&&(J+="$"),R=new RegExp(J)):(J=F.toString(),R=F),L=>{if(m(L.value))return null;const se=L.value;return R.test(se)?null:{pattern:{requiredPattern:J,actualValue:se}}}}(R)}static nullValidator(R){return null}static compose(R){return Me(R)}static composeAsync(R){return ge(R)}}function U(F){return m(F.value)?{required:!0}:null}function ae(F){return!0===F.value?null:{required:!0}}function $e(F){return null}function Q(F){return null!=F}function de(F){return(0,l.\u0275isPromise)(F)?(0,E.D)(F):F}function xe(F){let R={};return F.forEach(J=>{R=null!=J?{...R,...J}:R}),0===Object.keys(R).length?null:R}function we(F,R){return R.map(J=>J(F))}function rt(F){return F.map(R=>function Xe(F){return!F.validate}(R)?R:J=>R.validate(J))}function Me(F){if(!F)return null;const R=F.filter(Q);return 0==R.length?null:function(J){return xe(we(J,R))}}function _e(F){return null!=F?Me(rt(F)):null}function ge(F){if(!F)return null;const R=F.filter(Q);return 0==R.length?null:function(J){const L=we(J,R).map(de);return(0,d.D)(L).pipe((0,h.U)(xe))}}function G(F){return null!=F?ge(rt(F)):null}function ee(F,R){return null===F?[R]:Array.isArray(F)?[...F,R]:[F,R]}function z(F){return F._rawValidators}function ye(F){return F._rawAsyncValidators}function Ge(F){return F?Array.isArray(F)?F:[F]:[]}function Se(F,R){return Array.isArray(F)?F.includes(R):F===R}function re(F,R){const J=Ge(R);return Ge(F).forEach(se=>{Se(J,se)||J.push(se)}),J}function Ve(F,R){return Ge(R).filter(J=>!Se(F,J))}class He{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=_e(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=G(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R=void 0){this.control&&this.control.reset(R)}hasError(R,J){return!!this.control&&this.control.hasError(R,J)}getError(R,J){return this.control?this.control.getError(R,J):null}}class oe extends He{get formDirective(){return null}get path(){return null}}class Pe extends He{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const X="VALID",ue="INVALID",Ie="PENDING",Le="DISABLED";function ie(F){return(Ne(F)?F.validators:F)||null}function tt(F,R){return(Ne(R)?R.asyncValidators:F)||null}function Ne(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class Ct{constructor(R,J){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(R),this._assignAsyncValidators(J)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===X}get invalid(){return this.status===ue}get pending(){return this.status==Ie}get disabled(){return this.status===Le}get enabled(){return this.status!==Le}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._assignValidators(R)}setAsyncValidators(R){this._assignAsyncValidators(R)}addValidators(R){this.setValidators(re(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(re(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Ve(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Ve(R,this._rawAsyncValidators))}hasValidator(R){return Se(this._rawValidators,R)}hasAsyncValidator(R){return Se(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(J=>{J.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(J=>{J.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=Ie,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const J=this._parentMarkedDirty(R.onlySelf);this.status=Le,this.errors=null,this._forEachChild(L=>{L.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:J}),this._onDisabledChange.forEach(L=>L(!0))}enable(R={}){const J=this._parentMarkedDirty(R.onlySelf);this.status=X,this._forEachChild(L=>{L.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:J}),this._onDisabledChange.forEach(L=>L(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===X||this.status===Ie)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(J=>J._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Le:X}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=Ie,this._hasOwnPendingAsyncValidator=!0;const J=de(this.asyncValidator(this));this._asyncValidationSubscription=J.subscribe(L=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(L,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,J={}){this.errors=R,this._updateControlsErrors(!1!==J.emitEvent)}get(R){let J=R;return null==J||(Array.isArray(J)||(J=J.split(".")),0===J.length)?null:J.reduce((L,se)=>L&&L._find(se),this)}getError(R,J){const L=J?this.get(J):this;return L&&L.errors?L.errors[R]:null}hasError(R,J){return!!this.getError(R,J)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new l.EventEmitter,this.statusChanges=new l.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?Le:this.errors?ue:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ie)?Ie:this._anyControlsHaveStatus(ue)?ue:X}_anyControlsHaveStatus(R){return this._anyControls(J=>J.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){Ne(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}_assignValidators(R){this._rawValidators=Array.isArray(R)?R.slice():R,this._composedValidatorFn=function ve(F){return Array.isArray(F)?_e(F):F||null}(this._rawValidators)}_assignAsyncValidators(R){this._rawAsyncValidators=Array.isArray(R)?R.slice():R,this._composedAsyncValidatorFn=function Oe(F){return Array.isArray(F)?G(F):F||null}(this._rawAsyncValidators)}}class De extends Ct{constructor(R,J,L){super(ie(J),tt(L,J)),this.controls=R,this._initObservables(),this._setUpdateStrategy(J),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,J){return this.controls[R]?this.controls[R]:(this.controls[R]=J,J.setParent(this),J._registerOnCollectionChange(this._onCollectionChange),J)}addControl(R,J,L={}){this.registerControl(R,J),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}removeControl(R,J={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}setControl(R,J,L={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],J&&this.registerControl(R,J),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,J={}){(function dt(F,R,J){F._forEachChild((L,se)=>{if(void 0===J[se])throw new l.\u0275RuntimeError(1002,"")})})(this,0,R),Object.keys(R).forEach(L=>{(function Ue(F,R,J){const L=F.controls;if(!(R?Object.keys(L):L).length)throw new l.\u0275RuntimeError(1e3,"");if(!L[J])throw new l.\u0275RuntimeError(1001,"")})(this,!0,L),this.controls[L].setValue(R[L],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J)}patchValue(R,J={}){null!=R&&(Object.keys(R).forEach(L=>{const se=this.controls[L];se&&se.patchValue(R[L],{onlySelf:!0,emitEvent:J.emitEvent})}),this.updateValueAndValidity(J))}reset(R={},J={}){this._forEachChild((L,se)=>{L.reset(R[se],{onlySelf:!0,emitEvent:J.emitEvent})}),this._updatePristine(J),this._updateTouched(J),this.updateValueAndValidity(J)}getRawValue(){return this._reduceChildren({},(R,J,L)=>(R[L]=J.getRawValue(),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(J,L)=>!!L._syncPendingControls()||J);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(J=>{const L=this.controls[J];L&&R(L,J)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const[J,L]of Object.entries(this.controls))if(this.contains(J)&&R(L))return!0;return!1}_reduceValue(){return this._reduceChildren({},(J,L,se)=>((L.enabled||this.disabled)&&(J[se]=L.value),J))}_reduceChildren(R,J){let L=R;return this._forEachChild((se,nt)=>{L=J(L,se,nt)}),L}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(R){return this.controls.hasOwnProperty(R)?this.controls[R]:null}}const be=new l.InjectionToken("CallSetDisabledState",{providedIn:"root",factory:()=>le}),le="always";function Re(F,R,J=le){mt(F,R),R.valueAccessor.writeValue(F.value),(F.disabled||"always"===J)&&R.valueAccessor.setDisabledState?.(F.disabled),function Nt(F,R){R.valueAccessor.registerOnChange(J=>{F._pendingValue=J,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&Dt(F,R)})}(F,R),function Vi(F,R){const J=(L,se)=>{R.valueAccessor.writeValue(L),se&&R.viewToModelUpdate(L)};F.registerOnChange(J),R._registerOnDestroy(()=>{F._unregisterOnChange(J)})}(F,R),function Kt(F,R){R.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&Dt(F,R),"submit"!==F.updateOn&&F.markAsTouched()})}(F,R),function Je(F,R){if(R.valueAccessor.setDisabledState){const J=L=>{R.valueAccessor.setDisabledState(L)};F.registerOnDisabledChange(J),R._registerOnDestroy(()=>{F._unregisterOnDisabledChange(J)})}}(F,R)}function pe(F,R,J=!0){const L=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(L),R.valueAccessor.registerOnTouched(L)),ft(F,R),F&&(R._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function ke(F,R){F.forEach(J=>{J.registerOnValidatorChange&&J.registerOnValidatorChange(R)})}function mt(F,R){const J=z(F);null!==R.validator?F.setValidators(ee(J,R.validator)):"function"==typeof J&&F.setValidators([J]);const L=ye(F);null!==R.asyncValidator?F.setAsyncValidators(ee(L,R.asyncValidator)):"function"==typeof L&&F.setAsyncValidators([L]);const se=()=>F.updateValueAndValidity();ke(R._rawValidators,se),ke(R._rawAsyncValidators,se)}function ft(F,R){let J=!1;if(null!==F){if(null!==R.validator){const se=z(F);if(Array.isArray(se)&&se.length>0){const nt=se.filter(It=>It!==R.validator);nt.length!==se.length&&(J=!0,F.setValidators(nt))}}if(null!==R.asyncValidator){const se=ye(F);if(Array.isArray(se)&&se.length>0){const nt=se.filter(It=>It!==R.asyncValidator);nt.length!==se.length&&(J=!0,F.setAsyncValidators(nt))}}}const L=()=>{};return ke(R._rawValidators,L),ke(R._rawAsyncValidators,L),J}function Dt(F,R){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Ei(F,R){mt(F,R)}function di(F,R){F._syncPendingControls(),R.forEach(J=>{const L=J.control;"submit"===L.updateOn&&L._pendingChange&&(J.viewToModelUpdate(L._pendingValue),L._pendingChange=!1)})}const Ji={provide:oe,useExisting:(0,l.forwardRef)(()=>Li)},ki=(()=>Promise.resolve())();let Li=(()=>{var F;class R extends oe{constructor(L,se,nt){super(),this.callSetDisabledState=nt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.EventEmitter,this.form=new De({},_e(L),G(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){ki.then(()=>{const se=this._findContainer(L.path);L.control=se.registerControl(L.name,L.control),Re(L.control,L,this.callSetDisabledState),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){ki.then(()=>{const se=this._findContainer(L.path);se&&se.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){ki.then(()=>{const se=this._findContainer(L.path),nt=new De({});Ei(nt,L),se.registerControl(L.name,nt),nt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){ki.then(()=>{const se=this._findContainer(L.path);se&&se.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,se){ki.then(()=>{this.form.get(L.path).setValue(se)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,di(this.form,this._directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return(F=R).\u0275fac=function(L){return new(L||F)(l.\u0275\u0275directiveInject(y,10),l.\u0275\u0275directiveInject(M,10),l.\u0275\u0275directiveInject(be,8))},F.\u0275dir=l.\u0275\u0275defineDirective({type:F,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,se){1&L&&l.\u0275\u0275listener("submit",function(It){return se.onSubmit(It)})("reset",function(){return se.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([Ji]),l.\u0275\u0275InheritDefinitionFeature]}),R})();function en(F,R){const J=F.indexOf(R);J>-1&&F.splice(J,1)}function Si(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const Ui=class extends Ct{constructor(R=null,J,L){super(ie(J),tt(L,J)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(J),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ne(J)&&(J.nonNullable||J.initialValueIsDefault)&&(this.defaultValue=Si(R)?R.value:R)}setValue(R,J={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==J.emitModelToViewChange&&this._onChange.forEach(L=>L(this.value,!1!==J.emitViewToModelChange)),this.updateValueAndValidity(J)}patchValue(R,J={}){this.setValue(R,J)}reset(R=this.defaultValue,J={}){this._applyFormState(R),this.markAsPristine(J),this.markAsUntouched(J),this.setValue(this.value,J),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){en(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){en(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Si(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}};let Ft=(()=>{var F;class R{}return(F=R).\u0275fac=function(L){return new(L||F)},F.\u0275mod=l.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=l.\u0275\u0275defineInjector({}),R})();const Mn={provide:oe,useExisting:(0,l.forwardRef)(()=>hn)};let hn=(()=>{var F;class R extends oe{constructor(L,se,nt){super(),this.callSetDisabledState=nt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.EventEmitter,this._setValidators(L),this._setAsyncValidators(se)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ft(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const se=this.form.get(L.path);return Re(se,L,this.callSetDisabledState),se.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),se}getControl(L){return this.form.get(L.path)}removeControl(L){pe(L.control||null,L,!1),function on(F,R){const J=F.indexOf(R);J>-1&&F.splice(J,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,se){this.form.get(L.path).setValue(se)}onSubmit(L){return this.submitted=!0,di(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===L?.target?.method}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const se=L.control,nt=this.form.get(L.path);se!==nt&&(pe(se||null,L),(F=>F instanceof Ui)(nt)&&(Re(nt,L,this.callSetDisabledState),L.control=nt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const se=this.form.get(L.path);Ei(se,L),se.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const se=this.form.get(L.path);se&&function qi(F,R){return ft(F,R)}(se,L)&&se.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mt(this.form,this),this._oldForm&&ft(this._oldForm,this)}_checkFormPresent(){}}return(F=R).\u0275fac=function(L){return new(L||F)(l.\u0275\u0275directiveInject(y,10),l.\u0275\u0275directiveInject(M,10),l.\u0275\u0275directiveInject(be,8))},F.\u0275dir=l.\u0275\u0275defineDirective({type:F,selectors:[["","formGroup",""]],hostBindings:function(L,se){1&L&&l.\u0275\u0275listener("submit",function(It){return se.onSubmit(It)})("reset",function(){return se.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.\u0275\u0275ProvidersFeature([Mn]),l.\u0275\u0275InheritDefinitionFeature,l.\u0275\u0275NgOnChangesFeature]}),R})(),pi=(()=>{var F;class R{constructor(){this._validator=$e}ngOnChanges(L){if(this.inputName in L){const se=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):$e,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return(F=R).\u0275fac=function(L){return new(L||F)},F.\u0275dir=l.\u0275\u0275defineDirective({type:F,features:[l.\u0275\u0275NgOnChangesFeature]}),R})();const sr={provide:y,useExisting:(0,l.forwardRef)(()=>Ri),multi:!0},ar={provide:y,useExisting:(0,l.forwardRef)(()=>Tn),multi:!0};let Ri=(()=>{var F;class R extends pi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.booleanAttribute,this.createValidator=L=>U}enabled(L){return L}}return(F=R).\u0275fac=function(){let J;return function(se){return(J||(J=l.\u0275\u0275getInheritedFactory(F)))(se||F)}}(),F.\u0275dir=l.\u0275\u0275defineDirective({type:F,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(L,se){2&L&&l.\u0275\u0275attribute("required",se._enabled?"":null)},inputs:{required:"required"},features:[l.\u0275\u0275ProvidersFeature([sr]),l.\u0275\u0275InheritDefinitionFeature]}),R})(),Tn=(()=>{var F;class R extends Ri{constructor(){super(...arguments),this.createValidator=L=>ae}}return(F=R).\u0275fac=function(){let J;return function(se){return(J||(J=l.\u0275\u0275getInheritedFactory(F)))(se||F)}}(),F.\u0275dir=l.\u0275\u0275defineDirective({type:F,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(L,se){2&L&&l.\u0275\u0275attribute("required",se._enabled?"":null)},features:[l.\u0275\u0275ProvidersFeature([ar]),l.\u0275\u0275InheritDefinitionFeature]}),R})(),cr=(()=>{var F;class R{}return(F=R).\u0275fac=function(L){return new(L||F)},F.\u0275mod=l.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=l.\u0275\u0275defineInjector({imports:[Ft]}),R})(),xr=(()=>{var F;class R{static withConfig(L){return{ngModule:R,providers:[{provide:be,useValue:L.callSetDisabledState??le}]}}}return(F=R).\u0275fac=function(L){return new(L||F)},F.\u0275mod=l.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=l.\u0275\u0275defineInjector({imports:[cr]}),R})()},2296:(ot,Te,T)=>{T.d(Te,{RK:()=>rt,lW:()=>ne,ot:()=>_e});var l=T(2831),n=T(7970),E=T(7849),d=T(2495),h=T(3680);const b=["mat-button",""],C=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],f=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],p=["mat-icon-button",""],m=["*"],P=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],B=(0,h.pj)((0,h.Id)((0,h.Kr)(class{constructor(ge){this._elementRef=ge}})));let v=(()=>{var ge;class G extends B{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(z){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,z)}get disableRipple(){return this._disableRipple}set disableRipple(z){this._disableRipple=(0,d.Ig)(z),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(z){this._disabled=(0,d.Ig)(z),this._updateRippleDisabled()}constructor(z,ye,Ge,Se){super(z),this._platform=ye,this._ngZone=Ge,this._animationMode=Se,this._focusMonitor=(0,n.inject)(E.tE),this._rippleLoader=(0,n.inject)(h.Fq),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const re=z.nativeElement.classList;for(const Ve of P)this._hasHostAttributes(Ve.selector)&&Ve.mdcClasses.forEach(He=>{re.add(He)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(z="program",ye){z?this._focusMonitor.focusVia(this._elementRef.nativeElement,z,ye):this._elementRef.nativeElement.focus(ye)}_hasHostAttributes(...z){return z.some(ye=>this._elementRef.nativeElement.hasAttribute(ye))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(ge=G).\u0275fac=function(z){n.\u0275\u0275invalidFactory()},ge.\u0275dir=n.\u0275\u0275defineDirective({type:ge,features:[n.\u0275\u0275InheritDefinitionFeature]}),G})(),ne=(()=>{var ge;class G extends v{constructor(z,ye,Ge,Se){super(z,ye,Ge,Se)}}return(ge=G).\u0275fac=function(z){return new(z||ge)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(l.t4),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.ANIMATION_MODULE_TYPE,8))},ge.\u0275cmp=n.\u0275\u0275defineComponent({type:ge,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(z,ye){2&z&&(n.\u0275\u0275attribute("disabled",ye.disabled||null),n.\u0275\u0275classProp("_mat-animation-noopable","NoopAnimations"===ye._animationMode)("mat-unthemed",!ye.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.\u0275\u0275InheritDefinitionFeature],attrs:b,ngContentSelectors:f,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(z,ye){1&z&&(n.\u0275\u0275projectionDef(C),n.\u0275\u0275element(0,"span",0),n.\u0275\u0275projection(1),n.\u0275\u0275elementStart(2,"span",1),n.\u0275\u0275projection(3,1),n.\u0275\u0275elementEnd(),n.\u0275\u0275projection(4,2),n.\u0275\u0275element(5,"span",2)(6,"span",3)),2&z&&n.\u0275\u0275classProp("mdc-button__ripple",!ye._isFab)("mdc-fab__ripple",ye._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),G})(),rt=(()=>{var ge;class G extends v{constructor(z,ye,Ge,Se){super(z,ye,Ge,Se),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}}return(ge=G).\u0275fac=function(z){return new(z||ge)(n.\u0275\u0275directiveInject(n.ElementRef),n.\u0275\u0275directiveInject(l.t4),n.\u0275\u0275directiveInject(n.NgZone),n.\u0275\u0275directiveInject(n.ANIMATION_MODULE_TYPE,8))},ge.\u0275cmp=n.\u0275\u0275defineComponent({type:ge,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(z,ye){2&z&&(n.\u0275\u0275attribute("disabled",ye.disabled||null),n.\u0275\u0275classProp("_mat-animation-noopable","NoopAnimations"===ye._animationMode)("mat-unthemed",!ye.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[n.\u0275\u0275InheritDefinitionFeature],attrs:p,ngContentSelectors:m,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(z,ye){1&z&&(n.\u0275\u0275projectionDef(),n.\u0275\u0275element(0,"span",0),n.\u0275\u0275projection(1),n.\u0275\u0275element(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),G})(),_e=(()=>{var ge;class G{}return(ge=G).\u0275fac=function(z){return new(z||ge)},ge.\u0275mod=n.\u0275\u0275defineNgModule({type:ge}),ge.\u0275inj=n.\u0275\u0275defineInjector({imports:[h.BQ,h.si,h.BQ]}),G})()},3680:(ot,Te,T)=>{T.d(Te,{yN:()=>P,mZ:()=>B,_A:()=>rt,rD:()=>Se,sG:()=>Me,Y2:()=>Ut,BQ:()=>U,uc:()=>oe,XK:()=>ye,Ng:()=>ie,rN:()=>We,us:()=>Qe,wG:()=>ni,Fq:()=>Ct,si:()=>ei,IR:()=>Rt,CB:()=>Ie,jH:()=>Le,pj:()=>Ze,Kr:()=>$e,Id:()=>je,FD:()=>de,sb:()=>Q});var l=T(7970),n=T(7849),E=T(9388),h=T(3595),b=T(2831),C=T(2495),f=T(8645);let P=(()=>{var De;class q{}return(De=q).STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",De.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",De.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",De.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",q})(),B=(()=>{var De;class q{}return(De=q).COMPLEX="375ms",De.ENTERING="225ms",De.EXITING="195ms",q})();const I=new l.InjectionToken("mat-sanity-checks",{providedIn:"root",factory:function v(){return!0}});let U=(()=>{var De;class q{constructor(W,Z,be){this._sanityChecks=Z,this._document=be,this._hasDoneGlobalChecks=!1,W._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(W){return!(0,b.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[W])}}return(De=q).\u0275fac=function(W){return new(W||De)(l.\u0275\u0275inject(n.qm),l.\u0275\u0275inject(I,8),l.\u0275\u0275inject(h.DOCUMENT))},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({imports:[E.vT,E.vT]}),q})();function je(De){return class extends De{get disabled(){return this._disabled}set disabled(q){this._disabled=(0,C.Ig)(q)}constructor(...q){super(...q),this._disabled=!1}}}function Ze(De,q){return class extends De{get color(){return this._color}set color($){const W=$||this.defaultColor;W!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),W&&this._elementRef.nativeElement.classList.add(`mat-${W}`),this._color=W)}constructor(...$){super(...$),this.defaultColor=q,this.color=q}}}function $e(De){return class extends De{get disableRipple(){return this._disableRipple}set disableRipple(q){this._disableRipple=(0,C.Ig)(q)}constructor(...q){super(...q),this._disableRipple=!1}}}function Q(De,q=0){return class extends De{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex($){this._tabIndex=null!=$?(0,C.su)($):this.defaultTabIndex}constructor(...$){super(...$),this._tabIndex=q,this.defaultTabIndex=q}}}function de(De){return class extends De{updateErrorState(){const q=this.errorState,be=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);be!==q&&(this.errorState=be,this.stateChanges.next())}constructor(...q){super(...q),this.errorState=!1}}}const we=new l.InjectionToken("MAT_DATE_LOCALE",{providedIn:"root",factory:function Xe(){return(0,l.inject)(l.LOCALE_ID)}});class rt{constructor(){this._localeChanges=new f.x,this.localeChanges=this._localeChanges}getValidDateOrNull(q){return this.isDateInstance(q)&&this.isValid(q)?q:null}deserialize(q){return null==q||this.isDateInstance(q)&&this.isValid(q)?q:this.invalid()}setLocale(q){this.locale=q,this._localeChanges.next()}compareDate(q,$){return this.getYear(q)-this.getYear($)||this.getMonth(q)-this.getMonth($)||this.getDate(q)-this.getDate($)}sameDate(q,$){if(q&&$){let W=this.isValid(q),Z=this.isValid($);return W&&Z?!this.compareDate(q,$):W==Z}return q==$}clampDate(q,$,W){return $&&this.compareDate(q,$)<0?$:W&&this.compareDate(q,W)>0?W:q}}const Me=new l.InjectionToken("mat-date-formats"),_e=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ge(De,q){const $=Array(De);for(let W=0;W<De;W++)$[W]=q(W);return $}let G=(()=>{var De;class q extends rt{constructor(W,Z){super(),this.useUtcForDisplay=!1,super.setLocale(W)}getYear(W){return W.getFullYear()}getMonth(W){return W.getMonth()}getDate(W){return W.getDate()}getDayOfWeek(W){return W.getDay()}getMonthNames(W){const Z=new Intl.DateTimeFormat(this.locale,{month:W,timeZone:"utc"});return ge(12,be=>this._format(Z,new Date(2017,be,1)))}getDateNames(){const W=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ge(31,Z=>this._format(W,new Date(2017,0,Z+1)))}getDayOfWeekNames(W){const Z=new Intl.DateTimeFormat(this.locale,{weekday:W,timeZone:"utc"});return ge(7,be=>this._format(Z,new Date(2017,0,be+1)))}getYearName(W){const Z=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Z,W)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(W){return this.getDate(this._createDateWithOverflow(this.getYear(W),this.getMonth(W)+1,0))}clone(W){return new Date(W.getTime())}createDate(W,Z,be){let le=this._createDateWithOverflow(W,Z,be);return le.getMonth(),le}today(){return new Date}parse(W,Z){return"number"==typeof W?new Date(W):W?new Date(Date.parse(W)):null}format(W,Z){if(!this.isValid(W))throw Error("NativeDateAdapter: Cannot format invalid date.");const be=new Intl.DateTimeFormat(this.locale,{...Z,timeZone:"utc"});return this._format(be,W)}addCalendarYears(W,Z){return this.addCalendarMonths(W,12*Z)}addCalendarMonths(W,Z){let be=this._createDateWithOverflow(this.getYear(W),this.getMonth(W)+Z,this.getDate(W));return this.getMonth(be)!=((this.getMonth(W)+Z)%12+12)%12&&(be=this._createDateWithOverflow(this.getYear(be),this.getMonth(be),0)),be}addCalendarDays(W,Z){return this._createDateWithOverflow(this.getYear(W),this.getMonth(W),this.getDate(W)+Z)}toIso8601(W){return[W.getUTCFullYear(),this._2digit(W.getUTCMonth()+1),this._2digit(W.getUTCDate())].join("-")}deserialize(W){if("string"==typeof W){if(!W)return null;if(_e.test(W)){let Z=new Date(W);if(this.isValid(Z))return Z}}return super.deserialize(W)}isDateInstance(W){return W instanceof Date}isValid(W){return!isNaN(W.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(W,Z,be){const le=new Date;return le.setFullYear(W,Z,be),le.setHours(0,0,0,0),le}_2digit(W){return("00"+W).slice(-2)}_format(W,Z){const be=new Date;return be.setUTCFullYear(Z.getFullYear(),Z.getMonth(),Z.getDate()),be.setUTCHours(Z.getHours(),Z.getMinutes(),Z.getSeconds(),Z.getMilliseconds()),W.format(be)}}return(De=q).\u0275fac=function(W){return new(W||De)(l.\u0275\u0275inject(we,8),l.\u0275\u0275inject(b.t4))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),q})();const ee={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let z=(()=>{var De;class q{}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({providers:[{provide:rt,useClass:G}]}),q})(),ye=(()=>{var De;class q{}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({providers:[{provide:Me,useValue:ee}],imports:[z]}),q})(),Se=(()=>{var De;class q{isErrorState(W,Z){return!!(W&&W.invalid&&(W.touched||Z&&Z.submitted))}}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac,providedIn:"root"}),q})(),oe=(()=>{var De;class q{}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({imports:[U,U]}),q})();class Pe{constructor(q,$,W,Z=!1){this._renderer=q,this.element=$,this.config=W,this._animationForciblyDisabledThroughCss=Z,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const at=(0,b.i$)({passive:!0,capture:!0});class gt{constructor(){this._events=new Map,this._delegateEventHandler=q=>{const $=(0,b.sA)(q);$&&this._events.get(q.type)?.forEach((W,Z)=>{(Z===$||Z.contains($))&&W.forEach(be=>be.handleEvent(q))})}}addHandler(q,$,W,Z){const be=this._events.get($);if(be){const le=be.get(W);le?le.add(Z):be.set(W,new Set([Z]))}else this._events.set($,new Map([[W,new Set([Z])]])),q.runOutsideAngular(()=>{document.addEventListener($,this._delegateEventHandler,at)})}removeHandler(q,$,W){const Z=this._events.get(q);if(!Z)return;const be=Z.get($);be&&(be.delete(W),0===be.size&&Z.delete($),0===Z.size&&(this._events.delete(q),document.removeEventListener(q,this._delegateEventHandler,at)))}}const Mt={enterDuration:225,exitDuration:150},zt=(0,b.i$)({passive:!0,capture:!0}),$t=["mousedown","touchstart"],wt=["mouseup","mouseleave","touchend","touchcancel"];class Rt{constructor(q,$,W,Z){this._target=q,this._ngZone=$,this._platform=Z,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Z.isBrowser&&(this._containerElement=(0,C.fI)(W))}fadeInRipple(q,$,W={}){const Z=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),be={...Mt,...W.animation};W.centered&&(q=Z.left+Z.width/2,$=Z.top+Z.height/2);const le=W.radius||function Gt(De,q,$){const W=Math.max(Math.abs(De-$.left),Math.abs(De-$.right)),Z=Math.max(Math.abs(q-$.top),Math.abs(q-$.bottom));return Math.sqrt(W*W+Z*Z)}(q,$,Z),ce=q-Z.left,Re=$-Z.top,pe=be.enterDuration,ke=document.createElement("div");ke.classList.add("mat-ripple-element"),ke.style.left=ce-le+"px",ke.style.top=Re-le+"px",ke.style.height=2*le+"px",ke.style.width=2*le+"px",null!=W.color&&(ke.style.backgroundColor=W.color),ke.style.transitionDuration=`${pe}ms`,this._containerElement.appendChild(ke);const Je=window.getComputedStyle(ke),ft=Je.transitionDuration,Nt="none"===Je.transitionProperty||"0s"===ft||"0s, 0s"===ft||0===Z.width&&0===Z.height,Kt=new Pe(this,ke,W,Nt);ke.style.transform="scale3d(1, 1, 1)",Kt.state=0,W.persistent||(this._mostRecentTransientRipple=Kt);let Dt=null;return!Nt&&(pe||be.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Vi=()=>this._finishRippleTransition(Kt),Ei=()=>this._destroyRipple(Kt);ke.addEventListener("transitionend",Vi),ke.addEventListener("transitioncancel",Ei),Dt={onTransitionEnd:Vi,onTransitionCancel:Ei}}),this._activeRipples.set(Kt,Dt),(Nt||!pe)&&this._finishRippleTransition(Kt),Kt}fadeOutRipple(q){if(2===q.state||3===q.state)return;const $=q.element,W={...Mt,...q.config.animation};$.style.transitionDuration=`${W.exitDuration}ms`,$.style.opacity="0",q.state=2,(q._animationForciblyDisabledThroughCss||!W.exitDuration)&&this._finishRippleTransition(q)}fadeOutAll(){this._getActiveRipples().forEach(q=>q.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(q=>{q.config.persistent||q.fadeOut()})}setupTriggerEvents(q){const $=(0,C.fI)(q);!this._platform.isBrowser||!$||$===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=$,$t.forEach(W=>{Rt._eventManager.addHandler(this._ngZone,W,$,this)}))}handleEvent(q){"mousedown"===q.type?this._onMousedown(q):"touchstart"===q.type?this._onTouchStart(q):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{wt.forEach($=>{this._triggerElement.addEventListener($,this,zt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(q){0===q.state?this._startFadeOutTransition(q):2===q.state&&this._destroyRipple(q)}_startFadeOutTransition(q){const $=q===this._mostRecentTransientRipple,{persistent:W}=q.config;q.state=1,!W&&(!$||!this._isPointerDown)&&q.fadeOut()}_destroyRipple(q){const $=this._activeRipples.get(q)??null;this._activeRipples.delete(q),this._activeRipples.size||(this._containerRect=null),q===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),q.state=3,null!==$&&(q.element.removeEventListener("transitionend",$.onTransitionEnd),q.element.removeEventListener("transitioncancel",$.onTransitionCancel)),q.element.remove()}_onMousedown(q){const $=(0,n.X6)(q),W=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!$&&!W&&(this._isPointerDown=!0,this.fadeInRipple(q.clientX,q.clientY,this._target.rippleConfig))}_onTouchStart(q){if(!this._target.rippleDisabled&&!(0,n.yG)(q)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const $=q.changedTouches;if($)for(let W=0;W<$.length;W++)this.fadeInRipple($[W].clientX,$[W].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(q=>{!q.config.persistent&&(1===q.state||q.config.terminateOnPointerUp&&0===q.state)&&q.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const q=this._triggerElement;q&&($t.forEach($=>Rt._eventManager.removeHandler($,q,this)),this._pointerUpEventsRegistered&&wt.forEach($=>q.removeEventListener($,this,zt)))}}Rt._eventManager=new gt;const Ut=new l.InjectionToken("mat-ripple-global-options");let ni=(()=>{var De;class q{get disabled(){return this._disabled}set disabled(W){W&&this.fadeOutAllNonPersistent(),this._disabled=W,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(W){this._trigger=W,this._setupTriggerEventsIfEnabled()}constructor(W,Z,be,le,ce){this._elementRef=W,this._animationMode=ce,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=le||{},this._rippleRenderer=new Rt(this,Z,W,be)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(W,Z=0,be){return"number"==typeof W?this._rippleRenderer.fadeInRipple(W,Z,{...this.rippleConfig,...be}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...W})}}return(De=q).\u0275fac=function(W){return new(W||De)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.NgZone),l.\u0275\u0275directiveInject(b.t4),l.\u0275\u0275directiveInject(Ut,8),l.\u0275\u0275directiveInject(l.ANIMATION_MODULE_TYPE,8))},De.\u0275dir=l.\u0275\u0275defineDirective({type:De,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(W,Z){2&W&&l.\u0275\u0275classProp("mat-ripple-unbounded",Z.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),q})(),ei=(()=>{var De;class q{}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({imports:[U,U]}),q})(),Qe=(()=>{var De;class q{}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({imports:[U]}),q})();class We{constructor(q,$=!1){this.source=q,this.isUserInput=$}}function Ie(De,q,$){if($.length){let W=q.toArray(),Z=$.toArray(),be=0;for(let le=0;le<De+1;le++)W[le].group&&W[le].group===Z[be]&&be++;return be}return 0}function Le(De,q,$,W){return De<$?De:De+q>$+W?Math.max(0,De-W+q):$}let ie=(()=>{var De;class q{}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({imports:[ei,h.CommonModule,U,Qe]}),q})();const ve={capture:!0},tt=["focus","click","mouseenter","touchstart"],Oe="mat-ripple-loader-uninitialized",Ne="mat-ripple-loader-class-name",Ue="mat-ripple-loader-centered",dt="mat-ripple-loader-disabled";let Ct=(()=>{var De;class q{constructor(){this._document=(0,l.inject)(h.DOCUMENT,{optional:!0}),this._animationMode=(0,l.inject)(l.ANIMATION_MODULE_TYPE,{optional:!0}),this._globalRippleOptions=(0,l.inject)(Ut,{optional:!0}),this._platform=(0,l.inject)(b.t4),this._ngZone=(0,l.inject)(l.NgZone),this._onInteraction=W=>{if(!(W.target instanceof HTMLElement))return;const be=W.target.closest(`[${Oe}]`);be&&this.createRipple(be)},this._ngZone.runOutsideAngular(()=>{for(const W of tt)this._document?.addEventListener(W,this._onInteraction,ve)})}ngOnDestroy(){for(const W of tt)this._document?.removeEventListener(W,this._onInteraction,ve)}configureRipple(W,Z){W.setAttribute(Oe,""),(Z.className||!W.hasAttribute(Ne))&&W.setAttribute(Ne,Z.className||""),Z.centered&&W.setAttribute(Ue,""),Z.disabled&&W.setAttribute(dt,"")}getRipple(W){return W.matRipple?W.matRipple:this.createRipple(W)}setDisabled(W,Z){const be=W.matRipple;be?be.disabled=Z:Z?W.setAttribute(dt,""):W.removeAttribute(dt)}createRipple(W){if(!this._document)return;W.querySelector(".mat-ripple")?.remove();const Z=this._document.createElement("span");Z.classList.add("mat-ripple",W.getAttribute(Ne)),W.append(Z);const be=new ni(new l.ElementRef(Z),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return be._isInitialized=!0,be.trigger=W,be.centered=W.hasAttribute(Ue),be.disabled=W.hasAttribute(dt),this.attachRipple(W,be),be}attachRipple(W,Z){W.removeAttribute(Oe),W.matRipple=Z}}return(De=q).\u0275fac=function(W){return new(W||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac,providedIn:"root"}),q})()},617:(ot,Te,T)=>{T.d(Te,{Hw:()=>G,Ps:()=>ee});var l=T(7970),n=T(3680),E=T(2495),d=T(3595),h=T(2096),b=T(8504),C=T(9315),f=T(7394),w=T(9397),k=T(7398),S=T(6306),x=T(4716),o=T(3020),p=T(8180),m=T(567),u=T(6593);const y=["*"];let M;function B(z){return function P(){if(void 0===M&&(M=null,typeof window<"u")){const z=window;void 0!==z.trustedTypes&&(M=z.trustedTypes.createPolicy("angular#components",{createHTML:ye=>ye}))}return M}()?.createHTML(z)||z}function v(z){return Error(`Unable to find icon with the name "${z}"`)}function U(z){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${z}".`)}function ae(z){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${z}".`)}class ne{constructor(ye,Ge,Se){this.url=ye,this.svgText=Ge,this.options=Se}}let he=(()=>{var z;class ye{constructor(Se,re,Ve,He){this._httpClient=Se,this._sanitizer=re,this._errorHandler=He,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Ve}addSvgIcon(Se,re,Ve){return this.addSvgIconInNamespace("",Se,re,Ve)}addSvgIconLiteral(Se,re,Ve){return this.addSvgIconLiteralInNamespace("",Se,re,Ve)}addSvgIconInNamespace(Se,re,Ve,He){return this._addSvgIconConfig(Se,re,new ne(Ve,null,He))}addSvgIconResolver(Se){return this._resolvers.push(Se),this}addSvgIconLiteralInNamespace(Se,re,Ve,He){const oe=this._sanitizer.sanitize(l.SecurityContext.HTML,Ve);if(!oe)throw ae(Ve);const Pe=B(oe);return this._addSvgIconConfig(Se,re,new ne("",Pe,He))}addSvgIconSet(Se,re){return this.addSvgIconSetInNamespace("",Se,re)}addSvgIconSetLiteral(Se,re){return this.addSvgIconSetLiteralInNamespace("",Se,re)}addSvgIconSetInNamespace(Se,re,Ve){return this._addSvgIconSetConfig(Se,new ne(re,null,Ve))}addSvgIconSetLiteralInNamespace(Se,re,Ve){const He=this._sanitizer.sanitize(l.SecurityContext.HTML,re);if(!He)throw ae(re);const oe=B(He);return this._addSvgIconSetConfig(Se,new ne("",oe,Ve))}registerFontClassAlias(Se,re=Se){return this._fontCssClassesByAlias.set(Se,re),this}classNameForFontAlias(Se){return this._fontCssClassesByAlias.get(Se)||Se}setDefaultFontSetClass(...Se){return this._defaultFontSetClass=Se,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(Se){const re=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,Se);if(!re)throw U(Se);const Ve=this._cachedIconsByUrl.get(re);return Ve?(0,h.of)($e(Ve)):this._loadSvgIconFromConfig(new ne(Se,null)).pipe((0,w.b)(He=>this._cachedIconsByUrl.set(re,He)),(0,k.U)(He=>$e(He)))}getNamedSvgIcon(Se,re=""){const Ve=Q(re,Se);let He=this._svgIconConfigs.get(Ve);if(He)return this._getSvgFromConfig(He);if(He=this._getIconConfigFromResolvers(re,Se),He)return this._svgIconConfigs.set(Ve,He),this._getSvgFromConfig(He);const oe=this._iconSetConfigs.get(re);return oe?this._getSvgFromIconSetConfigs(Se,oe):(0,b._)(v(Ve))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(Se){return Se.svgText?(0,h.of)($e(this._svgElementFromConfig(Se))):this._loadSvgIconFromConfig(Se).pipe((0,k.U)(re=>$e(re)))}_getSvgFromIconSetConfigs(Se,re){const Ve=this._extractIconWithNameFromAnySet(Se,re);if(Ve)return(0,h.of)(Ve);const He=re.filter(oe=>!oe.svgText).map(oe=>this._loadSvgIconSetFromConfig(oe).pipe((0,S.K)(Pe=>{const gt=`Loading icon set URL: ${this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,oe.url)} failed: ${Pe.message}`;return this._errorHandler.handleError(new Error(gt)),(0,h.of)(null)})));return(0,C.D)(He).pipe((0,k.U)(()=>{const oe=this._extractIconWithNameFromAnySet(Se,re);if(!oe)throw v(Se);return oe}))}_extractIconWithNameFromAnySet(Se,re){for(let Ve=re.length-1;Ve>=0;Ve--){const He=re[Ve];if(He.svgText&&He.svgText.toString().indexOf(Se)>-1){const oe=this._svgElementFromConfig(He),Pe=this._extractSvgIconFromSet(oe,Se,He.options);if(Pe)return Pe}}return null}_loadSvgIconFromConfig(Se){return this._fetchIcon(Se).pipe((0,w.b)(re=>Se.svgText=re),(0,k.U)(()=>this._svgElementFromConfig(Se)))}_loadSvgIconSetFromConfig(Se){return Se.svgText?(0,h.of)(null):this._fetchIcon(Se).pipe((0,w.b)(re=>Se.svgText=re))}_extractSvgIconFromSet(Se,re,Ve){const He=Se.querySelector(`[id="${re}"]`);if(!He)return null;const oe=He.cloneNode(!0);if(oe.removeAttribute("id"),"svg"===oe.nodeName.toLowerCase())return this._setSvgAttributes(oe,Ve);if("symbol"===oe.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(oe),Ve);const Pe=this._svgElementFromString(B("<svg></svg>"));return Pe.appendChild(oe),this._setSvgAttributes(Pe,Ve)}_svgElementFromString(Se){const re=this._document.createElement("DIV");re.innerHTML=Se;const Ve=re.querySelector("svg");if(!Ve)throw Error("<svg> tag not found");return Ve}_toSvgElement(Se){const re=this._svgElementFromString(B("<svg></svg>")),Ve=Se.attributes;for(let He=0;He<Ve.length;He++){const{name:oe,value:Pe}=Ve[He];"id"!==oe&&re.setAttribute(oe,Pe)}for(let He=0;He<Se.childNodes.length;He++)Se.childNodes[He].nodeType===this._document.ELEMENT_NODE&&re.appendChild(Se.childNodes[He].cloneNode(!0));return re}_setSvgAttributes(Se,re){return Se.setAttribute("fit",""),Se.setAttribute("height","100%"),Se.setAttribute("width","100%"),Se.setAttribute("preserveAspectRatio","xMidYMid meet"),Se.setAttribute("focusable","false"),re&&re.viewBox&&Se.setAttribute("viewBox",re.viewBox),Se}_fetchIcon(Se){const{url:re,options:Ve}=Se,He=Ve?.withCredentials??!1;if(!this._httpClient)throw function I(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==re)throw Error(`Cannot fetch icon from URL "${re}".`);const oe=this._sanitizer.sanitize(l.SecurityContext.RESOURCE_URL,re);if(!oe)throw U(re);const Pe=this._inProgressUrlFetches.get(oe);if(Pe)return Pe;const at=this._httpClient.get(oe,{responseType:"text",withCredentials:He}).pipe((0,k.U)(gt=>B(gt)),(0,x.x)(()=>this._inProgressUrlFetches.delete(oe)),(0,o.B)());return this._inProgressUrlFetches.set(oe,at),at}_addSvgIconConfig(Se,re,Ve){return this._svgIconConfigs.set(Q(Se,re),Ve),this}_addSvgIconSetConfig(Se,re){const Ve=this._iconSetConfigs.get(Se);return Ve?Ve.push(re):this._iconSetConfigs.set(Se,[re]),this}_svgElementFromConfig(Se){if(!Se.svgElement){const re=this._svgElementFromString(Se.svgText);this._setSvgAttributes(re,Se.options),Se.svgElement=re}return Se.svgElement}_getIconConfigFromResolvers(Se,re){for(let Ve=0;Ve<this._resolvers.length;Ve++){const He=this._resolvers[Ve](re,Se);if(He)return de(He)?new ne(He.url,null,He.options):new ne(He,null)}}}return(z=ye).\u0275fac=function(Se){return new(Se||z)(l.\u0275\u0275inject(m.HttpClient,8),l.\u0275\u0275inject(u.H7),l.\u0275\u0275inject(d.DOCUMENT,8),l.\u0275\u0275inject(l.ErrorHandler))},z.\u0275prov=l.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"}),ye})();function $e(z){return z.cloneNode(!0)}function Q(z,ye){return z+":"+ye}function de(z){return!(!z.url||!z.options)}const xe=(0,n.pj)(class{constructor(z){this._elementRef=z}}),we=new l.InjectionToken("MAT_ICON_DEFAULT_OPTIONS"),Xe=new l.InjectionToken("mat-icon-location",{providedIn:"root",factory:function rt(){const z=(0,l.inject)(d.DOCUMENT),ye=z?z.location:null;return{getPathname:()=>ye?ye.pathname+ye.search:""}}}),Me=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_e=Me.map(z=>`[${z}]`).join(", "),ge=/^url\(['"]?#(.*?)['"]?\)$/;let G=(()=>{var z;class ye extends xe{get inline(){return this._inline}set inline(Se){this._inline=(0,E.Ig)(Se)}get svgIcon(){return this._svgIcon}set svgIcon(Se){Se!==this._svgIcon&&(Se?this._updateSvgIcon(Se):this._svgIcon&&this._clearSvgElement(),this._svgIcon=Se)}get fontSet(){return this._fontSet}set fontSet(Se){const re=this._cleanupFontValue(Se);re!==this._fontSet&&(this._fontSet=re,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(Se){const re=this._cleanupFontValue(Se);re!==this._fontIcon&&(this._fontIcon=re,this._updateFontIconClasses())}constructor(Se,re,Ve,He,oe,Pe){super(Se),this._iconRegistry=re,this._location=He,this._errorHandler=oe,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=f.w0.EMPTY,Pe&&(Pe.color&&(this.color=this.defaultColor=Pe.color),Pe.fontSet&&(this.fontSet=Pe.fontSet)),Ve||Se.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(Se){if(!Se)return["",""];const re=Se.split(":");switch(re.length){case 1:return["",re[0]];case 2:return re;default:throw Error(`Invalid icon name: "${Se}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const Se=this._elementsWithExternalReferences;if(Se&&Se.size){const re=this._location.getPathname();re!==this._previousPath&&(this._previousPath=re,this._prependPathToReferences(re))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(Se){this._clearSvgElement();const re=this._location.getPathname();this._previousPath=re,this._cacheChildrenWithExternalReferences(Se),this._prependPathToReferences(re),this._elementRef.nativeElement.appendChild(Se)}_clearSvgElement(){const Se=this._elementRef.nativeElement;let re=Se.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();re--;){const Ve=Se.childNodes[re];(1!==Ve.nodeType||"svg"===Ve.nodeName.toLowerCase())&&Ve.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const Se=this._elementRef.nativeElement,re=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Ve=>Ve.length>0);this._previousFontSetClass.forEach(Ve=>Se.classList.remove(Ve)),re.forEach(Ve=>Se.classList.add(Ve)),this._previousFontSetClass=re,this.fontIcon!==this._previousFontIconClass&&!re.includes("mat-ligature-font")&&(this._previousFontIconClass&&Se.classList.remove(this._previousFontIconClass),this.fontIcon&&Se.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(Se){return"string"==typeof Se?Se.trim().split(" ")[0]:Se}_prependPathToReferences(Se){const re=this._elementsWithExternalReferences;re&&re.forEach((Ve,He)=>{Ve.forEach(oe=>{He.setAttribute(oe.name,`url('${Se}#${oe.value}')`)})})}_cacheChildrenWithExternalReferences(Se){const re=Se.querySelectorAll(_e),Ve=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let He=0;He<re.length;He++)Me.forEach(oe=>{const Pe=re[He],at=Pe.getAttribute(oe),gt=at?at.match(ge):null;if(gt){let Mt=Ve.get(Pe);Mt||(Mt=[],Ve.set(Pe,Mt)),Mt.push({name:oe,value:gt[1]})}})}_updateSvgIcon(Se){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),Se){const[re,Ve]=this._splitIconName(Se);re&&(this._svgNamespace=re),Ve&&(this._svgName=Ve),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Ve,re).pipe((0,p.q)(1)).subscribe(He=>this._setSvgElement(He),He=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${re}:${Ve}! ${He.message}`))})}}}return(z=ye).\u0275fac=function(Se){return new(Se||z)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(he),l.\u0275\u0275injectAttribute("aria-hidden"),l.\u0275\u0275directiveInject(Xe),l.\u0275\u0275directiveInject(l.ErrorHandler),l.\u0275\u0275directiveInject(we,8))},z.\u0275cmp=l.\u0275\u0275defineComponent({type:z,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(Se,re){2&Se&&(l.\u0275\u0275attribute("data-mat-icon-type",re._usingFontIcon()?"font":"svg")("data-mat-icon-name",re._svgName||re.fontIcon)("data-mat-icon-namespace",re._svgNamespace||re.fontSet)("fontIcon",re._usingFontIcon()?re.fontIcon:null),l.\u0275\u0275classProp("mat-icon-inline",re.inline)("mat-icon-no-color","primary"!==re.color&&"accent"!==re.color&&"warn"!==re.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:y,decls:1,vars:0,template:function(Se,re){1&Se&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275projection(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),ye})(),ee=(()=>{var z;class ye{}return(z=ye).\u0275fac=function(Se){return new(Se||z)},z.\u0275mod=l.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=l.\u0275\u0275defineInjector({imports:[n.BQ,n.BQ]}),ye})()},5940:(ot,Te,T)=>{T.d(Te,{Cq:()=>p,Ou:()=>x});var l=T(7970),n=T(3680),E=T(2495),d=T(3595);const h=["determinateSpinner"];function b(m,u){if(1&m&&(l.\u0275\u0275namespaceSVG(),l.\u0275\u0275elementStart(0,"svg",11),l.\u0275\u0275element(1,"circle",12),l.\u0275\u0275elementEnd()),2&m){const y=l.\u0275\u0275nextContext();l.\u0275\u0275attribute("viewBox",y._viewBox()),l.\u0275\u0275advance(1),l.\u0275\u0275styleProp("stroke-dasharray",y._strokeCircumference(),"px")("stroke-dashoffset",y._strokeCircumference()/2,"px")("stroke-width",y._circleStrokeWidth(),"%"),l.\u0275\u0275attribute("r",y._circleRadius())}}const C=(0,n.pj)(class{constructor(m){this._elementRef=m}},"primary"),f=new l.InjectionToken("mat-progress-spinner-default-options",{providedIn:"root",factory:function w(){return{diameter:k}}}),k=100;let x=(()=>{var m;class u extends C{constructor(M,P,B){super(M),this.mode="mat-spinner"===this._elementRef.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",this._value=0,this._diameter=k,this._noopAnimations="NoopAnimations"===P&&!!B&&!B._forceAnimations,B&&(B.color&&(this.color=this.defaultColor=B.color),B.diameter&&(this.diameter=B.diameter),B.strokeWidth&&(this.strokeWidth=B.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(M){this._value=Math.max(0,Math.min(100,(0,E.su)(M)))}get diameter(){return this._diameter}set diameter(M){this._diameter=(0,E.su)(M)}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(M){this._strokeWidth=(0,E.su)(M)}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const M=2*this._circleRadius()+this.strokeWidth;return`0 0 ${M} ${M}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}}return(m=u).\u0275fac=function(M){return new(M||m)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(l.ANIMATION_MODULE_TYPE,8),l.\u0275\u0275directiveInject(f))},m.\u0275cmp=l.\u0275\u0275defineComponent({type:m,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(M,P){if(1&M&&l.\u0275\u0275viewQuery(h,5),2&M){let B;l.\u0275\u0275queryRefresh(B=l.\u0275\u0275loadQuery())&&(P._determinateCircle=B.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:16,hostBindings:function(M,P){2&M&&(l.\u0275\u0275attribute("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===P.mode?P.value:null)("mode",P.mode),l.\u0275\u0275styleProp("width",P.diameter,"px")("height",P.diameter,"px")("--mdc-circular-progress-size",P.diameter+"px")("--mdc-circular-progress-active-indicator-width",P.diameter+"px"),l.\u0275\u0275classProp("_mat-animation-noopable",P._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===P.mode))},inputs:{color:"color",mode:"mode",value:"value",diameter:"diameter",strokeWidth:"strokeWidth"},exportAs:["matProgressSpinner"],features:[l.\u0275\u0275InheritDefinitionFeature],decls:14,vars:11,consts:[["circle",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["determinateSpinner",""],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(M,P){if(1&M&&(l.\u0275\u0275template(0,b,2,8,"ng-template",null,0,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementStart(2,"div",1,2),l.\u0275\u0275namespaceSVG(),l.\u0275\u0275elementStart(4,"svg",3),l.\u0275\u0275element(5,"circle",4),l.\u0275\u0275elementEnd()(),l.\u0275\u0275namespaceHTML(),l.\u0275\u0275elementStart(6,"div",5)(7,"div",6)(8,"div",7),l.\u0275\u0275elementContainer(9,8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(10,"div",9),l.\u0275\u0275elementContainer(11,8),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"div",10),l.\u0275\u0275elementContainer(13,8),l.\u0275\u0275elementEnd()()()),2&M){const B=l.\u0275\u0275reference(1);l.\u0275\u0275advance(4),l.\u0275\u0275attribute("viewBox",P._viewBox()),l.\u0275\u0275advance(1),l.\u0275\u0275styleProp("stroke-dasharray",P._strokeCircumference(),"px")("stroke-dashoffset",P._strokeDashOffset(),"px")("stroke-width",P._circleStrokeWidth(),"%"),l.\u0275\u0275attribute("r",P._circleRadius()),l.\u0275\u0275advance(4),l.\u0275\u0275property("ngTemplateOutlet",B),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngTemplateOutlet",B),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngTemplateOutlet",B)}},dependencies:[d.NgTemplateOutlet],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner{--mdc-circular-progress-active-indicator-width:4px;--mdc-circular-progress-size:48px}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0}),u})(),p=(()=>{var m;class u{}return(m=u).\u0275fac=function(M){return new(M||m)},m.\u0275mod=l.\u0275\u0275defineNgModule({type:m}),m.\u0275inj=l.\u0275\u0275defineInjector({imports:[d.CommonModule,n.BQ]}),u})()},2651:(ot,Te,T)=>{T.d(Te,{LW:()=>ge,SJ:()=>Se,jA:()=>G,kh:()=>ee});var l=T(799),n=T(3595),E=T(7970),d=T(3680),h=T(7849),b=T(9388),C=T(2495),f=T(6028),w=T(2831),k=T(8645),S=T(2438),x=T(3019),o=T(2181),p=T(7398),m=T(975),u=T(9773),y=T(3997),M=T(8180),P=T(7921),B=T(3620),v=T(6825);const I=["*"],U=["content"];function ae(re,Ve){if(1&re){const He=E.\u0275\u0275getCurrentView();E.\u0275\u0275elementStart(0,"div",2),E.\u0275\u0275listener("click",function(){E.\u0275\u0275restoreView(He);const Pe=E.\u0275\u0275nextContext();return E.\u0275\u0275resetView(Pe._onBackdropClicked())}),E.\u0275\u0275elementEnd()}if(2&re){const He=E.\u0275\u0275nextContext();E.\u0275\u0275classProp("mat-drawer-shown",He._isShowingBackdrop())}}function ne(re,Ve){1&re&&(E.\u0275\u0275elementStart(0,"mat-drawer-content"),E.\u0275\u0275projection(1,2),E.\u0275\u0275elementEnd())}const he=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],je=["mat-drawer","mat-drawer-content","*"],we={transformDrawer:(0,v.X$)("transform",[(0,v.SB)("open, open-instant",(0,v.oB)({transform:"none",visibility:"visible"})),(0,v.SB)("void",(0,v.oB)({"box-shadow":"none",visibility:"hidden"})),(0,v.eR)("void => open-instant",(0,v.jt)("0ms")),(0,v.eR)("void <=> open, open-instant => void",(0,v.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},rt=new E.InjectionToken("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function _e(){return!1}}),Me=new E.InjectionToken("MAT_DRAWER_CONTAINER");let ge=(()=>{var re;class Ve extends l.PQ{constructor(oe,Pe,at,gt,Mt){super(at,gt,Mt),this._changeDetectorRef=oe,this._container=Pe}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return(re=Ve).\u0275fac=function(oe){return new(oe||re)(E.\u0275\u0275directiveInject(E.ChangeDetectorRef),E.\u0275\u0275directiveInject((0,E.forwardRef)(()=>ee)),E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(l.mF),E.\u0275\u0275directiveInject(E.NgZone))},re.\u0275cmp=E.\u0275\u0275defineComponent({type:re,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(oe,Pe){2&oe&&E.\u0275\u0275styleProp("margin-left",Pe._container._contentMargins.left,"px")("margin-right",Pe._container._contentMargins.right,"px")},features:[E.\u0275\u0275ProvidersFeature([{provide:l.PQ,useExisting:re}]),E.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:I,decls:1,vars:0,template:function(oe,Pe){1&oe&&(E.\u0275\u0275projectionDef(),E.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),Ve})(),G=(()=>{var re;class Ve{get position(){return this._position}set position(oe){(oe="end"===oe?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(oe),this._position=oe,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(oe){this._mode=oe,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(oe){this._disableClose=(0,C.Ig)(oe)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(oe){("true"===oe||"false"===oe||null==oe)&&(oe=(0,C.Ig)(oe)),this._autoFocus=oe}get opened(){return this._opened}set opened(oe){this.toggle((0,C.Ig)(oe))}constructor(oe,Pe,at,gt,Mt,jt,zt,$t){this._elementRef=oe,this._focusTrapFactory=Pe,this._focusMonitor=at,this._platform=gt,this._ngZone=Mt,this._interactivityChecker=jt,this._doc=zt,this._container=$t,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new k.x,this._animationEnd=new k.x,this._animationState="void",this.openedChange=new E.EventEmitter(!0),this._openedStream=this.openedChange.pipe((0,o.h)(wt=>wt),(0,p.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,o.h)(wt=>wt.fromState!==wt.toState&&0===wt.toState.indexOf("open")),(0,m.h)(void 0)),this._closedStream=this.openedChange.pipe((0,o.h)(wt=>!wt),(0,p.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,o.h)(wt=>wt.fromState!==wt.toState&&"void"===wt.toState),(0,m.h)(void 0)),this._destroyed=new k.x,this.onPositionChanged=new E.EventEmitter,this._modeChanged=new k.x,this.openedChange.subscribe(wt=>{wt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,S.R)(this._elementRef.nativeElement,"keydown").pipe((0,o.h)(wt=>wt.keyCode===f.hY&&!this.disableClose&&!(0,f.Vb)(wt)),(0,u.R)(this._destroyed)).subscribe(wt=>this._ngZone.run(()=>{this.close(),wt.stopPropagation(),wt.preventDefault()}))}),this._animationEnd.pipe((0,y.x)((wt,Rt)=>wt.fromState===Rt.fromState&&wt.toState===Rt.toState)).subscribe(wt=>{const{fromState:Rt,toState:Gt}=wt;(0===Gt.indexOf("open")&&"void"===Rt||"void"===Gt&&0===Rt.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(oe,Pe){this._interactivityChecker.isFocusable(oe)||(oe.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const at=()=>{oe.removeEventListener("blur",at),oe.removeEventListener("mousedown",at),oe.removeAttribute("tabindex")};oe.addEventListener("blur",at),oe.addEventListener("mousedown",at)})),oe.focus(Pe)}_focusByCssSelector(oe,Pe){let at=this._elementRef.nativeElement.querySelector(oe);at&&this._forceFocus(at,Pe)}_takeFocus(){if(!this._focusTrap)return;const oe=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Pe=>{!Pe&&"function"==typeof this._elementRef.nativeElement.focus&&oe.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(oe){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,oe):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const oe=this._doc.activeElement;return!!oe&&this._elementRef.nativeElement.contains(oe)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(oe){return this.toggle(!0,oe)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(oe=!this.opened,Pe){oe&&Pe&&(this._openedVia=Pe);const at=this._setOpen(oe,!oe&&this._isFocusWithinDrawer(),this._openedVia||"program");return oe||(this._openedVia=null),at}_setOpen(oe,Pe,at){return this._opened=oe,oe?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Pe&&this._restoreFocus(at)),this._updateFocusTrapState(),new Promise(gt=>{this.openedChange.pipe((0,M.q)(1)).subscribe(Mt=>gt(Mt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(oe){const Pe=this._elementRef.nativeElement,at=Pe.parentNode;"end"===oe?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),at.insertBefore(this._anchor,Pe)),at.appendChild(Pe)):this._anchor&&this._anchor.parentNode.insertBefore(Pe,this._anchor)}}return(re=Ve).\u0275fac=function(oe){return new(oe||re)(E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(h.qV),E.\u0275\u0275directiveInject(h.tE),E.\u0275\u0275directiveInject(w.t4),E.\u0275\u0275directiveInject(E.NgZone),E.\u0275\u0275directiveInject(h.ic),E.\u0275\u0275directiveInject(n.DOCUMENT,8),E.\u0275\u0275directiveInject(Me,8))},re.\u0275cmp=E.\u0275\u0275defineComponent({type:re,selectors:[["mat-drawer"]],viewQuery:function(oe,Pe){if(1&oe&&E.\u0275\u0275viewQuery(U,5),2&oe){let at;E.\u0275\u0275queryRefresh(at=E.\u0275\u0275loadQuery())&&(Pe._content=at.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(oe,Pe){1&oe&&E.\u0275\u0275syntheticHostListener("@transform.start",function(gt){return Pe._animationStarted.next(gt)})("@transform.done",function(gt){return Pe._animationEnd.next(gt)}),2&oe&&(E.\u0275\u0275attribute("align",null),E.\u0275\u0275syntheticHostProperty("@transform",Pe._animationState),E.\u0275\u0275classProp("mat-drawer-end","end"===Pe.position)("mat-drawer-over","over"===Pe.mode)("mat-drawer-push","push"===Pe.mode)("mat-drawer-side","side"===Pe.mode)("mat-drawer-opened",Pe.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:I,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(oe,Pe){1&oe&&(E.\u0275\u0275projectionDef(),E.\u0275\u0275elementStart(0,"div",0,1),E.\u0275\u0275projection(2),E.\u0275\u0275elementEnd())},dependencies:[l.PQ],encapsulation:2,data:{animation:[we.transformDrawer]},changeDetection:0}),Ve})(),ee=(()=>{var re;class Ve{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(oe){this._autosize=(0,C.Ig)(oe)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(oe){this._backdropOverride=null==oe?null:(0,C.Ig)(oe)}get scrollable(){return this._userContent||this._content}constructor(oe,Pe,at,gt,Mt,jt=!1,zt){this._dir=oe,this._element=Pe,this._ngZone=at,this._changeDetectorRef=gt,this._animationMode=zt,this._drawers=new E.QueryList,this.backdropClick=new E.EventEmitter,this._destroyed=new k.x,this._doCheckSubject=new k.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new k.x,oe&&oe.change.pipe((0,u.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Mt.change().pipe((0,u.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=jt}ngAfterContentInit(){this._allDrawers.changes.pipe((0,P.O)(this._allDrawers),(0,u.R)(this._destroyed)).subscribe(oe=>{this._drawers.reset(oe.filter(Pe=>!Pe._container||Pe._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,P.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(oe=>{this._watchDrawerToggle(oe),this._watchDrawerPosition(oe),this._watchDrawerMode(oe)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,B.b)(10),(0,u.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(oe=>oe.open())}close(){this._drawers.forEach(oe=>oe.close())}updateContentMargins(){let oe=0,Pe=0;if(this._left&&this._left.opened)if("side"==this._left.mode)oe+=this._left._getWidth();else if("push"==this._left.mode){const at=this._left._getWidth();oe+=at,Pe-=at}if(this._right&&this._right.opened)if("side"==this._right.mode)Pe+=this._right._getWidth();else if("push"==this._right.mode){const at=this._right._getWidth();Pe+=at,oe-=at}oe=oe||null,Pe=Pe||null,(oe!==this._contentMargins.left||Pe!==this._contentMargins.right)&&(this._contentMargins={left:oe,right:Pe},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(oe){oe._animationStarted.pipe((0,o.h)(Pe=>Pe.fromState!==Pe.toState),(0,u.R)(this._drawers.changes)).subscribe(Pe=>{"open-instant"!==Pe.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==oe.mode&&oe.openedChange.pipe((0,u.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(oe.opened))}_watchDrawerPosition(oe){oe&&oe.onPositionChanged.pipe((0,u.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,M.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(oe){oe&&oe._modeChanged.pipe((0,u.R)((0,x.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(oe){const Pe=this._element.nativeElement.classList,at="mat-drawer-container-has-open";oe?Pe.add(at):Pe.remove(at)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(oe=>{"end"==oe.position?this._end=oe:this._start=oe}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(oe=>oe&&!oe.disableClose&&this._drawerHasBackdrop(oe)).forEach(oe=>oe._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(oe){return null!=oe&&oe.opened}_drawerHasBackdrop(oe){return null==this._backdropOverride?!!oe&&"side"!==oe.mode:this._backdropOverride}}return(re=Ve).\u0275fac=function(oe){return new(oe||re)(E.\u0275\u0275directiveInject(b.Is,8),E.\u0275\u0275directiveInject(E.ElementRef),E.\u0275\u0275directiveInject(E.NgZone),E.\u0275\u0275directiveInject(E.ChangeDetectorRef),E.\u0275\u0275directiveInject(l.rL),E.\u0275\u0275directiveInject(rt),E.\u0275\u0275directiveInject(E.ANIMATION_MODULE_TYPE,8))},re.\u0275cmp=E.\u0275\u0275defineComponent({type:re,selectors:[["mat-drawer-container"]],contentQueries:function(oe,Pe,at){if(1&oe&&(E.\u0275\u0275contentQuery(at,ge,5),E.\u0275\u0275contentQuery(at,G,5)),2&oe){let gt;E.\u0275\u0275queryRefresh(gt=E.\u0275\u0275loadQuery())&&(Pe._content=gt.first),E.\u0275\u0275queryRefresh(gt=E.\u0275\u0275loadQuery())&&(Pe._allDrawers=gt)}},viewQuery:function(oe,Pe){if(1&oe&&E.\u0275\u0275viewQuery(ge,5),2&oe){let at;E.\u0275\u0275queryRefresh(at=E.\u0275\u0275loadQuery())&&(Pe._userContent=at.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(oe,Pe){2&oe&&E.\u0275\u0275classProp("mat-drawer-container-explicit-backdrop",Pe._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[E.\u0275\u0275ProvidersFeature([{provide:Me,useExisting:re}])],ngContentSelectors:je,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(oe,Pe){1&oe&&(E.\u0275\u0275projectionDef(he),E.\u0275\u0275template(0,ae,1,2,"div",0),E.\u0275\u0275projection(1),E.\u0275\u0275projection(2,1),E.\u0275\u0275template(3,ne,2,0,"mat-drawer-content",1)),2&oe&&(E.\u0275\u0275property("ngIf",Pe.hasBackdrop),E.\u0275\u0275advance(3),E.\u0275\u0275property("ngIf",!Pe._content))},dependencies:[n.NgIf,ge],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),Ve})(),Se=(()=>{var re;class Ve{}return(re=Ve).\u0275fac=function(oe){return new(oe||re)},re.\u0275mod=E.\u0275\u0275defineNgModule({type:re}),re.\u0275inj=E.\u0275\u0275defineInjector({imports:[n.CommonModule,d.BQ,l.ZD,l.ZD,d.BQ]}),Ve})()},6593:(ot,Te,T)=>{T.d(Te,{Dx:()=>Rt,H7:()=>Ie,b2:()=>Mt,q6:()=>oe,se:()=>je});var l=T(7970),n=T(3595);T(567);class d extends n.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h extends d{static makeCurrent(){(0,n.\u0275setRootDomAdapter)(new h)}onAndCancel($,W,Z){return $.addEventListener(W,Z),()=>{$.removeEventListener(W,Z)}}dispatchEvent($,W){$.dispatchEvent(W)}remove($){$.parentNode&&$.parentNode.removeChild($)}createElement($,W){return(W=W||this.getDefaultDocument()).createElement($)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($){return $.nodeType===Node.ELEMENT_NODE}isShadowRoot($){return $ instanceof DocumentFragment}getGlobalEventTarget($,W){return"window"===W?window:"document"===W?$:"body"===W?$.body:null}getBaseHref($){const W=function C(){return b=b||document.querySelector("base"),b?b.getAttribute("href"):null}();return null==W?null:function w(q){f=f||document.createElement("a"),f.setAttribute("href",q);const $=f.pathname;return"/"===$.charAt(0)?$:`/${$}`}(W)}resetBaseElement(){b=null}getUserAgent(){return window.navigator.userAgent}getCookie($){return(0,n.\u0275parseCookieValue)(document.cookie,$)}}let f,b=null,S=(()=>{var q;class ${build(){return new XMLHttpRequest}}return(q=$).\u0275fac=function(Z){return new(Z||q)},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac}),$})();const x=new l.InjectionToken("EventManagerPlugins");let o=(()=>{var q;class ${constructor(Z,be){this._zone=be,this._eventNameToPlugin=new Map,Z.forEach(le=>{le.manager=this}),this._plugins=Z.slice().reverse()}addEventListener(Z,be,le){return this._findPluginFor(be).addEventListener(Z,be,le)}getZone(){return this._zone}_findPluginFor(Z){let be=this._eventNameToPlugin.get(Z);if(be)return be;if(be=this._plugins.find(ce=>ce.supports(Z)),!be)throw new l.\u0275RuntimeError(5101,!1);return this._eventNameToPlugin.set(Z,be),be}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(x),l.\u0275\u0275inject(l.NgZone))},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac}),$})();class p{constructor($){this._doc=$}}const m="ng-app-id";let u=(()=>{var q;class ${constructor(Z,be,le,ce={}){this.doc=Z,this.appId=be,this.nonce=le,this.platformId=ce,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,n.isPlatformServer)(ce),this.resetHostNodes()}addStyles(Z){for(const be of Z)1===this.changeUsageCount(be,1)&&this.onStyleAdded(be)}removeStyles(Z){for(const be of Z)this.changeUsageCount(be,-1)<=0&&this.onStyleRemoved(be)}ngOnDestroy(){const Z=this.styleNodesInDOM;Z&&(Z.forEach(be=>be.remove()),Z.clear());for(const be of this.getAllStyles())this.onStyleRemoved(be);this.resetHostNodes()}addHost(Z){this.hostNodes.add(Z);for(const be of this.getAllStyles())this.addStyleToHost(Z,be)}removeHost(Z){this.hostNodes.delete(Z)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Z){for(const be of this.hostNodes)this.addStyleToHost(be,Z)}onStyleRemoved(Z){const be=this.styleRef;be.get(Z)?.elements?.forEach(le=>le.remove()),be.delete(Z)}collectServerRenderedStyles(){const Z=this.doc.head?.querySelectorAll(`style[${m}="${this.appId}"]`);if(Z?.length){const be=new Map;return Z.forEach(le=>{null!=le.textContent&&be.set(le.textContent,le)}),be}return null}changeUsageCount(Z,be){const le=this.styleRef;if(le.has(Z)){const ce=le.get(Z);return ce.usage+=be,ce.usage}return le.set(Z,{usage:be,elements:[]}),be}getStyleElement(Z,be){const le=this.styleNodesInDOM,ce=le?.get(be);if(ce?.parentNode===Z)return le.delete(be),ce.removeAttribute(m),ce;{const Re=this.doc.createElement("style");return this.nonce&&Re.setAttribute("nonce",this.nonce),Re.textContent=be,this.platformIsServer&&Re.setAttribute(m,this.appId),Re}}addStyleToHost(Z,be){const le=this.getStyleElement(Z,be);Z.appendChild(le);const ce=this.styleRef,Re=ce.get(be)?.elements;Re?Re.push(le):ce.set(be,{elements:[le],usage:1})}resetHostNodes(){const Z=this.hostNodes;Z.clear(),Z.add(this.doc.head)}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(n.DOCUMENT),l.\u0275\u0275inject(l.APP_ID),l.\u0275\u0275inject(l.CSP_NONCE,8),l.\u0275\u0275inject(l.PLATFORM_ID))},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac}),$})();const y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M=/%COMP%/g,P="%COMP%",B=`_nghost-${P}`,v=`_ngcontent-${P}`,U=new l.InjectionToken("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function he(q,$){return $.map(W=>W.replace(M,q))}let je=(()=>{var q;class ${constructor(Z,be,le,ce,Re,pe,ke,Je=null){this.eventManager=Z,this.sharedStylesHost=be,this.appId=le,this.removeStylesOnCompDestroy=ce,this.doc=Re,this.platformId=pe,this.ngZone=ke,this.nonce=Je,this.rendererByCompId=new Map,this.platformIsServer=(0,n.isPlatformServer)(pe),this.defaultRenderer=new Ze(Z,Re,ke,this.platformIsServer)}createRenderer(Z,be){if(!Z||!be)return this.defaultRenderer;this.platformIsServer&&be.encapsulation===l.ViewEncapsulation.ShadowDom&&(be={...be,encapsulation:l.ViewEncapsulation.Emulated});const le=this.getOrCreateRenderer(Z,be);return le instanceof Xe?le.applyToHost(Z):le instanceof we&&le.applyStyles(),le}getOrCreateRenderer(Z,be){const le=this.rendererByCompId;let ce=le.get(be.id);if(!ce){const Re=this.doc,pe=this.ngZone,ke=this.eventManager,Je=this.sharedStylesHost,mt=this.removeStylesOnCompDestroy,ft=this.platformIsServer;switch(be.encapsulation){case l.ViewEncapsulation.Emulated:ce=new Xe(ke,Je,be,this.appId,mt,Re,pe,ft);break;case l.ViewEncapsulation.ShadowDom:return new xe(ke,Je,Z,be,Re,pe,this.nonce,ft);default:ce=new we(ke,Je,be,mt,Re,pe,ft)}le.set(be.id,ce)}return ce}ngOnDestroy(){this.rendererByCompId.clear()}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(o),l.\u0275\u0275inject(u),l.\u0275\u0275inject(l.APP_ID),l.\u0275\u0275inject(U),l.\u0275\u0275inject(n.DOCUMENT),l.\u0275\u0275inject(l.PLATFORM_ID),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(l.CSP_NONCE))},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac}),$})();class Ze{constructor($,W,Z,be){this.eventManager=$,this.doc=W,this.ngZone=Z,this.platformIsServer=be,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($,W){return W?this.doc.createElementNS(y[W]||W,$):this.doc.createElement($)}createComment($){return this.doc.createComment($)}createText($){return this.doc.createTextNode($)}appendChild($,W){(de($)?$.content:$).appendChild(W)}insertBefore($,W,Z){$&&(de($)?$.content:$).insertBefore(W,Z)}removeChild($,W){$&&$.removeChild(W)}selectRootElement($,W){let Z="string"==typeof $?this.doc.querySelector($):$;if(!Z)throw new l.\u0275RuntimeError(-5104,!1);return W||(Z.textContent=""),Z}parentNode($){return $.parentNode}nextSibling($){return $.nextSibling}setAttribute($,W,Z,be){if(be){W=be+":"+W;const le=y[be];le?$.setAttributeNS(le,W,Z):$.setAttribute(W,Z)}else $.setAttribute(W,Z)}removeAttribute($,W,Z){if(Z){const be=y[Z];be?$.removeAttributeNS(be,W):$.removeAttribute(`${Z}:${W}`)}else $.removeAttribute(W)}addClass($,W){$.classList.add(W)}removeClass($,W){$.classList.remove(W)}setStyle($,W,Z,be){be&(l.RendererStyleFlags2.DashCase|l.RendererStyleFlags2.Important)?$.style.setProperty(W,Z,be&l.RendererStyleFlags2.Important?"important":""):$.style[W]=Z}removeStyle($,W,Z){Z&l.RendererStyleFlags2.DashCase?$.style.removeProperty(W):$.style[W]=""}setProperty($,W,Z){$[W]=Z}setValue($,W){$.nodeValue=W}listen($,W,Z){if("string"==typeof $&&!($=(0,n.\u0275getDOM)().getGlobalEventTarget(this.doc,$)))throw new Error(`Unsupported event target ${$} for event ${W}`);return this.eventManager.addEventListener($,W,this.decoratePreventDefault(Z))}decoratePreventDefault($){return W=>{if("__ngUnwrap__"===W)return $;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>$(W)):$(W))&&W.preventDefault()}}}function de(q){return"TEMPLATE"===q.tagName&&void 0!==q.content}class xe extends Ze{constructor($,W,Z,be,le,ce,Re,pe){super($,le,ce,pe),this.sharedStylesHost=W,this.hostEl=Z,this.shadowRoot=Z.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ke=he(be.id,be.styles);for(const Je of ke){const mt=document.createElement("style");Re&&mt.setAttribute("nonce",Re),mt.textContent=Je,this.shadowRoot.appendChild(mt)}}nodeOrShadowRoot($){return $===this.hostEl?this.shadowRoot:$}appendChild($,W){return super.appendChild(this.nodeOrShadowRoot($),W)}insertBefore($,W,Z){return super.insertBefore(this.nodeOrShadowRoot($),W,Z)}removeChild($,W){return super.removeChild(this.nodeOrShadowRoot($),W)}parentNode($){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class we extends Ze{constructor($,W,Z,be,le,ce,Re,pe){super($,le,ce,Re),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=be,this.styles=pe?he(pe,Z.styles):Z.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xe extends we{constructor($,W,Z,be,le,ce,Re,pe){const ke=be+"-"+Z.id;super($,W,Z,le,ce,Re,pe,ke),this.contentAttr=function ae(q){return v.replace(M,q)}(ke),this.hostAttr=function ne(q){return B.replace(M,q)}(ke)}applyToHost($){this.applyStyles(),this.setAttribute($,this.hostAttr,"")}createElement($,W){const Z=super.createElement($,W);return super.setAttribute(Z,this.contentAttr,""),Z}}let rt=(()=>{var q;class $ extends p{constructor(Z){super(Z)}supports(Z){return!0}addEventListener(Z,be,le){return Z.addEventListener(be,le,!1),()=>this.removeEventListener(Z,be,le)}removeEventListener(Z,be,le){return Z.removeEventListener(be,le)}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(n.DOCUMENT))},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac}),$})();const Me=["alt","control","meta","shift"],_e={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ge={alt:q=>q.altKey,control:q=>q.ctrlKey,meta:q=>q.metaKey,shift:q=>q.shiftKey};let G=(()=>{var q;class $ extends p{constructor(Z){super(Z)}supports(Z){return null!=$.parseEventName(Z)}addEventListener(Z,be,le){const ce=$.parseEventName(be),Re=$.eventCallback(ce.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,n.\u0275getDOM)().onAndCancel(Z,ce.domEventName,Re))}static parseEventName(Z){const be=Z.toLowerCase().split("."),le=be.shift();if(0===be.length||"keydown"!==le&&"keyup"!==le)return null;const ce=$._normalizeKey(be.pop());let Re="",pe=be.indexOf("code");if(pe>-1&&(be.splice(pe,1),Re="code."),Me.forEach(Je=>{const mt=be.indexOf(Je);mt>-1&&(be.splice(mt,1),Re+=Je+".")}),Re+=ce,0!=be.length||0===ce.length)return null;const ke={};return ke.domEventName=le,ke.fullKey=Re,ke}static matchEventFullKeyCode(Z,be){let le=_e[Z.key]||Z.key,ce="";return be.indexOf("code.")>-1&&(le=Z.code,ce="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),Me.forEach(Re=>{Re!==le&&(0,ge[Re])(Z)&&(ce+=Re+".")}),ce+=le,ce===be)}static eventCallback(Z,be,le){return ce=>{$.matchEventFullKeyCode(ce,Z)&&le.runGuarded(()=>be(ce))}}static _normalizeKey(Z){return"esc"===Z?"escape":Z}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(n.DOCUMENT))},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:q.\u0275fac}),$})();const oe=(0,l.createPlatformFactory)(l.platformCore,"browser",[{provide:l.PLATFORM_ID,useValue:n.\u0275PLATFORM_BROWSER_ID},{provide:l.PLATFORM_INITIALIZER,useValue:function Se(){h.makeCurrent()},multi:!0},{provide:n.DOCUMENT,useFactory:function Ve(){return(0,l.\u0275setDocument)(document),document},deps:[]}]),Pe=new l.InjectionToken(""),at=[{provide:l.\u0275TESTABILITY_GETTER,useClass:class k{addToWindow($){l.\u0275global.getAngularTestability=(Z,be=!0)=>{const le=$.findTestabilityInTree(Z,be);if(null==le)throw new l.\u0275RuntimeError(5103,!1);return le},l.\u0275global.getAllAngularTestabilities=()=>$.getAllTestabilities(),l.\u0275global.getAllAngularRootElements=()=>$.getAllRootElements(),l.\u0275global.frameworkStabilizers||(l.\u0275global.frameworkStabilizers=[]),l.\u0275global.frameworkStabilizers.push(Z=>{const be=l.\u0275global.getAllAngularTestabilities();let le=be.length,ce=!1;const Re=function(pe){ce=ce||pe,le--,0==le&&Z(ce)};be.forEach(pe=>{pe.whenStable(Re)})})}findTestabilityInTree($,W,Z){return null==W?null:$.getTestability(W)??(Z?(0,n.\u0275getDOM)().isShadowRoot(W)?this.findTestabilityInTree($,W.host,!0):this.findTestabilityInTree($,W.parentElement,!0):null)}},deps:[]},{provide:l.\u0275TESTABILITY,useClass:l.Testability,deps:[l.NgZone,l.TestabilityRegistry,l.\u0275TESTABILITY_GETTER]},{provide:l.Testability,useClass:l.Testability,deps:[l.NgZone,l.TestabilityRegistry,l.\u0275TESTABILITY_GETTER]}],gt=[{provide:l.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:l.ErrorHandler,useFactory:function re(){return new l.ErrorHandler},deps:[]},{provide:x,useClass:rt,multi:!0,deps:[n.DOCUMENT,l.NgZone,l.PLATFORM_ID]},{provide:x,useClass:G,multi:!0,deps:[n.DOCUMENT]},je,u,o,{provide:l.RendererFactory2,useExisting:je},{provide:n.XhrFactory,useClass:S,deps:[]},[]];let Mt=(()=>{var q;class ${constructor(Z){}static withServerTransition(Z){return{ngModule:$,providers:[{provide:l.APP_ID,useValue:Z.appId}]}}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(Pe,12))},q.\u0275mod=l.\u0275\u0275defineNgModule({type:q}),q.\u0275inj=l.\u0275\u0275defineInjector({providers:[...gt,...at],imports:[n.CommonModule,l.ApplicationModule]}),$})(),Rt=(()=>{var q;class ${constructor(Z){this._doc=Z}getTitle(){return this._doc.title}setTitle(Z){this._doc.title=Z||""}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(n.DOCUMENT))},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:function(Z){let be=null;return be=Z?new Z:function wt(){return new Rt((0,l.\u0275\u0275inject)(n.DOCUMENT))}(),be},providedIn:"root"}),$})();typeof window<"u"&&window;let Ie=(()=>{var q;class ${}return(q=$).\u0275fac=function(Z){return new(Z||q)},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:function(Z){let be=null;return be=Z?new(Z||q):l.\u0275\u0275inject(ie),be},providedIn:"root"}),$})(),ie=(()=>{var q;class $ extends Ie{constructor(Z){super(),this._doc=Z}sanitize(Z,be){if(null==be)return null;switch(Z){case l.SecurityContext.NONE:return be;case l.SecurityContext.HTML:return(0,l.\u0275allowSanitizationBypassAndThrow)(be,"HTML")?(0,l.\u0275unwrapSafeValue)(be):(0,l.\u0275_sanitizeHtml)(this._doc,String(be)).toString();case l.SecurityContext.STYLE:return(0,l.\u0275allowSanitizationBypassAndThrow)(be,"Style")?(0,l.\u0275unwrapSafeValue)(be):be;case l.SecurityContext.SCRIPT:if((0,l.\u0275allowSanitizationBypassAndThrow)(be,"Script"))return(0,l.\u0275unwrapSafeValue)(be);throw new l.\u0275RuntimeError(5200,!1);case l.SecurityContext.URL:return(0,l.\u0275allowSanitizationBypassAndThrow)(be,"URL")?(0,l.\u0275unwrapSafeValue)(be):(0,l.\u0275_sanitizeUrl)(String(be));case l.SecurityContext.RESOURCE_URL:if((0,l.\u0275allowSanitizationBypassAndThrow)(be,"ResourceURL"))return(0,l.\u0275unwrapSafeValue)(be);throw new l.\u0275RuntimeError(5201,!1);default:throw new l.\u0275RuntimeError(5202,!1)}}bypassSecurityTrustHtml(Z){return(0,l.\u0275bypassSanitizationTrustHtml)(Z)}bypassSecurityTrustStyle(Z){return(0,l.\u0275bypassSanitizationTrustStyle)(Z)}bypassSecurityTrustScript(Z){return(0,l.\u0275bypassSanitizationTrustScript)(Z)}bypassSecurityTrustUrl(Z){return(0,l.\u0275bypassSanitizationTrustUrl)(Z)}bypassSecurityTrustResourceUrl(Z){return(0,l.\u0275bypassSanitizationTrustResourceUrl)(Z)}}return(q=$).\u0275fac=function(Z){return new(Z||q)(l.\u0275\u0275inject(n.DOCUMENT))},q.\u0275prov=l.\u0275\u0275defineInjectable({token:q,factory:function(Z){let be=null;return be=Z?new Z:function Le(q){return new ie(q.get(n.DOCUMENT))}(l.\u0275\u0275inject(l.Injector)),be},providedIn:"root"}),$})()},7582:(ot,Te,T)=>{function x(Me,_e,ge,G){return new(ge||(ge=Promise))(function(z,ye){function Ge(Ve){try{re(G.next(Ve))}catch(He){ye(He)}}function Se(Ve){try{re(G.throw(Ve))}catch(He){ye(He)}}function re(Ve){Ve.done?z(Ve.value):function ee(z){return z instanceof ge?z:new ge(function(ye){ye(z)})}(Ve.value).then(Ge,Se)}re((G=G.apply(Me,_e||[])).next())})}function v(Me){return this instanceof v?(this.v=Me,this):new v(Me)}function I(Me,_e,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,G=ge.apply(Me,_e||[]),z=[];return ee={},ye("next"),ye("throw"),ye("return"),ee[Symbol.asyncIterator]=function(){return this},ee;function ye(oe){G[oe]&&(ee[oe]=function(Pe){return new Promise(function(at,gt){z.push([oe,Pe,at,gt])>1||Ge(oe,Pe)})})}function Ge(oe,Pe){try{!function Se(oe){oe.value instanceof v?Promise.resolve(oe.value.v).then(re,Ve):He(z[0][2],oe)}(G[oe](Pe))}catch(at){He(z[0][3],at)}}function re(oe){Ge("next",oe)}function Ve(oe){Ge("throw",oe)}function He(oe,Pe){oe(Pe),z.shift(),z.length&&Ge(z[0][0],z[0][1])}}function ae(Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,_e=Me[Symbol.asyncIterator];return _e?_e.call(Me):(Me=function u(Me){var _e="function"==typeof Symbol&&Symbol.iterator,ge=_e&&Me[_e],G=0;if(ge)return ge.call(Me);if(Me&&"number"==typeof Me.length)return{next:function(){return Me&&G>=Me.length&&(Me=void 0),{value:Me&&Me[G++],done:!Me}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Me),ge={},G("next"),G("throw"),G("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function G(z){ge[z]=Me[z]&&function(ye){return new Promise(function(Ge,Se){!function ee(z,ye,Ge,Se){Promise.resolve(Se).then(function(re){z({value:re,done:Ge})},ye)}(Ge,Se,(ye=Me[z](ye)).done,ye.value)})}}}T.d(Te,{FC:()=>I,KL:()=>ae,mG:()=>x,qq:()=>v}),"function"==typeof SuppressedError&&SuppressedError}}]);